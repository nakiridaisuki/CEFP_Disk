(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const y of h.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function co(e){const t=Object.create(null);for(const i of e.split(","))t[i]=1;return i=>i in t}const at={},Vn=[],Hr=()=>{},Bd=()=>!1,Ns=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),fo=e=>e.startsWith("onUpdate:"),Kt=Object.assign,ho=(e,t)=>{const i=e.indexOf(t);i>-1&&e.splice(i,1)},Hd=Object.prototype.hasOwnProperty,Ge=(e,t)=>Hd.call(e,t),Re=Array.isArray,Un=e=>Os(e)==="[object Map]",Tl=e=>Os(e)==="[object Set]",_e=e=>typeof e=="function",xt=e=>typeof e=="string",hn=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",Il=e=>(pt(e)||_e(e))&&_e(e.then)&&_e(e.catch),Rl=Object.prototype.toString,Os=e=>Rl.call(e),Md=e=>Os(e).slice(8,-1),Dl=e=>Os(e)==="[object Object]",po=e=>xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mi=co(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bs=e=>{const t=Object.create(null);return i=>t[i]||(t[i]=e(i))},jd=/-(\w)/g,vr=Bs(e=>e.replace(jd,(t,i)=>i?i.toUpperCase():"")),Ld=/\B([A-Z])/g,dn=Bs(e=>e.replace(Ld,"-$1").toLowerCase()),Hs=Bs(e=>e.charAt(0).toUpperCase()+e.slice(1)),va=Bs(e=>e?`on${Hs(e)}`:""),un=(e,t)=>!Object.is(e,t),os=(e,...t)=>{for(let i=0;i<e.length;i++)e[i](...t)},_l=(e,t,i,a=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:a,value:i})},Ma=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let cu;const Ms=()=>cu||(cu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function js(e){if(Re(e)){const t={};for(let i=0;i<e.length;i++){const a=e[i],u=xt(a)?Ud(a):js(a);if(u)for(const h in u)t[h]=u[h]}return t}else if(xt(e)||pt(e))return e}const kd=/;(?![^(]*\))/g,Kd=/:([^]+)/,Vd=/\/\*[^]*?\*\//g;function Ud(e){const t={};return e.replace(Vd,"").split(kd).forEach(i=>{if(i){const a=i.split(Kd);a.length>1&&(t[a[0].trim()]=a[1].trim())}}),t}function Or(e){let t="";if(xt(e))t=e;else if(Re(e))for(let i=0;i<e.length;i++){const a=Or(e[i]);a&&(t+=a+" ")}else if(pt(e))for(const i in e)e[i]&&(t+=i+" ");return t.trim()}const qd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",$d=co(qd);function Nl(e){return!!e||e===""}const Ol=e=>!!(e&&e.__v_isRef===!0),rt=e=>xt(e)?e:e==null?"":Re(e)||pt(e)&&(e.toString===Rl||!_e(e.toString))?Ol(e)?rt(e.value):JSON.stringify(e,Bl,2):String(e),Bl=(e,t)=>Ol(t)?Bl(e,t.value):Un(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((i,[a,u],h)=>(i[ya(a,h)+" =>"]=u,i),{})}:Tl(t)?{[`Set(${t.size})`]:[...t.values()].map(i=>ya(i))}:hn(t)?ya(t):pt(t)&&!Re(t)&&!Dl(t)?String(t):t,ya=(e,t="")=>{var i;return hn(e)?`Symbol(${(i=e.description)!=null?i:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let tr;class Wd{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=tr,!t&&tr&&(this.index=(tr.scopes||(tr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].pause();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,i;if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].resume();for(t=0,i=this.effects.length;t<i;t++)this.effects[t].resume()}}run(t){if(this._active){const i=tr;try{return tr=this,t()}finally{tr=i}}}on(){++this._on===1&&(this.prevScope=tr,tr=this)}off(){this._on>0&&--this._on===0&&(tr=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let i,a;for(i=0,a=this.effects.length;i<a;i++)this.effects[i].stop();for(this.effects.length=0,i=0,a=this.cleanups.length;i<a;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,a=this.scopes.length;i<a;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0}}}function zd(){return tr}let ut;const wa=new WeakSet;class Hl{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,tr&&tr.active&&tr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wa.has(this)&&(wa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||jl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fu(this),Ll(this);const t=ut,i=br;ut=this,br=!0;try{return this.fn()}finally{kl(this),ut=t,br=i,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)vo(t);this.deps=this.depsTail=void 0,fu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ja(this)&&this.run()}get dirty(){return ja(this)}}let Ml=0,vi,yi;function jl(e,t=!1){if(e.flags|=8,t){e.next=yi,yi=e;return}e.next=vi,vi=e}function go(){Ml++}function mo(){if(--Ml>0)return;if(yi){let t=yi;for(yi=void 0;t;){const i=t.next;t.next=void 0,t.flags&=-9,t=i}}let e;for(;vi;){let t=vi;for(vi=void 0;t;){const i=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(a){e||(e=a)}t=i}}if(e)throw e}function Ll(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function kl(e){let t,i=e.depsTail,a=i;for(;a;){const u=a.prevDep;a.version===-1?(a===i&&(i=u),vo(a),Gd(a)):t=a,a.dep.activeLink=a.prevActiveLink,a.prevActiveLink=void 0,a=u}e.deps=t,e.depsTail=i}function ja(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Kl(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Kl(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Pi)||(e.globalVersion=Pi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ja(e))))return;e.flags|=2;const t=e.dep,i=ut,a=br;ut=e,br=!0;try{Ll(e);const u=e.fn(e._value);(t.version===0||un(u,e._value))&&(e.flags|=128,e._value=u,t.version++)}catch(u){throw t.version++,u}finally{ut=i,br=a,kl(e),e.flags&=-3}}function vo(e,t=!1){const{dep:i,prevSub:a,nextSub:u}=e;if(a&&(a.nextSub=u,e.prevSub=void 0),u&&(u.prevSub=a,e.nextSub=void 0),i.subs===e&&(i.subs=a,!a&&i.computed)){i.computed.flags&=-5;for(let h=i.computed.deps;h;h=h.nextDep)vo(h,!0)}!t&&!--i.sc&&i.map&&i.map.delete(i.key)}function Gd(e){const{prevDep:t,nextDep:i}=e;t&&(t.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=t,e.nextDep=void 0)}let br=!0;const Vl=[];function zr(){Vl.push(br),br=!1}function Gr(){const e=Vl.pop();br=e===void 0?!0:e}function fu(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const i=ut;ut=void 0;try{t()}finally{ut=i}}}let Pi=0;class Yd{constructor(t,i){this.sub=t,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ut||!br||ut===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==ut)i=this.activeLink=new Yd(ut,this),ut.deps?(i.prevDep=ut.depsTail,ut.depsTail.nextDep=i,ut.depsTail=i):ut.deps=ut.depsTail=i,Ul(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const a=i.nextDep;a.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=a),i.prevDep=ut.depsTail,i.nextDep=void 0,ut.depsTail.nextDep=i,ut.depsTail=i,ut.deps===i&&(ut.deps=a)}return i}trigger(t){this.version++,Pi++,this.notify(t)}notify(t){go();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{mo()}}}function Ul(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let a=t.deps;a;a=a.nextDep)Ul(a)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const La=new WeakMap,Cn=Symbol(""),ka=Symbol(""),Ti=Symbol("");function Mt(e,t,i){if(br&&ut){let a=La.get(e);a||La.set(e,a=new Map);let u=a.get(i);u||(a.set(i,u=new yo),u.map=a,u.key=i),u.track()}}function qr(e,t,i,a,u,h){const y=La.get(e);if(!y){Pi++;return}const A=T=>{T&&T.trigger()};if(go(),t==="clear")y.forEach(A);else{const T=Re(e),O=T&&po(i);if(T&&i==="length"){const D=Number(a);y.forEach((C,j)=>{(j==="length"||j===Ti||!hn(j)&&j>=D)&&A(C)})}else switch((i!==void 0||y.has(void 0))&&A(y.get(i)),O&&A(y.get(Ti)),t){case"add":T?O&&A(y.get("length")):(A(y.get(Cn)),Un(e)&&A(y.get(ka)));break;case"delete":T||(A(y.get(Cn)),Un(e)&&A(y.get(ka)));break;case"set":Un(e)&&A(y.get(Cn));break}}mo()}function Bn(e){const t=Oe(e);return t===e?t:(Mt(t,"iterate",Ti),mr(e)?t:t.map(Dt))}function Ls(e){return Mt(e=Oe(e),"iterate",Ti),e}const Jd={__proto__:null,[Symbol.iterator](){return Sa(this,Symbol.iterator,Dt)},concat(...e){return Bn(this).concat(...e.map(t=>Re(t)?Bn(t):t))},entries(){return Sa(this,"entries",e=>(e[1]=Dt(e[1]),e))},every(e,t){return Vr(this,"every",e,t,void 0,arguments)},filter(e,t){return Vr(this,"filter",e,t,i=>i.map(Dt),arguments)},find(e,t){return Vr(this,"find",e,t,Dt,arguments)},findIndex(e,t){return Vr(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Vr(this,"findLast",e,t,Dt,arguments)},findLastIndex(e,t){return Vr(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Vr(this,"forEach",e,t,void 0,arguments)},includes(...e){return xa(this,"includes",e)},indexOf(...e){return xa(this,"indexOf",e)},join(e){return Bn(this).join(e)},lastIndexOf(...e){return xa(this,"lastIndexOf",e)},map(e,t){return Vr(this,"map",e,t,void 0,arguments)},pop(){return li(this,"pop")},push(...e){return li(this,"push",e)},reduce(e,...t){return hu(this,"reduce",e,t)},reduceRight(e,...t){return hu(this,"reduceRight",e,t)},shift(){return li(this,"shift")},some(e,t){return Vr(this,"some",e,t,void 0,arguments)},splice(...e){return li(this,"splice",e)},toReversed(){return Bn(this).toReversed()},toSorted(e){return Bn(this).toSorted(e)},toSpliced(...e){return Bn(this).toSpliced(...e)},unshift(...e){return li(this,"unshift",e)},values(){return Sa(this,"values",Dt)}};function Sa(e,t,i){const a=Ls(e),u=a[t]();return a!==e&&!mr(e)&&(u._next=u.next,u.next=()=>{const h=u._next();return h.value&&(h.value=i(h.value)),h}),u}const Xd=Array.prototype;function Vr(e,t,i,a,u,h){const y=Ls(e),A=y!==e&&!mr(e),T=y[t];if(T!==Xd[t]){const C=T.apply(e,h);return A?Dt(C):C}let O=i;y!==e&&(A?O=function(C,j){return i.call(this,Dt(C),j,e)}:i.length>2&&(O=function(C,j){return i.call(this,C,j,e)}));const D=T.call(y,O,a);return A&&u?u(D):D}function hu(e,t,i,a){const u=Ls(e);let h=i;return u!==e&&(mr(e)?i.length>3&&(h=function(y,A,T){return i.call(this,y,A,T,e)}):h=function(y,A,T){return i.call(this,y,Dt(A),T,e)}),u[t](h,...a)}function xa(e,t,i){const a=Oe(e);Mt(a,"iterate",Ti);const u=a[t](...i);return(u===-1||u===!1)&&xo(i[0])?(i[0]=Oe(i[0]),a[t](...i)):u}function li(e,t,i=[]){zr(),go();const a=Oe(e)[t].apply(e,i);return mo(),Gr(),a}const Qd=co("__proto__,__v_isRef,__isVue"),ql=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hn));function Zd(e){hn(e)||(e=String(e));const t=Oe(this);return Mt(t,"has",e),t.hasOwnProperty(e)}class $l{constructor(t=!1,i=!1){this._isReadonly=t,this._isShallow=i}get(t,i,a){if(i==="__v_skip")return t.__v_skip;const u=this._isReadonly,h=this._isShallow;if(i==="__v_isReactive")return!u;if(i==="__v_isReadonly")return u;if(i==="__v_isShallow")return h;if(i==="__v_raw")return a===(u?h?lp:Yl:h?Gl:zl).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(a)?t:void 0;const y=Re(t);if(!u){let T;if(y&&(T=Jd[i]))return T;if(i==="hasOwnProperty")return Zd}const A=Reflect.get(t,i,kt(t)?t:a);return(hn(i)?ql.has(i):Qd(i))||(u||Mt(t,"get",i),h)?A:kt(A)?y&&po(i)?A:A.value:pt(A)?u?Jl(A):yr(A):A}}class Wl extends $l{constructor(t=!1){super(!1,t)}set(t,i,a,u){let h=t[i];if(!this._isShallow){const T=ln(h);if(!mr(a)&&!ln(a)&&(h=Oe(h),a=Oe(a)),!Re(t)&&kt(h)&&!kt(a))return T?!1:(h.value=a,!0)}const y=Re(t)&&po(i)?Number(i)<t.length:Ge(t,i),A=Reflect.set(t,i,a,kt(t)?t:u);return t===Oe(u)&&(y?un(a,h)&&qr(t,"set",i,a):qr(t,"add",i,a)),A}deleteProperty(t,i){const a=Ge(t,i);t[i];const u=Reflect.deleteProperty(t,i);return u&&a&&qr(t,"delete",i,void 0),u}has(t,i){const a=Reflect.has(t,i);return(!hn(i)||!ql.has(i))&&Mt(t,"has",i),a}ownKeys(t){return Mt(t,"iterate",Re(t)?"length":Cn),Reflect.ownKeys(t)}}class ep extends $l{constructor(t=!1){super(!0,t)}set(t,i){return!0}deleteProperty(t,i){return!0}}const tp=new Wl,rp=new ep,np=new Wl(!0);const Ka=e=>e,ns=e=>Reflect.getPrototypeOf(e);function ip(e,t,i){return function(...a){const u=this.__v_raw,h=Oe(u),y=Un(h),A=e==="entries"||e===Symbol.iterator&&y,T=e==="keys"&&y,O=u[e](...a),D=i?Ka:t?xs:Dt;return!t&&Mt(h,"iterate",T?ka:Cn),{next(){const{value:C,done:j}=O.next();return j?{value:C,done:j}:{value:A?[D(C[0]),D(C[1])]:D(C),done:j}},[Symbol.iterator](){return this}}}}function is(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sp(e,t){const i={get(u){const h=this.__v_raw,y=Oe(h),A=Oe(u);e||(un(u,A)&&Mt(y,"get",u),Mt(y,"get",A));const{has:T}=ns(y),O=t?Ka:e?xs:Dt;if(T.call(y,u))return O(h.get(u));if(T.call(y,A))return O(h.get(A));h!==y&&h.get(u)},get size(){const u=this.__v_raw;return!e&&Mt(Oe(u),"iterate",Cn),Reflect.get(u,"size",u)},has(u){const h=this.__v_raw,y=Oe(h),A=Oe(u);return e||(un(u,A)&&Mt(y,"has",u),Mt(y,"has",A)),u===A?h.has(u):h.has(u)||h.has(A)},forEach(u,h){const y=this,A=y.__v_raw,T=Oe(A),O=t?Ka:e?xs:Dt;return!e&&Mt(T,"iterate",Cn),A.forEach((D,C)=>u.call(h,O(D),O(C),y))}};return Kt(i,e?{add:is("add"),set:is("set"),delete:is("delete"),clear:is("clear")}:{add(u){!t&&!mr(u)&&!ln(u)&&(u=Oe(u));const h=Oe(this);return ns(h).has.call(h,u)||(h.add(u),qr(h,"add",u,u)),this},set(u,h){!t&&!mr(h)&&!ln(h)&&(h=Oe(h));const y=Oe(this),{has:A,get:T}=ns(y);let O=A.call(y,u);O||(u=Oe(u),O=A.call(y,u));const D=T.call(y,u);return y.set(u,h),O?un(h,D)&&qr(y,"set",u,h):qr(y,"add",u,h),this},delete(u){const h=Oe(this),{has:y,get:A}=ns(h);let T=y.call(h,u);T||(u=Oe(u),T=y.call(h,u)),A&&A.call(h,u);const O=h.delete(u);return T&&qr(h,"delete",u,void 0),O},clear(){const u=Oe(this),h=u.size!==0,y=u.clear();return h&&qr(u,"clear",void 0,void 0),y}}),["keys","values","entries",Symbol.iterator].forEach(u=>{i[u]=ip(u,e,t)}),i}function wo(e,t){const i=sp(e,t);return(a,u,h)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?a:Reflect.get(Ge(i,u)&&u in a?i:a,u,h)}const ap={get:wo(!1,!1)},op={get:wo(!1,!0)},up={get:wo(!0,!1)};const zl=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,lp=new WeakMap;function cp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fp(e){return e.__v_skip||!Object.isExtensible(e)?0:cp(Md(e))}function yr(e){return ln(e)?e:So(e,!1,tp,ap,zl)}function hp(e){return So(e,!1,np,op,Gl)}function Jl(e){return So(e,!0,rp,up,Yl)}function So(e,t,i,a,u){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const h=fp(e);if(h===0)return e;const y=u.get(e);if(y)return y;const A=new Proxy(e,h===2?a:i);return u.set(e,A),A}function qn(e){return ln(e)?qn(e.__v_raw):!!(e&&e.__v_isReactive)}function ln(e){return!!(e&&e.__v_isReadonly)}function mr(e){return!!(e&&e.__v_isShallow)}function xo(e){return e?!!e.__v_raw:!1}function Oe(e){const t=e&&e.__v_raw;return t?Oe(t):e}function dp(e){return!Ge(e,"__v_skip")&&Object.isExtensible(e)&&_l(e,"__v_skip",!0),e}const Dt=e=>pt(e)?yr(e):e,xs=e=>pt(e)?Jl(e):e;function kt(e){return e?e.__v_isRef===!0:!1}function Fn(e){return Xl(e,!1)}function pp(e){return Xl(e,!0)}function Xl(e,t){return kt(e)?e:new gp(e,t)}class gp{constructor(t,i){this.dep=new yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?t:Oe(t),this._value=i?t:Dt(t),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(t){const i=this._rawValue,a=this.__v_isShallow||mr(t)||ln(t);t=a?t:Oe(t),un(t,i)&&(this._rawValue=t,this._value=a?t:Dt(t),this.dep.trigger())}}function wi(e){return kt(e)?e.value:e}const mp={get:(e,t,i)=>t==="__v_raw"?e:wi(Reflect.get(e,t,i)),set:(e,t,i,a)=>{const u=e[t];return kt(u)&&!kt(i)?(u.value=i,!0):Reflect.set(e,t,i,a)}};function Ql(e){return qn(e)?e:new Proxy(e,mp)}class vp{constructor(t,i,a){this.fn=t,this.setter=i,this._value=void 0,this.dep=new yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Pi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=a}notify(){if(this.flags|=16,!(this.flags&8)&&ut!==this)return jl(this,!0),!0}get value(){const t=this.dep.track();return Kl(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function yp(e,t,i=!1){let a,u;return _e(e)?a=e:(a=e.get,u=e.set),new vp(a,u,i)}const ss={},bs=new WeakMap;let xn;function wp(e,t=!1,i=xn){if(i){let a=bs.get(i);a||bs.set(i,a=[]),a.push(e)}}function Sp(e,t,i=at){const{immediate:a,deep:u,once:h,scheduler:y,augmentJob:A,call:T}=i,O=fe=>u?fe:mr(fe)||u===!1||u===0?$r(fe,1):$r(fe);let D,C,j,G,W=!1,X=!1;if(kt(e)?(C=()=>e.value,W=mr(e)):qn(e)?(C=()=>O(e),W=!0):Re(e)?(X=!0,W=e.some(fe=>qn(fe)||mr(fe)),C=()=>e.map(fe=>{if(kt(fe))return fe.value;if(qn(fe))return O(fe);if(_e(fe))return T?T(fe,2):fe()})):_e(e)?t?C=T?()=>T(e,2):e:C=()=>{if(j){zr();try{j()}finally{Gr()}}const fe=xn;xn=D;try{return T?T(e,3,[G]):e(G)}finally{xn=fe}}:C=Hr,t&&u){const fe=C,xe=u===!0?1/0:u;C=()=>$r(fe(),xe)}const re=zd(),he=()=>{D.stop(),re&&re.active&&ho(re.effects,D)};if(h&&t){const fe=t;t=(...xe)=>{fe(...xe),he()}}let ce=X?new Array(e.length).fill(ss):ss;const ye=fe=>{if(!(!(D.flags&1)||!D.dirty&&!fe))if(t){const xe=D.run();if(u||W||(X?xe.some((De,Ke)=>un(De,ce[Ke])):un(xe,ce))){j&&j();const De=xn;xn=D;try{const Ke=[xe,ce===ss?void 0:X&&ce[0]===ss?[]:ce,G];T?T(t,3,Ke):t(...Ke),ce=xe}finally{xn=De}}}else D.run()};return A&&A(ye),D=new Hl(C),D.scheduler=y?()=>y(ye,!1):ye,G=fe=>wp(fe,!1,D),j=D.onStop=()=>{const fe=bs.get(D);if(fe){if(T)T(fe,4);else for(const xe of fe)xe();bs.delete(D)}},t?a?ye(!0):ce=D.run():y?y(ye.bind(null,!0),!0):D.run(),he.pause=D.pause.bind(D),he.resume=D.resume.bind(D),he.stop=he,he}function $r(e,t=1/0,i){if(t<=0||!pt(e)||e.__v_skip||(i=i||new Set,i.has(e)))return e;if(i.add(e),t--,kt(e))$r(e.value,t,i);else if(Re(e))for(let a=0;a<e.length;a++)$r(e[a],t,i);else if(Tl(e)||Un(e))e.forEach(a=>{$r(a,t,i)});else if(Dl(e)){for(const a in e)$r(e[a],t,i);for(const a of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,a)&&$r(e[a],t,i)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Mi(e,t,i,a){try{return a?e(...a):e()}catch(u){ks(u,t,i)}}function Mr(e,t,i,a){if(_e(e)){const u=Mi(e,t,i,a);return u&&Il(u)&&u.catch(h=>{ks(h,t,i)}),u}if(Re(e)){const u=[];for(let h=0;h<e.length;h++)u.push(Mr(e[h],t,i,a));return u}}function ks(e,t,i,a=!0){const u=t?t.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:y}=t&&t.appContext.config||at;if(t){let A=t.parent;const T=t.proxy,O=`https://vuejs.org/error-reference/#runtime-${i}`;for(;A;){const D=A.ec;if(D){for(let C=0;C<D.length;C++)if(D[C](e,T,O)===!1)return}A=A.parent}if(h){zr(),Mi(h,null,10,[e,T,O]),Gr();return}}xp(e,i,u,a,y)}function xp(e,t,i,a=!0,u=!1){if(u)throw e;console.error(e)}const Gt=[];let _r=-1;const $n=[];let sn=null,jn=0;const Zl=Promise.resolve();let Es=null;function ji(e){const t=Es||Zl;return e?t.then(this?e.bind(this):e):t}function bp(e){let t=_r+1,i=Gt.length;for(;t<i;){const a=t+i>>>1,u=Gt[a],h=Ii(u);h<e||h===e&&u.flags&2?t=a+1:i=a}return t}function bo(e){if(!(e.flags&1)){const t=Ii(e),i=Gt[Gt.length-1];!i||!(e.flags&2)&&t>=Ii(i)?Gt.push(e):Gt.splice(bp(t),0,e),e.flags|=1,ec()}}function ec(){Es||(Es=Zl.then(rc))}function Ep(e){Re(e)?$n.push(...e):sn&&e.id===-1?sn.splice(jn+1,0,e):e.flags&1||($n.push(e),e.flags|=1),ec()}function du(e,t,i=_r+1){for(;i<Gt.length;i++){const a=Gt[i];if(a&&a.flags&2){if(e&&a.id!==e.uid)continue;Gt.splice(i,1),i--,a.flags&4&&(a.flags&=-2),a(),a.flags&4||(a.flags&=-2)}}}function tc(e){if($n.length){const t=[...new Set($n)].sort((i,a)=>Ii(i)-Ii(a));if($n.length=0,sn){sn.push(...t);return}for(sn=t,jn=0;jn<sn.length;jn++){const i=sn[jn];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}sn=null,jn=0}}const Ii=e=>e.id==null?e.flags&2?-1:1/0:e.id;function rc(e){try{for(_r=0;_r<Gt.length;_r++){const t=Gt[_r];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Mi(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;_r<Gt.length;_r++){const t=Gt[_r];t&&(t.flags&=-2)}_r=-1,Gt.length=0,tc(),Es=null,(Gt.length||$n.length)&&rc()}}let lr=null,nc=null;function Fs(e){const t=lr;return lr=e,nc=e&&e.type.__scopeId||null,t}function Eo(e,t=lr,i){if(!t||e._n)return e;const a=(...u)=>{a._d&&Cu(-1);const h=Fs(t);let y;try{y=e(...u)}finally{Fs(h),a._d&&Cu(1)}return y};return a._n=!0,a._c=!0,a._d=!0,a}function Pn(e,t){if(lr===null)return e;const i=$s(lr),a=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[h,y,A,T=at]=t[u];h&&(_e(h)&&(h={mounted:h,updated:h}),h.deep&&$r(y),a.push({dir:h,instance:i,value:y,oldValue:void 0,arg:A,modifiers:T}))}return e}function wn(e,t,i,a){const u=e.dirs,h=t&&t.dirs;for(let y=0;y<u.length;y++){const A=u[y];h&&(A.oldValue=h[y].value);let T=A.dir[a];T&&(zr(),Mr(T,i,8,[e.el,A,e,t]),Gr())}}const ic=Symbol("_vte"),Fp=e=>e.__isTeleport,Si=e=>e&&(e.disabled||e.disabled===""),pu=e=>e&&(e.defer||e.defer===""),gu=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mu=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Va=(e,t)=>{const i=e&&e.to;return xt(i)?t?t(i):null:i},sc={name:"Teleport",__isTeleport:!0,process(e,t,i,a,u,h,y,A,T,O){const{mc:D,pc:C,pbc:j,o:{insert:G,querySelector:W,createText:X,createComment:re}}=O,he=Si(t.props);let{shapeFlag:ce,children:ye,dynamicChildren:fe}=t;if(e==null){const xe=t.el=X(""),De=t.anchor=X("");G(xe,i,a),G(De,i,a);const Ke=(Ue,At)=>{ce&16&&(u&&u.isCE&&(u.ce._teleportTarget=Ue),D(ye,Ue,At,u,h,y,A,T))},ct=()=>{const Ue=t.target=Va(t.props,W),At=ac(Ue,t,X,G);Ue&&(y!=="svg"&&gu(Ue)?y="svg":y!=="mathml"&&mu(Ue)&&(y="mathml"),he||(Ke(Ue,At),us(t,!1)))};he&&(Ke(i,De),us(t,!0)),pu(t.props)?zt(()=>{ct(),t.el.__isMounted=!0},h):ct()}else{if(pu(t.props)&&!e.el.__isMounted){zt(()=>{sc.process(e,t,i,a,u,h,y,A,T,O),delete e.el.__isMounted},h);return}t.el=e.el,t.targetStart=e.targetStart;const xe=t.anchor=e.anchor,De=t.target=e.target,Ke=t.targetAnchor=e.targetAnchor,ct=Si(e.props),Ue=ct?i:De,At=ct?xe:Ke;if(y==="svg"||gu(De)?y="svg":(y==="mathml"||mu(De))&&(y="mathml"),fe?(j(e.dynamicChildren,fe,Ue,u,h,y,A),To(e,t,!0)):T||C(e,t,Ue,At,u,h,y,A,!1),he)ct?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):as(t,i,xe,O,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ir=t.target=Va(t.props,W);ir&&as(t,ir,null,O,0)}else ct&&as(t,De,Ke,O,1);us(t,he)}},remove(e,t,i,{um:a,o:{remove:u}},h){const{shapeFlag:y,children:A,anchor:T,targetStart:O,targetAnchor:D,target:C,props:j}=e;if(C&&(u(O),u(D)),h&&u(T),y&16){const G=h||!Si(j);for(let W=0;W<A.length;W++){const X=A[W];a(X,t,i,G,!!X.dynamicChildren)}}},move:as,hydrate:Ap};function as(e,t,i,{o:{insert:a},m:u},h=2){h===0&&a(e.targetAnchor,t,i);const{el:y,anchor:A,shapeFlag:T,children:O,props:D}=e,C=h===2;if(C&&a(y,t,i),(!C||Si(D))&&T&16)for(let j=0;j<O.length;j++)u(O[j],t,i,2);C&&a(A,t,i)}function Ap(e,t,i,a,u,h,{o:{nextSibling:y,parentNode:A,querySelector:T,insert:O,createText:D}},C){const j=t.target=Va(t.props,T);if(j){const G=Si(t.props),W=j._lpa||j.firstChild;if(t.shapeFlag&16)if(G)t.anchor=C(y(e),t,A(e),i,a,u,h),t.targetStart=W,t.targetAnchor=W&&y(W);else{t.anchor=y(e);let X=W;for(;X;){if(X&&X.nodeType===8){if(X.data==="teleport start anchor")t.targetStart=X;else if(X.data==="teleport anchor"){t.targetAnchor=X,j._lpa=t.targetAnchor&&y(t.targetAnchor);break}}X=y(X)}t.targetAnchor||ac(j,t,D,O),C(W&&y(W),t,j,i,a,u,h)}us(t,G)}return t.anchor&&y(t.anchor)}const Cp=sc;function us(e,t){const i=e.ctx;if(i&&i.ut){let a,u;for(t?(a=e.el,u=e.anchor):(a=e.targetStart,u=e.targetAnchor);a&&a!==u;)a.nodeType===1&&a.setAttribute("data-v-owner",i.uid),a=a.nextSibling;i.ut()}}function ac(e,t,i,a){const u=t.targetStart=i(""),h=t.targetAnchor=i("");return u[ic]=h,e&&(a(u,e),a(h,e)),h}function Fo(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Fo(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Zn(e,t){return _e(e)?Kt({name:e.name},t,{setup:e}):e}function oc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function As(e,t,i,a,u=!1){if(Re(e)){e.forEach((W,X)=>As(W,t&&(Re(t)?t[X]:t),i,a,u));return}if(xi(a)&&!u){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&As(e,t,i,a.component.subTree);return}const h=a.shapeFlag&4?$s(a.component):a.el,y=u?null:h,{i:A,r:T}=e,O=t&&t.r,D=A.refs===at?A.refs={}:A.refs,C=A.setupState,j=Oe(C),G=C===at?()=>!1:W=>Ge(j,W);if(O!=null&&O!==T&&(xt(O)?(D[O]=null,G(O)&&(C[O]=null)):kt(O)&&(O.value=null)),_e(T))Mi(T,A,12,[y,D]);else{const W=xt(T),X=kt(T);if(W||X){const re=()=>{if(e.f){const he=W?G(T)?C[T]:D[T]:T.value;u?Re(he)&&ho(he,h):Re(he)?he.includes(h)||he.push(h):W?(D[T]=[h],G(T)&&(C[T]=D[T])):(T.value=[h],e.k&&(D[e.k]=T.value))}else W?(D[T]=y,G(T)&&(C[T]=y)):X&&(T.value=y,e.k&&(D[e.k]=y))};y?(re.id=-1,zt(re,i)):re()}}}Ms().requestIdleCallback;Ms().cancelIdleCallback;const xi=e=>!!e.type.__asyncLoader,uc=e=>e.type.__isKeepAlive;function Pp(e,t){lc(e,"a",t)}function Tp(e,t){lc(e,"da",t)}function lc(e,t,i=jt){const a=e.__wdc||(e.__wdc=()=>{let u=i;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(Ks(t,a,i),i){let u=i.parent;for(;u&&u.parent;)uc(u.parent.vnode)&&Ip(a,t,i,u),u=u.parent}}function Ip(e,t,i,a){const u=Ks(t,e,a,!0);Vs(()=>{ho(a[t],u)},i)}function Ks(e,t,i=jt,a=!1){if(i){const u=i[e]||(i[e]=[]),h=t.__weh||(t.__weh=(...y)=>{zr();const A=Li(i),T=Mr(t,i,e,y);return A(),Gr(),T});return a?u.unshift(h):u.push(h),h}}const Yr=e=>(t,i=jt)=>{(!_i||e==="sp")&&Ks(e,(...a)=>t(...a),i)},Rp=Yr("bm"),Ao=Yr("m"),Dp=Yr("bu"),_p=Yr("u"),Np=Yr("bum"),Vs=Yr("um"),Op=Yr("sp"),Bp=Yr("rtg"),Hp=Yr("rtc");function Mp(e,t=jt){Ks("ec",e,t)}const jp="components";function Br(e,t){return kp(jp,e,!0,t)||e}const Lp=Symbol.for("v-ndc");function kp(e,t,i=!0,a=!1){const u=lr||jt;if(u){const h=u.type;{const A=A1(h,!1);if(A&&(A===t||A===vr(t)||A===Hs(vr(t))))return h}const y=vu(u[e]||h[e],t)||vu(u.appContext[e],t);return!y&&a?h:y}}function vu(e,t){return e&&(e[t]||e[vr(t)]||e[Hs(vr(t))])}function Ua(e,t,i,a){let u;const h=i,y=Re(e);if(y||xt(e)){const A=y&&qn(e);let T=!1,O=!1;A&&(T=!mr(e),O=ln(e),e=Ls(e)),u=new Array(e.length);for(let D=0,C=e.length;D<C;D++)u[D]=t(T?O?xs(Dt(e[D])):Dt(e[D]):e[D],D,void 0,h)}else if(typeof e=="number"){u=new Array(e);for(let A=0;A<e;A++)u[A]=t(A+1,A,void 0,h)}else if(pt(e))if(e[Symbol.iterator])u=Array.from(e,(A,T)=>t(A,T,void 0,h));else{const A=Object.keys(e);u=new Array(A.length);for(let T=0,O=A.length;T<O;T++){const D=A[T];u[T]=t(e[D],D,T,h)}}else u=[];return u}const qa=e=>e?Pc(e)?$s(e):qa(e.parent):null,bi=Kt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>qa(e.parent),$root:e=>qa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fc(e),$forceUpdate:e=>e.f||(e.f=()=>{bo(e.update)}),$nextTick:e=>e.n||(e.n=ji.bind(e.proxy)),$watch:e=>o1.bind(e)}),ba=(e,t)=>e!==at&&!e.__isScriptSetup&&Ge(e,t),Kp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:i,setupState:a,data:u,props:h,accessCache:y,type:A,appContext:T}=e;let O;if(t[0]!=="$"){const G=y[t];if(G!==void 0)switch(G){case 1:return a[t];case 2:return u[t];case 4:return i[t];case 3:return h[t]}else{if(ba(a,t))return y[t]=1,a[t];if(u!==at&&Ge(u,t))return y[t]=2,u[t];if((O=e.propsOptions[0])&&Ge(O,t))return y[t]=3,h[t];if(i!==at&&Ge(i,t))return y[t]=4,i[t];$a&&(y[t]=0)}}const D=bi[t];let C,j;if(D)return t==="$attrs"&&Mt(e.attrs,"get",""),D(e);if((C=A.__cssModules)&&(C=C[t]))return C;if(i!==at&&Ge(i,t))return y[t]=4,i[t];if(j=T.config.globalProperties,Ge(j,t))return j[t]},set({_:e},t,i){const{data:a,setupState:u,ctx:h}=e;return ba(u,t)?(u[t]=i,!0):a!==at&&Ge(a,t)?(a[t]=i,!0):Ge(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(h[t]=i,!0)},has({_:{data:e,setupState:t,accessCache:i,ctx:a,appContext:u,propsOptions:h}},y){let A;return!!i[y]||e!==at&&Ge(e,y)||ba(t,y)||(A=h[0])&&Ge(A,y)||Ge(a,y)||Ge(bi,y)||Ge(u.config.globalProperties,y)},defineProperty(e,t,i){return i.get!=null?e._.accessCache[t]=0:Ge(i,"value")&&this.set(e,t,i.value,null),Reflect.defineProperty(e,t,i)}};function yu(e){return Re(e)?e.reduce((t,i)=>(t[i]=null,t),{}):e}let $a=!0;function Vp(e){const t=fc(e),i=e.proxy,a=e.ctx;$a=!1,t.beforeCreate&&wu(t.beforeCreate,e,"bc");const{data:u,computed:h,methods:y,watch:A,provide:T,inject:O,created:D,beforeMount:C,mounted:j,beforeUpdate:G,updated:W,activated:X,deactivated:re,beforeDestroy:he,beforeUnmount:ce,destroyed:ye,unmounted:fe,render:xe,renderTracked:De,renderTriggered:Ke,errorCaptured:ct,serverPrefetch:Ue,expose:At,inheritAttrs:ir,components:Cr,directives:Xr,filters:Lr}=t;if(O&&Up(O,a,null),y)for(const Je in y){const We=y[Je];_e(We)&&(a[Je]=We.bind(i))}if(u){const Je=u.call(i,i);pt(Je)&&(e.data=yr(Je))}if($a=!0,h)for(const Je in h){const We=h[Je],sr=_e(We)?We.bind(i,i):_e(We.get)?We.get.bind(i,i):Hr,kr=!_e(We)&&_e(We.set)?We.set.bind(i):Hr,ar=lt({get:sr,set:kr});Object.defineProperty(a,Je,{enumerable:!0,configurable:!0,get:()=>ar.value,set:Nt=>ar.value=Nt})}if(A)for(const Je in A)cc(A[Je],a,i,Je);if(T){const Je=_e(T)?T.call(i):T;Reflect.ownKeys(Je).forEach(We=>{ls(We,Je[We])})}D&&wu(D,e,"c");function ft(Je,We){Re(We)?We.forEach(sr=>Je(sr.bind(i))):We&&Je(We.bind(i))}if(ft(Rp,C),ft(Ao,j),ft(Dp,G),ft(_p,W),ft(Pp,X),ft(Tp,re),ft(Mp,ct),ft(Hp,De),ft(Bp,Ke),ft(Np,ce),ft(Vs,fe),ft(Op,Ue),Re(At))if(At.length){const Je=e.exposed||(e.exposed={});At.forEach(We=>{Object.defineProperty(Je,We,{get:()=>i[We],set:sr=>i[We]=sr})})}else e.exposed||(e.exposed={});xe&&e.render===Hr&&(e.render=xe),ir!=null&&(e.inheritAttrs=ir),Cr&&(e.components=Cr),Xr&&(e.directives=Xr),Ue&&oc(e)}function Up(e,t,i=Hr){Re(e)&&(e=Wa(e));for(const a in e){const u=e[a];let h;pt(u)?"default"in u?h=Wr(u.from||a,u.default,!0):h=Wr(u.from||a):h=Wr(u),kt(h)?Object.defineProperty(t,a,{enumerable:!0,configurable:!0,get:()=>h.value,set:y=>h.value=y}):t[a]=h}}function wu(e,t,i){Mr(Re(e)?e.map(a=>a.bind(t.proxy)):e.bind(t.proxy),t,i)}function cc(e,t,i,a){let u=a.includes(".")?bc(i,a):()=>i[a];if(xt(e)){const h=t[e];_e(h)&&fs(u,h)}else if(_e(e))fs(u,e.bind(i));else if(pt(e))if(Re(e))e.forEach(h=>cc(h,t,i,a));else{const h=_e(e.handler)?e.handler.bind(i):t[e.handler];_e(h)&&fs(u,h,e)}}function fc(e){const t=e.type,{mixins:i,extends:a}=t,{mixins:u,optionsCache:h,config:{optionMergeStrategies:y}}=e.appContext,A=h.get(t);let T;return A?T=A:!u.length&&!i&&!a?T=t:(T={},u.length&&u.forEach(O=>Cs(T,O,y,!0)),Cs(T,t,y)),pt(t)&&h.set(t,T),T}function Cs(e,t,i,a=!1){const{mixins:u,extends:h}=t;h&&Cs(e,h,i,!0),u&&u.forEach(y=>Cs(e,y,i,!0));for(const y in t)if(!(a&&y==="expose")){const A=qp[y]||i&&i[y];e[y]=A?A(e[y],t[y]):t[y]}return e}const qp={data:Su,props:xu,emits:xu,methods:gi,computed:gi,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:gi,directives:gi,watch:Wp,provide:Su,inject:$p};function Su(e,t){return t?e?function(){return Kt(_e(e)?e.call(this,this):e,_e(t)?t.call(this,this):t)}:t:e}function $p(e,t){return gi(Wa(e),Wa(t))}function Wa(e){if(Re(e)){const t={};for(let i=0;i<e.length;i++)t[e[i]]=e[i];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function gi(e,t){return e?Kt(Object.create(null),e,t):t}function xu(e,t){return e?Re(e)&&Re(t)?[...new Set([...e,...t])]:Kt(Object.create(null),yu(e),yu(t??{})):t}function Wp(e,t){if(!e)return t;if(!t)return e;const i=Kt(Object.create(null),e);for(const a in t)i[a]=Wt(e[a],t[a]);return i}function hc(){return{app:null,config:{isNativeTag:Bd,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zp=0;function Gp(e,t){return function(a,u=null){_e(a)||(a=Kt({},a)),u!=null&&!pt(u)&&(u=null);const h=hc(),y=new WeakSet,A=[];let T=!1;const O=h.app={_uid:zp++,_component:a,_props:u,_container:null,_context:h,_instance:null,version:P1,get config(){return h.config},set config(D){},use(D,...C){return y.has(D)||(D&&_e(D.install)?(y.add(D),D.install(O,...C)):_e(D)&&(y.add(D),D(O,...C))),O},mixin(D){return h.mixins.includes(D)||h.mixins.push(D),O},component(D,C){return C?(h.components[D]=C,O):h.components[D]},directive(D,C){return C?(h.directives[D]=C,O):h.directives[D]},mount(D,C,j){if(!T){const G=O._ceVNode||Be(a,u);return G.appContext=h,j===!0?j="svg":j===!1&&(j=void 0),e(G,D,j),T=!0,O._container=D,D.__vue_app__=O,$s(G.component)}},onUnmount(D){A.push(D)},unmount(){T&&(Mr(A,O._instance,16),e(null,O._container),delete O._container.__vue_app__)},provide(D,C){return h.provides[D]=C,O},runWithContext(D){const C=Wn;Wn=O;try{return D()}finally{Wn=C}}};return O}}let Wn=null;function ls(e,t){if(jt){let i=jt.provides;const a=jt.parent&&jt.parent.provides;a===i&&(i=jt.provides=Object.create(a)),i[e]=t}}function Wr(e,t,i=!1){const a=jt||lr;if(a||Wn){const u=Wn?Wn._context.provides:a?a.parent==null?a.vnode.appContext&&a.vnode.appContext.provides:a.parent.provides:void 0;if(u&&e in u)return u[e];if(arguments.length>1)return i&&_e(t)?t.call(a&&a.proxy):t}}const dc={},pc=()=>Object.create(dc),gc=e=>Object.getPrototypeOf(e)===dc;function Yp(e,t,i,a=!1){const u={},h=pc();e.propsDefaults=Object.create(null),mc(e,t,u,h);for(const y in e.propsOptions[0])y in u||(u[y]=void 0);i?e.props=a?u:hp(u):e.type.props?e.props=u:e.props=h,e.attrs=h}function Jp(e,t,i,a){const{props:u,attrs:h,vnode:{patchFlag:y}}=e,A=Oe(u),[T]=e.propsOptions;let O=!1;if((a||y>0)&&!(y&16)){if(y&8){const D=e.vnode.dynamicProps;for(let C=0;C<D.length;C++){let j=D[C];if(Us(e.emitsOptions,j))continue;const G=t[j];if(T)if(Ge(h,j))G!==h[j]&&(h[j]=G,O=!0);else{const W=vr(j);u[W]=za(T,A,W,G,e,!1)}else G!==h[j]&&(h[j]=G,O=!0)}}}else{mc(e,t,u,h)&&(O=!0);let D;for(const C in A)(!t||!Ge(t,C)&&((D=dn(C))===C||!Ge(t,D)))&&(T?i&&(i[C]!==void 0||i[D]!==void 0)&&(u[C]=za(T,A,C,void 0,e,!0)):delete u[C]);if(h!==A)for(const C in h)(!t||!Ge(t,C))&&(delete h[C],O=!0)}O&&qr(e.attrs,"set","")}function mc(e,t,i,a){const[u,h]=e.propsOptions;let y=!1,A;if(t)for(let T in t){if(mi(T))continue;const O=t[T];let D;u&&Ge(u,D=vr(T))?!h||!h.includes(D)?i[D]=O:(A||(A={}))[D]=O:Us(e.emitsOptions,T)||(!(T in a)||O!==a[T])&&(a[T]=O,y=!0)}if(h){const T=Oe(i),O=A||at;for(let D=0;D<h.length;D++){const C=h[D];i[C]=za(u,T,C,O[C],e,!Ge(O,C))}}return y}function za(e,t,i,a,u,h){const y=e[i];if(y!=null){const A=Ge(y,"default");if(A&&a===void 0){const T=y.default;if(y.type!==Function&&!y.skipFactory&&_e(T)){const{propsDefaults:O}=u;if(i in O)a=O[i];else{const D=Li(u);a=O[i]=T.call(null,t),D()}}else a=T;u.ce&&u.ce._setProp(i,a)}y[0]&&(h&&!A?a=!1:y[1]&&(a===""||a===dn(i))&&(a=!0))}return a}const Xp=new WeakMap;function vc(e,t,i=!1){const a=i?Xp:t.propsCache,u=a.get(e);if(u)return u;const h=e.props,y={},A=[];let T=!1;if(!_e(e)){const D=C=>{T=!0;const[j,G]=vc(C,t,!0);Kt(y,j),G&&A.push(...G)};!i&&t.mixins.length&&t.mixins.forEach(D),e.extends&&D(e.extends),e.mixins&&e.mixins.forEach(D)}if(!h&&!T)return pt(e)&&a.set(e,Vn),Vn;if(Re(h))for(let D=0;D<h.length;D++){const C=vr(h[D]);bu(C)&&(y[C]=at)}else if(h)for(const D in h){const C=vr(D);if(bu(C)){const j=h[D],G=y[C]=Re(j)||_e(j)?{type:j}:Kt({},j),W=G.type;let X=!1,re=!0;if(Re(W))for(let he=0;he<W.length;++he){const ce=W[he],ye=_e(ce)&&ce.name;if(ye==="Boolean"){X=!0;break}else ye==="String"&&(re=!1)}else X=_e(W)&&W.name==="Boolean";G[0]=X,G[1]=re,(X||Ge(G,"default"))&&A.push(C)}}const O=[y,A];return pt(e)&&a.set(e,O),O}function bu(e){return e[0]!=="$"&&!mi(e)}const Co=e=>e[0]==="_"||e==="$stable",Po=e=>Re(e)?e.map(Nr):[Nr(e)],Qp=(e,t,i)=>{if(t._n)return t;const a=Eo((...u)=>Po(t(...u)),i);return a._c=!1,a},yc=(e,t,i)=>{const a=e._ctx;for(const u in e){if(Co(u))continue;const h=e[u];if(_e(h))t[u]=Qp(u,h,a);else if(h!=null){const y=Po(h);t[u]=()=>y}}},wc=(e,t)=>{const i=Po(t);e.slots.default=()=>i},Sc=(e,t,i)=>{for(const a in t)(i||!Co(a))&&(e[a]=t[a])},Zp=(e,t,i)=>{const a=e.slots=pc();if(e.vnode.shapeFlag&32){const u=t._;u?(Sc(a,t,i),i&&_l(a,"_",u,!0)):yc(t,a)}else t&&wc(e,t)},e1=(e,t,i)=>{const{vnode:a,slots:u}=e;let h=!0,y=at;if(a.shapeFlag&32){const A=t._;A?i&&A===1?h=!1:Sc(u,t,i):(h=!t.$stable,yc(t,u)),y=t}else t&&(wc(e,t),y={default:1});if(h)for(const A in u)!Co(A)&&y[A]==null&&delete u[A]},zt=p1;function t1(e){return r1(e)}function r1(e,t){const i=Ms();i.__VUE__=!0;const{insert:a,remove:u,patchProp:h,createElement:y,createText:A,createComment:T,setText:O,setElementText:D,parentNode:C,nextSibling:j,setScopeId:G=Hr,insertStaticContent:W}=e,X=(M,L,J,se=null,ae=null,oe=null,ve=void 0,me=null,pe=!!L.dynamicChildren)=>{if(M===L)return;M&&!ci(M,L)&&(se=ge(M),Nt(M,ae,oe,!0),M=null),L.patchFlag===-2&&(pe=!1,L.dynamicChildren=null);const{type:le,ref:Ce,shapeFlag:we}=L;switch(le){case qs:re(M,L,J,se);break;case cn:he(M,L,J,se);break;case Fa:M==null&&ce(L,J,se,ve);break;case Yt:Cr(M,L,J,se,ae,oe,ve,me,pe);break;default:we&1?xe(M,L,J,se,ae,oe,ve,me,pe):we&6?Xr(M,L,J,se,ae,oe,ve,me,pe):(we&64||we&128)&&le.process(M,L,J,se,ae,oe,ve,me,pe,nt)}Ce!=null&&ae&&As(Ce,M&&M.ref,oe,L||M,!L)},re=(M,L,J,se)=>{if(M==null)a(L.el=A(L.children),J,se);else{const ae=L.el=M.el;L.children!==M.children&&O(ae,L.children)}},he=(M,L,J,se)=>{M==null?a(L.el=T(L.children||""),J,se):L.el=M.el},ce=(M,L,J,se)=>{[M.el,M.anchor]=W(M.children,L,J,se,M.el,M.anchor)},ye=({el:M,anchor:L},J,se)=>{let ae;for(;M&&M!==L;)ae=j(M),a(M,J,se),M=ae;a(L,J,se)},fe=({el:M,anchor:L})=>{let J;for(;M&&M!==L;)J=j(M),u(M),M=J;u(L)},xe=(M,L,J,se,ae,oe,ve,me,pe)=>{L.type==="svg"?ve="svg":L.type==="math"&&(ve="mathml"),M==null?De(L,J,se,ae,oe,ve,me,pe):Ue(M,L,ae,oe,ve,me,pe)},De=(M,L,J,se,ae,oe,ve,me)=>{let pe,le;const{props:Ce,shapeFlag:we,transition:Fe,dirs:Te}=M;if(pe=M.el=y(M.type,oe,Ce&&Ce.is,Ce),we&8?D(pe,M.children):we&16&&ct(M.children,pe,null,se,ae,Ea(M,oe),ve,me),Te&&wn(M,null,se,"created"),Ke(pe,M,M.scopeId,ve,se),Ce){for(const et in Ce)et!=="value"&&!mi(et)&&h(pe,et,null,Ce[et],oe,se);"value"in Ce&&h(pe,"value",null,Ce.value,oe),(le=Ce.onVnodeBeforeMount)&&Rr(le,se,M)}Te&&wn(M,null,se,"beforeMount");const je=n1(ae,Fe);je&&Fe.beforeEnter(pe),a(pe,L,J),((le=Ce&&Ce.onVnodeMounted)||je||Te)&&zt(()=>{le&&Rr(le,se,M),je&&Fe.enter(pe),Te&&wn(M,null,se,"mounted")},ae)},Ke=(M,L,J,se,ae)=>{if(J&&G(M,J),se)for(let oe=0;oe<se.length;oe++)G(M,se[oe]);if(ae){let oe=ae.subTree;if(L===oe||Fc(oe.type)&&(oe.ssContent===L||oe.ssFallback===L)){const ve=ae.vnode;Ke(M,ve,ve.scopeId,ve.slotScopeIds,ae.parent)}}},ct=(M,L,J,se,ae,oe,ve,me,pe=0)=>{for(let le=pe;le<M.length;le++){const Ce=M[le]=me?an(M[le]):Nr(M[le]);X(null,Ce,L,J,se,ae,oe,ve,me)}},Ue=(M,L,J,se,ae,oe,ve)=>{const me=L.el=M.el;let{patchFlag:pe,dynamicChildren:le,dirs:Ce}=L;pe|=M.patchFlag&16;const we=M.props||at,Fe=L.props||at;let Te;if(J&&Sn(J,!1),(Te=Fe.onVnodeBeforeUpdate)&&Rr(Te,J,L,M),Ce&&wn(L,M,J,"beforeUpdate"),J&&Sn(J,!0),(we.innerHTML&&Fe.innerHTML==null||we.textContent&&Fe.textContent==null)&&D(me,""),le?At(M.dynamicChildren,le,me,J,se,Ea(L,ae),oe):ve||We(M,L,me,null,J,se,Ea(L,ae),oe,!1),pe>0){if(pe&16)ir(me,we,Fe,J,ae);else if(pe&2&&we.class!==Fe.class&&h(me,"class",null,Fe.class,ae),pe&4&&h(me,"style",we.style,Fe.style,ae),pe&8){const je=L.dynamicProps;for(let et=0;et<je.length;et++){const qe=je[et],Vt=we[qe],Ot=Fe[qe];(Ot!==Vt||qe==="value")&&h(me,qe,Vt,Ot,ae,J)}}pe&1&&M.children!==L.children&&D(me,L.children)}else!ve&&le==null&&ir(me,we,Fe,J,ae);((Te=Fe.onVnodeUpdated)||Ce)&&zt(()=>{Te&&Rr(Te,J,L,M),Ce&&wn(L,M,J,"updated")},se)},At=(M,L,J,se,ae,oe,ve)=>{for(let me=0;me<L.length;me++){const pe=M[me],le=L[me],Ce=pe.el&&(pe.type===Yt||!ci(pe,le)||pe.shapeFlag&70)?C(pe.el):J;X(pe,le,Ce,null,se,ae,oe,ve,!0)}},ir=(M,L,J,se,ae)=>{if(L!==J){if(L!==at)for(const oe in L)!mi(oe)&&!(oe in J)&&h(M,oe,L[oe],null,ae,se);for(const oe in J){if(mi(oe))continue;const ve=J[oe],me=L[oe];ve!==me&&oe!=="value"&&h(M,oe,me,ve,ae,se)}"value"in J&&h(M,"value",L.value,J.value,ae)}},Cr=(M,L,J,se,ae,oe,ve,me,pe)=>{const le=L.el=M?M.el:A(""),Ce=L.anchor=M?M.anchor:A("");let{patchFlag:we,dynamicChildren:Fe,slotScopeIds:Te}=L;Te&&(me=me?me.concat(Te):Te),M==null?(a(le,J,se),a(Ce,J,se),ct(L.children||[],J,Ce,ae,oe,ve,me,pe)):we>0&&we&64&&Fe&&M.dynamicChildren?(At(M.dynamicChildren,Fe,J,ae,oe,ve,me),(L.key!=null||ae&&L===ae.subTree)&&To(M,L,!0)):We(M,L,J,Ce,ae,oe,ve,me,pe)},Xr=(M,L,J,se,ae,oe,ve,me,pe)=>{L.slotScopeIds=me,M==null?L.shapeFlag&512?ae.ctx.activate(L,J,se,ve,pe):Lr(L,J,se,ae,oe,ve,pe):gn(M,L,pe)},Lr=(M,L,J,se,ae,oe,ve)=>{const me=M.component=S1(M,se,ae);if(uc(M)&&(me.ctx.renderer=nt),x1(me,!1,ve),me.asyncDep){if(ae&&ae.registerDep(me,ft,ve),!M.el){const pe=me.subTree=Be(cn);he(null,pe,L,J)}}else ft(me,M,L,J,ae,oe,ve)},gn=(M,L,J)=>{const se=L.component=M.component;if(h1(M,L,J))if(se.asyncDep&&!se.asyncResolved){Je(se,L,J);return}else se.next=L,se.update();else L.el=M.el,se.vnode=L},ft=(M,L,J,se,ae,oe,ve)=>{const me=()=>{if(M.isMounted){let{next:we,bu:Fe,u:Te,parent:je,vnode:et}=M;{const dr=xc(M);if(dr){we&&(we.el=et.el,Je(M,we,ve)),dr.asyncDep.then(()=>{M.isUnmounted||me()});return}}let qe=we,Vt;Sn(M,!1),we?(we.el=et.el,Je(M,we,ve)):we=et,Fe&&os(Fe),(Vt=we.props&&we.props.onVnodeBeforeUpdate)&&Rr(Vt,je,we,et),Sn(M,!0);const Ot=Fu(M),hr=M.subTree;M.subTree=Ot,X(hr,Ot,C(hr.el),ge(hr),M,ae,oe),we.el=Ot.el,qe===null&&d1(M,Ot.el),Te&&zt(Te,ae),(Vt=we.props&&we.props.onVnodeUpdated)&&zt(()=>Rr(Vt,je,we,et),ae)}else{let we;const{el:Fe,props:Te}=L,{bm:je,m:et,parent:qe,root:Vt,type:Ot}=M,hr=xi(L);Sn(M,!1),je&&os(je),!hr&&(we=Te&&Te.onVnodeBeforeMount)&&Rr(we,qe,L),Sn(M,!0);{Vt.ce&&Vt.ce._injectChildStyle(Ot);const dr=M.subTree=Fu(M);X(null,dr,J,se,M,ae,oe),L.el=dr.el}if(et&&zt(et,ae),!hr&&(we=Te&&Te.onVnodeMounted)){const dr=L;zt(()=>Rr(we,qe,dr),ae)}(L.shapeFlag&256||qe&&xi(qe.vnode)&&qe.vnode.shapeFlag&256)&&M.a&&zt(M.a,ae),M.isMounted=!0,L=J=se=null}};M.scope.on();const pe=M.effect=new Hl(me);M.scope.off();const le=M.update=pe.run.bind(pe),Ce=M.job=pe.runIfDirty.bind(pe);Ce.i=M,Ce.id=M.uid,pe.scheduler=()=>bo(Ce),Sn(M,!0),le()},Je=(M,L,J)=>{L.component=M;const se=M.vnode.props;M.vnode=L,M.next=null,Jp(M,L.props,se,J),e1(M,L.children,J),zr(),du(M),Gr()},We=(M,L,J,se,ae,oe,ve,me,pe=!1)=>{const le=M&&M.children,Ce=M?M.shapeFlag:0,we=L.children,{patchFlag:Fe,shapeFlag:Te}=L;if(Fe>0){if(Fe&128){kr(le,we,J,se,ae,oe,ve,me,pe);return}else if(Fe&256){sr(le,we,J,se,ae,oe,ve,me,pe);return}}Te&8?(Ce&16&&Se(le,ae,oe),we!==le&&D(J,we)):Ce&16?Te&16?kr(le,we,J,se,ae,oe,ve,me,pe):Se(le,ae,oe,!0):(Ce&8&&D(J,""),Te&16&&ct(we,J,se,ae,oe,ve,me,pe))},sr=(M,L,J,se,ae,oe,ve,me,pe)=>{M=M||Vn,L=L||Vn;const le=M.length,Ce=L.length,we=Math.min(le,Ce);let Fe;for(Fe=0;Fe<we;Fe++){const Te=L[Fe]=pe?an(L[Fe]):Nr(L[Fe]);X(M[Fe],Te,J,null,ae,oe,ve,me,pe)}le>Ce?Se(M,ae,oe,!0,!1,we):ct(L,J,se,ae,oe,ve,me,pe,we)},kr=(M,L,J,se,ae,oe,ve,me,pe)=>{let le=0;const Ce=L.length;let we=M.length-1,Fe=Ce-1;for(;le<=we&&le<=Fe;){const Te=M[le],je=L[le]=pe?an(L[le]):Nr(L[le]);if(ci(Te,je))X(Te,je,J,null,ae,oe,ve,me,pe);else break;le++}for(;le<=we&&le<=Fe;){const Te=M[we],je=L[Fe]=pe?an(L[Fe]):Nr(L[Fe]);if(ci(Te,je))X(Te,je,J,null,ae,oe,ve,me,pe);else break;we--,Fe--}if(le>we){if(le<=Fe){const Te=Fe+1,je=Te<Ce?L[Te].el:se;for(;le<=Fe;)X(null,L[le]=pe?an(L[le]):Nr(L[le]),J,je,ae,oe,ve,me,pe),le++}}else if(le>Fe)for(;le<=we;)Nt(M[le],ae,oe,!0),le++;else{const Te=le,je=le,et=new Map;for(le=je;le<=Fe;le++){const Ut=L[le]=pe?an(L[le]):Nr(L[le]);Ut.key!=null&&et.set(Ut.key,le)}let qe,Vt=0;const Ot=Fe-je+1;let hr=!1,dr=0;const mn=new Array(Ot);for(le=0;le<Ot;le++)mn[le]=0;for(le=Te;le<=we;le++){const Ut=M[le];if(Vt>=Ot){Nt(Ut,ae,oe,!0);continue}let pr;if(Ut.key!=null)pr=et.get(Ut.key);else for(qe=je;qe<=Fe;qe++)if(mn[qe-je]===0&&ci(Ut,L[qe])){pr=qe;break}pr===void 0?Nt(Ut,ae,oe,!0):(mn[pr-je]=le+1,pr>=dr?dr=pr:hr=!0,X(Ut,L[pr],J,null,ae,oe,ve,me,pe),Vt++)}const qi=hr?i1(mn):Vn;for(qe=qi.length-1,le=Ot-1;le>=0;le--){const Ut=je+le,pr=L[Ut],$i=Ut+1<Ce?L[Ut+1].el:se;mn[le]===0?X(null,pr,J,$i,ae,oe,ve,me,pe):hr&&(qe<0||le!==qi[qe]?ar(pr,J,$i,2):qe--)}}},ar=(M,L,J,se,ae=null)=>{const{el:oe,type:ve,transition:me,children:pe,shapeFlag:le}=M;if(le&6){ar(M.component.subTree,L,J,se);return}if(le&128){M.suspense.move(L,J,se);return}if(le&64){ve.move(M,L,J,nt);return}if(ve===Yt){a(oe,L,J);for(let we=0;we<pe.length;we++)ar(pe[we],L,J,se);a(M.anchor,L,J);return}if(ve===Fa){ye(M,L,J);return}if(se!==2&&le&1&&me)if(se===0)me.beforeEnter(oe),a(oe,L,J),zt(()=>me.enter(oe),ae);else{const{leave:we,delayLeave:Fe,afterLeave:Te}=me,je=()=>{M.ctx.isUnmounted?u(oe):a(oe,L,J)},et=()=>{we(oe,()=>{je(),Te&&Te()})};Fe?Fe(oe,je,et):et()}else a(oe,L,J)},Nt=(M,L,J,se=!1,ae=!1)=>{const{type:oe,props:ve,ref:me,children:pe,dynamicChildren:le,shapeFlag:Ce,patchFlag:we,dirs:Fe,cacheIndex:Te}=M;if(we===-2&&(ae=!1),me!=null&&(zr(),As(me,null,J,M,!0),Gr()),Te!=null&&(L.renderCache[Te]=void 0),Ce&256){L.ctx.deactivate(M);return}const je=Ce&1&&Fe,et=!xi(M);let qe;if(et&&(qe=ve&&ve.onVnodeBeforeUnmount)&&Rr(qe,L,M),Ce&6)ie(M.component,J,se);else{if(Ce&128){M.suspense.unmount(J,se);return}je&&wn(M,null,L,"beforeUnmount"),Ce&64?M.type.remove(M,L,J,nt,se):le&&!le.hasOnce&&(oe!==Yt||we>0&&we&64)?Se(le,L,J,!1,!0):(oe===Yt&&we&384||!ae&&Ce&16)&&Se(pe,L,J),se&&Qr(M)}(et&&(qe=ve&&ve.onVnodeUnmounted)||je)&&zt(()=>{qe&&Rr(qe,L,M),je&&wn(M,null,L,"unmounted")},J)},Qr=M=>{const{type:L,el:J,anchor:se,transition:ae}=M;if(L===Yt){Ui(J,se);return}if(L===Fa){fe(M);return}const oe=()=>{u(J),ae&&!ae.persisted&&ae.afterLeave&&ae.afterLeave()};if(M.shapeFlag&1&&ae&&!ae.persisted){const{leave:ve,delayLeave:me}=ae,pe=()=>ve(J,oe);me?me(M.el,oe,pe):pe()}else oe()},Ui=(M,L)=>{let J;for(;M!==L;)J=j(M),u(M),M=J;u(L)},ie=(M,L,J)=>{const{bum:se,scope:ae,job:oe,subTree:ve,um:me,m:pe,a:le,parent:Ce,slots:{__:we}}=M;Eu(pe),Eu(le),se&&os(se),Ce&&Re(we)&&we.forEach(Fe=>{Ce.renderCache[Fe]=void 0}),ae.stop(),oe&&(oe.flags|=8,Nt(ve,M,L,J)),me&&zt(me,L),zt(()=>{M.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},Se=(M,L,J,se=!1,ae=!1,oe=0)=>{for(let ve=oe;ve<M.length;ve++)Nt(M[ve],L,J,se,ae)},ge=M=>{if(M.shapeFlag&6)return ge(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const L=j(M.anchor||M.el),J=L&&L[ic];return J?j(J):L};let Ee=!1;const Xe=(M,L,J)=>{M==null?L._vnode&&Nt(L._vnode,null,null,!0):X(L._vnode||null,M,L,null,null,null,J),L._vnode=M,Ee||(Ee=!0,du(),tc(),Ee=!1)},nt={p:X,um:Nt,m:ar,r:Qr,mt:Lr,mc:ct,pc:We,pbc:At,n:ge,o:e};return{render:Xe,hydrate:void 0,createApp:Gp(Xe)}}function Ea({type:e,props:t},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:i}function Sn({effect:e,job:t},i){i?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function n1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function To(e,t,i=!1){const a=e.children,u=t.children;if(Re(a)&&Re(u))for(let h=0;h<a.length;h++){const y=a[h];let A=u[h];A.shapeFlag&1&&!A.dynamicChildren&&((A.patchFlag<=0||A.patchFlag===32)&&(A=u[h]=an(u[h]),A.el=y.el),!i&&A.patchFlag!==-2&&To(y,A)),A.type===qs&&(A.el=y.el),A.type===cn&&!A.el&&(A.el=y.el)}}function i1(e){const t=e.slice(),i=[0];let a,u,h,y,A;const T=e.length;for(a=0;a<T;a++){const O=e[a];if(O!==0){if(u=i[i.length-1],e[u]<O){t[a]=u,i.push(a);continue}for(h=0,y=i.length-1;h<y;)A=h+y>>1,e[i[A]]<O?h=A+1:y=A;O<e[i[h]]&&(h>0&&(t[a]=i[h-1]),i[h]=a)}}for(h=i.length,y=i[h-1];h-- >0;)i[h]=y,y=t[y];return i}function xc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:xc(t)}function Eu(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const s1=Symbol.for("v-scx"),a1=()=>Wr(s1);function cs(e,t){return Io(e,null,t)}function fs(e,t,i){return Io(e,t,i)}function Io(e,t,i=at){const{immediate:a,deep:u,flush:h,once:y}=i,A=Kt({},i),T=t&&a||!t&&h!=="post";let O;if(_i){if(h==="sync"){const G=a1();O=G.__watcherHandles||(G.__watcherHandles=[])}else if(!T){const G=()=>{};return G.stop=Hr,G.resume=Hr,G.pause=Hr,G}}const D=jt;A.call=(G,W,X)=>Mr(G,D,W,X);let C=!1;h==="post"?A.scheduler=G=>{zt(G,D&&D.suspense)}:h!=="sync"&&(C=!0,A.scheduler=(G,W)=>{W?G():bo(G)}),A.augmentJob=G=>{t&&(G.flags|=4),C&&(G.flags|=2,D&&(G.id=D.uid,G.i=D))};const j=Sp(e,t,A);return _i&&(O?O.push(j):T&&j()),j}function o1(e,t,i){const a=this.proxy,u=xt(e)?e.includes(".")?bc(a,e):()=>a[e]:e.bind(a,a);let h;_e(t)?h=t:(h=t.handler,i=t);const y=Li(this),A=Io(u,h.bind(a),i);return y(),A}function bc(e,t){const i=t.split(".");return()=>{let a=e;for(let u=0;u<i.length&&a;u++)a=a[i[u]];return a}}const u1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${vr(t)}Modifiers`]||e[`${dn(t)}Modifiers`];function l1(e,t,...i){if(e.isUnmounted)return;const a=e.vnode.props||at;let u=i;const h=t.startsWith("update:"),y=h&&u1(a,t.slice(7));y&&(y.trim&&(u=i.map(D=>xt(D)?D.trim():D)),y.number&&(u=i.map(Ma)));let A,T=a[A=va(t)]||a[A=va(vr(t))];!T&&h&&(T=a[A=va(dn(t))]),T&&Mr(T,e,6,u);const O=a[A+"Once"];if(O){if(!e.emitted)e.emitted={};else if(e.emitted[A])return;e.emitted[A]=!0,Mr(O,e,6,u)}}function Ec(e,t,i=!1){const a=t.emitsCache,u=a.get(e);if(u!==void 0)return u;const h=e.emits;let y={},A=!1;if(!_e(e)){const T=O=>{const D=Ec(O,t,!0);D&&(A=!0,Kt(y,D))};!i&&t.mixins.length&&t.mixins.forEach(T),e.extends&&T(e.extends),e.mixins&&e.mixins.forEach(T)}return!h&&!A?(pt(e)&&a.set(e,null),null):(Re(h)?h.forEach(T=>y[T]=null):Kt(y,h),pt(e)&&a.set(e,y),y)}function Us(e,t){return!e||!Ns(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ge(e,t[0].toLowerCase()+t.slice(1))||Ge(e,dn(t))||Ge(e,t))}function Fu(e){const{type:t,vnode:i,proxy:a,withProxy:u,propsOptions:[h],slots:y,attrs:A,emit:T,render:O,renderCache:D,props:C,data:j,setupState:G,ctx:W,inheritAttrs:X}=e,re=Fs(e);let he,ce;try{if(i.shapeFlag&4){const fe=u||a,xe=fe;he=Nr(O.call(xe,fe,D,C,G,j,W)),ce=A}else{const fe=t;he=Nr(fe.length>1?fe(C,{attrs:A,slots:y,emit:T}):fe(C,null)),ce=t.props?A:c1(A)}}catch(fe){Ei.length=0,ks(fe,e,1),he=Be(cn)}let ye=he;if(ce&&X!==!1){const fe=Object.keys(ce),{shapeFlag:xe}=ye;fe.length&&xe&7&&(h&&fe.some(fo)&&(ce=f1(ce,h)),ye=Rn(ye,ce,!1,!0))}return i.dirs&&(ye=Rn(ye,null,!1,!0),ye.dirs=ye.dirs?ye.dirs.concat(i.dirs):i.dirs),i.transition&&Fo(ye,i.transition),he=ye,Fs(re),he}const c1=e=>{let t;for(const i in e)(i==="class"||i==="style"||Ns(i))&&((t||(t={}))[i]=e[i]);return t},f1=(e,t)=>{const i={};for(const a in e)(!fo(a)||!(a.slice(9)in t))&&(i[a]=e[a]);return i};function h1(e,t,i){const{props:a,children:u,component:h}=e,{props:y,children:A,patchFlag:T}=t,O=h.emitsOptions;if(t.dirs||t.transition)return!0;if(i&&T>=0){if(T&1024)return!0;if(T&16)return a?Au(a,y,O):!!y;if(T&8){const D=t.dynamicProps;for(let C=0;C<D.length;C++){const j=D[C];if(y[j]!==a[j]&&!Us(O,j))return!0}}}else return(u||A)&&(!A||!A.$stable)?!0:a===y?!1:a?y?Au(a,y,O):!0:!!y;return!1}function Au(e,t,i){const a=Object.keys(t);if(a.length!==Object.keys(e).length)return!0;for(let u=0;u<a.length;u++){const h=a[u];if(t[h]!==e[h]&&!Us(i,h))return!0}return!1}function d1({vnode:e,parent:t},i){for(;t;){const a=t.subTree;if(a.suspense&&a.suspense.activeBranch===e&&(a.el=e.el),a===e)(e=t.vnode).el=i,t=t.parent;else break}}const Fc=e=>e.__isSuspense;function p1(e,t){t&&t.pendingBranch?Re(e)?t.effects.push(...e):t.effects.push(e):Ep(e)}const Yt=Symbol.for("v-fgt"),qs=Symbol.for("v-txt"),cn=Symbol.for("v-cmt"),Fa=Symbol.for("v-stc"),Ei=[];let cr=null;function be(e=!1){Ei.push(cr=e?null:[])}function g1(){Ei.pop(),cr=Ei[Ei.length-1]||null}let Ri=1;function Cu(e,t=!1){Ri+=e,e<0&&cr&&t&&(cr.hasOnce=!0)}function Ac(e){return e.dynamicChildren=Ri>0?cr||Vn:null,g1(),Ri>0&&cr&&cr.push(e),e}function Ae(e,t,i,a,u,h){return Ac(Y(e,t,i,a,u,h,!0))}function Di(e,t,i,a,u){return Ac(Be(e,t,i,a,u,!0))}function Gn(e){return e?e.__v_isVNode===!0:!1}function ci(e,t){return e.type===t.type&&e.key===t.key}const Cc=({key:e})=>e??null,hs=({ref:e,ref_key:t,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?xt(e)||kt(e)||_e(e)?{i:lr,r:e,k:t,f:!!i}:e:null);function Y(e,t=null,i=null,a=0,u=null,h=e===Yt?0:1,y=!1,A=!1){const T={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Cc(t),ref:t&&hs(t),scopeId:nc,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:a,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:lr};return A?(Ro(T,i),h&128&&e.normalize(T)):i&&(T.shapeFlag|=xt(i)?8:16),Ri>0&&!y&&cr&&(T.patchFlag>0||h&6)&&T.patchFlag!==32&&cr.push(T),T}const Be=m1;function m1(e,t=null,i=null,a=0,u=null,h=!1){if((!e||e===Lp)&&(e=cn),Gn(e)){const A=Rn(e,t,!0);return i&&Ro(A,i),Ri>0&&!h&&cr&&(A.shapeFlag&6?cr[cr.indexOf(e)]=A:cr.push(A)),A.patchFlag=-2,A}if(C1(e)&&(e=e.__vccOpts),t){t=v1(t);let{class:A,style:T}=t;A&&!xt(A)&&(t.class=Or(A)),pt(T)&&(xo(T)&&!Re(T)&&(T=Kt({},T)),t.style=js(T))}const y=xt(e)?1:Fc(e)?128:Fp(e)?64:pt(e)?4:_e(e)?2:0;return Y(e,t,i,a,u,y,h,!0)}function v1(e){return e?xo(e)||gc(e)?Kt({},e):e:null}function Rn(e,t,i=!1,a=!1){const{props:u,ref:h,patchFlag:y,children:A,transition:T}=e,O=t?Jr(u||{},t):u,D={__v_isVNode:!0,__v_skip:!0,type:e.type,props:O,key:O&&Cc(O),ref:t&&t.ref?i&&h?Re(h)?h.concat(hs(t)):[h,hs(t)]:hs(t):h,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:A,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Yt?y===-1?16:y|16:y,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:T,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Rn(e.ssContent),ssFallback:e.ssFallback&&Rn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return T&&a&&Fo(D,T.clone(D)),D}function _t(e=" ",t=0){return Be(qs,null,e,t)}function St(e="",t=!1){return t?(be(),Di(cn,null,e)):Be(cn,null,e)}function Nr(e){return e==null||typeof e=="boolean"?Be(cn):Re(e)?Be(Yt,null,e.slice()):Gn(e)?an(e):Be(qs,null,String(e))}function an(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Rn(e)}function Ro(e,t){let i=0;const{shapeFlag:a}=e;if(t==null)t=null;else if(Re(t))i=16;else if(typeof t=="object")if(a&65){const u=t.default;u&&(u._c&&(u._d=!1),Ro(e,u()),u._c&&(u._d=!0));return}else{i=32;const u=t._;!u&&!gc(t)?t._ctx=lr:u===3&&lr&&(lr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _e(t)?(t={default:t,_ctx:lr},i=32):(t=String(t),a&64?(i=16,t=[_t(t)]):i=8);e.children=t,e.shapeFlag|=i}function Jr(...e){const t={};for(let i=0;i<e.length;i++){const a=e[i];for(const u in a)if(u==="class")t.class!==a.class&&(t.class=Or([t.class,a.class]));else if(u==="style")t.style=js([t.style,a.style]);else if(Ns(u)){const h=t[u],y=a[u];y&&h!==y&&!(Re(h)&&h.includes(y))&&(t[u]=h?[].concat(h,y):y)}else u!==""&&(t[u]=a[u])}return t}function Rr(e,t,i,a=null){Mr(e,t,7,[i,a])}const y1=hc();let w1=0;function S1(e,t,i){const a=e.type,u=(t?t.appContext:e.appContext)||y1,h={uid:w1++,vnode:e,type:a,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Wd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vc(a,u),emitsOptions:Ec(a,u),emit:null,emitted:null,propsDefaults:at,inheritAttrs:a.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=t?t.root:h,h.emit=l1.bind(null,h),e.ce&&e.ce(h),h}let jt=null,Ps,Ga;{const e=Ms(),t=(i,a)=>{let u;return(u=e[i])||(u=e[i]=[]),u.push(a),h=>{u.length>1?u.forEach(y=>y(h)):u[0](h)}};Ps=t("__VUE_INSTANCE_SETTERS__",i=>jt=i),Ga=t("__VUE_SSR_SETTERS__",i=>_i=i)}const Li=e=>{const t=jt;return Ps(e),e.scope.on(),()=>{e.scope.off(),Ps(t)}},Pu=()=>{jt&&jt.scope.off(),Ps(null)};function Pc(e){return e.vnode.shapeFlag&4}let _i=!1;function x1(e,t=!1,i=!1){t&&Ga(t);const{props:a,children:u}=e.vnode,h=Pc(e);Yp(e,a,h,t),Zp(e,u,i||t);const y=h?b1(e,t):void 0;return t&&Ga(!1),y}function b1(e,t){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Kp);const{setup:a}=i;if(a){zr();const u=e.setupContext=a.length>1?F1(e):null,h=Li(e),y=Mi(a,e,0,[e.props,u]),A=Il(y);if(Gr(),h(),(A||e.sp)&&!xi(e)&&oc(e),A){if(y.then(Pu,Pu),t)return y.then(T=>{Tu(e,T)}).catch(T=>{ks(T,e,0)});e.asyncDep=y}else Tu(e,y)}else Tc(e)}function Tu(e,t,i){_e(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=Ql(t)),Tc(e)}function Tc(e,t,i){const a=e.type;e.render||(e.render=a.render||Hr);{const u=Li(e);zr();try{Vp(e)}finally{Gr(),u()}}}const E1={get(e,t){return Mt(e,"get",""),e[t]}};function F1(e){const t=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,E1),slots:e.slots,emit:e.emit,expose:t}}function $s(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ql(dp(e.exposed)),{get(t,i){if(i in t)return t[i];if(i in bi)return bi[i](e)},has(t,i){return i in t||i in bi}})):e.proxy}function A1(e,t=!0){return _e(e)?e.displayName||e.name:e.name||t&&e.__name}function C1(e){return _e(e)&&"__vccOpts"in e}const lt=(e,t)=>yp(e,t,_i);function Kn(e,t,i){const a=arguments.length;return a===2?pt(t)&&!Re(t)?Gn(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(a>3?i=Array.prototype.slice.call(arguments,2):a===3&&Gn(i)&&(i=[i]),Be(e,t,i))}const P1="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ya;const Iu=typeof window<"u"&&window.trustedTypes;if(Iu)try{Ya=Iu.createPolicy("vue",{createHTML:e=>e})}catch{}const Ic=Ya?e=>Ya.createHTML(e):e=>e,T1="http://www.w3.org/2000/svg",I1="http://www.w3.org/1998/Math/MathML",Ur=typeof document<"u"?document:null,Ru=Ur&&Ur.createElement("template"),R1={insert:(e,t,i)=>{t.insertBefore(e,i||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,i,a)=>{const u=t==="svg"?Ur.createElementNS(T1,e):t==="mathml"?Ur.createElementNS(I1,e):i?Ur.createElement(e,{is:i}):Ur.createElement(e);return e==="select"&&a&&a.multiple!=null&&u.setAttribute("multiple",a.multiple),u},createText:e=>Ur.createTextNode(e),createComment:e=>Ur.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ur.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,i,a,u,h){const y=i?i.previousSibling:t.lastChild;if(u&&(u===h||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),i),!(u===h||!(u=u.nextSibling)););else{Ru.innerHTML=Ic(a==="svg"?`<svg>${e}</svg>`:a==="mathml"?`<math>${e}</math>`:e);const A=Ru.content;if(a==="svg"||a==="mathml"){const T=A.firstChild;for(;T.firstChild;)A.appendChild(T.firstChild);A.removeChild(T)}t.insertBefore(A,i)}return[y?y.nextSibling:t.firstChild,i?i.previousSibling:t.lastChild]}},D1=Symbol("_vtc");function _1(e,t,i){const a=e[D1];a&&(t=(t?[t,...a]:[...a]).join(" ")),t==null?e.removeAttribute("class"):i?e.setAttribute("class",t):e.className=t}const Du=Symbol("_vod"),N1=Symbol("_vsh"),O1=Symbol(""),B1=/(^|;)\s*display\s*:/;function H1(e,t,i){const a=e.style,u=xt(i);let h=!1;if(i&&!u){if(t)if(xt(t))for(const y of t.split(";")){const A=y.slice(0,y.indexOf(":")).trim();i[A]==null&&ds(a,A,"")}else for(const y in t)i[y]==null&&ds(a,y,"");for(const y in i)y==="display"&&(h=!0),ds(a,y,i[y])}else if(u){if(t!==i){const y=a[O1];y&&(i+=";"+y),a.cssText=i,h=B1.test(i)}}else t&&e.removeAttribute("style");Du in e&&(e[Du]=h?a.display:"",e[N1]&&(a.display="none"))}const _u=/\s*!important$/;function ds(e,t,i){if(Re(i))i.forEach(a=>ds(e,t,a));else if(i==null&&(i=""),t.startsWith("--"))e.setProperty(t,i);else{const a=M1(e,t);_u.test(i)?e.setProperty(dn(a),i.replace(_u,""),"important"):e[a]=i}}const Nu=["Webkit","Moz","ms"],Aa={};function M1(e,t){const i=Aa[t];if(i)return i;let a=vr(t);if(a!=="filter"&&a in e)return Aa[t]=a;a=Hs(a);for(let u=0;u<Nu.length;u++){const h=Nu[u]+a;if(h in e)return Aa[t]=h}return t}const Ou="http://www.w3.org/1999/xlink";function Bu(e,t,i,a,u,h=$d(t)){a&&t.startsWith("xlink:")?i==null?e.removeAttributeNS(Ou,t.slice(6,t.length)):e.setAttributeNS(Ou,t,i):i==null||h&&!Nl(i)?e.removeAttribute(t):e.setAttribute(t,h?"":hn(i)?String(i):i)}function Hu(e,t,i,a,u){if(t==="innerHTML"||t==="textContent"){i!=null&&(e[t]=t==="innerHTML"?Ic(i):i);return}const h=e.tagName;if(t==="value"&&h!=="PROGRESS"&&!h.includes("-")){const A=h==="OPTION"?e.getAttribute("value")||"":e.value,T=i==null?e.type==="checkbox"?"on":"":String(i);(A!==T||!("_value"in e))&&(e.value=T),i==null&&e.removeAttribute(t),e._value=i;return}let y=!1;if(i===""||i==null){const A=typeof e[t];A==="boolean"?i=Nl(i):i==null&&A==="string"?(i="",y=!0):A==="number"&&(i=0,y=!0)}try{e[t]=i}catch{}y&&e.removeAttribute(u||t)}function Ln(e,t,i,a){e.addEventListener(t,i,a)}function j1(e,t,i,a){e.removeEventListener(t,i,a)}const Mu=Symbol("_vei");function L1(e,t,i,a,u=null){const h=e[Mu]||(e[Mu]={}),y=h[t];if(a&&y)y.value=a;else{const[A,T]=k1(t);if(a){const O=h[t]=U1(a,u);Ln(e,A,O,T)}else y&&(j1(e,A,y,T),h[t]=void 0)}}const ju=/(?:Once|Passive|Capture)$/;function k1(e){let t;if(ju.test(e)){t={};let a;for(;a=e.match(ju);)e=e.slice(0,e.length-a[0].length),t[a[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):dn(e.slice(2)),t]}let Ca=0;const K1=Promise.resolve(),V1=()=>Ca||(K1.then(()=>Ca=0),Ca=Date.now());function U1(e,t){const i=a=>{if(!a._vts)a._vts=Date.now();else if(a._vts<=i.attached)return;Mr(q1(a,i.value),t,5,[a])};return i.value=e,i.attached=V1(),i}function q1(e,t){if(Re(t)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},t.map(a=>u=>!u._stopped&&a&&a(u))}else return t}const Lu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$1=(e,t,i,a,u,h)=>{const y=u==="svg";t==="class"?_1(e,a,y):t==="style"?H1(e,i,a):Ns(t)?fo(t)||L1(e,t,i,a,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):W1(e,t,a,y))?(Hu(e,t,a),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Bu(e,t,a,y,h,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!xt(a))?Hu(e,vr(t),a,h,t):(t==="true-value"?e._trueValue=a:t==="false-value"&&(e._falseValue=a),Bu(e,t,a,y))};function W1(e,t,i,a){if(a)return!!(t==="innerHTML"||t==="textContent"||t in e&&Lu(t)&&_e(i));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const u=e.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return Lu(t)&&xt(i)?!1:t in e}const ku=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Re(t)?i=>os(t,i):t};function z1(e){e.target.composing=!0}function Ku(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Pa=Symbol("_assign"),Tn={created(e,{modifiers:{lazy:t,trim:i,number:a}},u){e[Pa]=ku(u);const h=a||u.props&&u.props.type==="number";Ln(e,t?"change":"input",y=>{if(y.target.composing)return;let A=e.value;i&&(A=A.trim()),h&&(A=Ma(A)),e[Pa](A)}),i&&Ln(e,"change",()=>{e.value=e.value.trim()}),t||(Ln(e,"compositionstart",z1),Ln(e,"compositionend",Ku),Ln(e,"change",Ku))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:i,modifiers:{lazy:a,trim:u,number:h}},y){if(e[Pa]=ku(y),e.composing)return;const A=(h||e.type==="number")&&!/^0\d/.test(e.value)?Ma(e.value):e.value,T=t??"";A!==T&&(document.activeElement===e&&e.type!=="range"&&(a&&t===i||u&&e.value.trim()===T)||(e.value=T))}},G1=["ctrl","shift","alt","meta"],Y1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>G1.some(i=>e[`${i}Key`]&&!t.includes(i))},En=(e,t)=>{const i=e._withMods||(e._withMods={}),a=t.join(".");return i[a]||(i[a]=(u,...h)=>{for(let y=0;y<t.length;y++){const A=Y1[t[y]];if(A&&A(u,t))return}return e(u,...h)})},J1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Rc=(e,t)=>{const i=e._withKeys||(e._withKeys={}),a=t.join(".");return i[a]||(i[a]=u=>{if(!("key"in u))return;const h=dn(u.key);if(t.some(y=>y===h||J1[y]===h))return e(u)})},X1=Kt({patchProp:$1},R1);let Vu;function Q1(){return Vu||(Vu=t1(X1))}const Dc=(...e)=>{const t=Q1().createApp(...e),{mount:i}=t;return t.mount=a=>{const u=e0(a);if(!u)return;const h=t._component;!_e(h)&&!h.render&&!h.template&&(h.template=u.innerHTML),u.nodeType===1&&(u.textContent="");const y=i(u,!1,Z1(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),y},t};function Z1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function e0(e){return xt(e)?document.querySelector(e):e}/*!
  * vue-router v4.0.13
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const _c=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",ei=e=>_c?Symbol(e):"_vr_"+e,t0=ei("rvlm"),Uu=ei("rvd"),Do=ei("r"),Nc=ei("rl"),Ja=ei("rvl"),kn=typeof window<"u";function r0(e){return e.__esModule||_c&&e[Symbol.toStringTag]==="Module"}const st=Object.assign;function Ta(e,t){const i={};for(const a in t){const u=t[a];i[a]=Array.isArray(u)?u.map(e):e(u)}return i}const Fi=()=>{},n0=/\/$/,i0=e=>e.replace(n0,"");function Ia(e,t,i="/"){let a,u={},h="",y="";const A=t.indexOf("?"),T=t.indexOf("#",A>-1?A:0);return A>-1&&(a=t.slice(0,A),h=t.slice(A+1,T>-1?T:t.length),u=e(h)),T>-1&&(a=a||t.slice(0,T),y=t.slice(T,t.length)),a=u0(a??t,i),{fullPath:a+(h&&"?")+h+y,path:a,query:u,hash:y}}function s0(e,t){const i=t.query?e(t.query):"";return t.path+(i&&"?")+i+(t.hash||"")}function qu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function a0(e,t,i){const a=t.matched.length-1,u=i.matched.length-1;return a>-1&&a===u&&Yn(t.matched[a],i.matched[u])&&Oc(t.params,i.params)&&e(t.query)===e(i.query)&&t.hash===i.hash}function Yn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Oc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(!o0(e[i],t[i]))return!1;return!0}function o0(e,t){return Array.isArray(e)?$u(e,t):Array.isArray(t)?$u(t,e):e===t}function $u(e,t){return Array.isArray(t)?e.length===t.length&&e.every((i,a)=>i===t[a]):e.length===1&&e[0]===t}function u0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const i=t.split("/"),a=e.split("/");let u=i.length-1,h,y;for(h=0;h<a.length;h++)if(y=a[h],!(u===1||y==="."))if(y==="..")u--;else break;return i.slice(0,u).join("/")+"/"+a.slice(h-(h===a.length?1:0)).join("/")}var Ni;(function(e){e.pop="pop",e.push="push"})(Ni||(Ni={}));var Ai;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ai||(Ai={}));function l0(e){if(!e)if(kn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),i0(e)}const c0=/^[^#]+#/;function f0(e,t){return e.replace(c0,"#")+t}function h0(e,t){const i=document.documentElement.getBoundingClientRect(),a=e.getBoundingClientRect();return{behavior:t.behavior,left:a.left-i.left-(t.left||0),top:a.top-i.top-(t.top||0)}}const Ws=()=>({left:window.pageXOffset,top:window.pageYOffset});function d0(e){let t;if("el"in e){const i=e.el,a=typeof i=="string"&&i.startsWith("#"),u=typeof i=="string"?a?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!u)return;t=h0(u,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Wu(e,t){return(history.state?history.state.position-t:-1)+e}const Xa=new Map;function p0(e,t){Xa.set(e,t)}function g0(e){const t=Xa.get(e);return Xa.delete(e),t}let m0=()=>location.protocol+"//"+location.host;function Bc(e,t){const{pathname:i,search:a,hash:u}=t,h=e.indexOf("#");if(h>-1){let A=u.includes(e.slice(h))?e.slice(h).length:1,T=u.slice(A);return T[0]!=="/"&&(T="/"+T),qu(T,"")}return qu(i,e)+a+u}function v0(e,t,i,a){let u=[],h=[],y=null;const A=({state:j})=>{const G=Bc(e,location),W=i.value,X=t.value;let re=0;if(j){if(i.value=G,t.value=j,y&&y===W){y=null;return}re=X?j.position-X.position:0}else a(G);u.forEach(he=>{he(i.value,W,{delta:re,type:Ni.pop,direction:re?re>0?Ai.forward:Ai.back:Ai.unknown})})};function T(){y=i.value}function O(j){u.push(j);const G=()=>{const W=u.indexOf(j);W>-1&&u.splice(W,1)};return h.push(G),G}function D(){const{history:j}=window;j.state&&j.replaceState(st({},j.state,{scroll:Ws()}),"")}function C(){for(const j of h)j();h=[],window.removeEventListener("popstate",A),window.removeEventListener("beforeunload",D)}return window.addEventListener("popstate",A),window.addEventListener("beforeunload",D),{pauseListeners:T,listen:O,destroy:C}}function zu(e,t,i,a=!1,u=!1){return{back:e,current:t,forward:i,replaced:a,position:window.history.length,scroll:u?Ws():null}}function y0(e){const{history:t,location:i}=window,a={value:Bc(e,i)},u={value:t.state};u.value||h(a.value,{back:null,current:a.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function h(T,O,D){const C=e.indexOf("#"),j=C>-1?(i.host&&document.querySelector("base")?e:e.slice(C))+T:m0()+e+T;try{t[D?"replaceState":"pushState"](O,"",j),u.value=O}catch(G){console.error(G),i[D?"replace":"assign"](j)}}function y(T,O){const D=st({},t.state,zu(u.value.back,T,u.value.forward,!0),O,{position:u.value.position});h(T,D,!0),a.value=T}function A(T,O){const D=st({},u.value,t.state,{forward:T,scroll:Ws()});h(D.current,D,!0);const C=st({},zu(a.value,T,null),{position:D.position+1},O);h(T,C,!1),a.value=T}return{location:a,state:u,push:A,replace:y}}function w0(e){e=l0(e);const t=y0(e),i=v0(e,t.state,t.location,t.replace);function a(h,y=!0){y||i.pauseListeners(),history.go(h)}const u=st({location:"",base:e,go:a,createHref:f0.bind(null,e)},t,i);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function S0(e){return typeof e=="string"||e&&typeof e=="object"}function Hc(e){return typeof e=="string"||typeof e=="symbol"}const tn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Mc=ei("nf");var Gu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gu||(Gu={}));function Jn(e,t){return st(new Error,{type:e,[Mc]:!0},t)}function rn(e,t){return e instanceof Error&&Mc in e&&(t==null||!!(e.type&t))}const Yu="[^/]+?",x0={sensitive:!1,strict:!1,start:!0,end:!0},b0=/[.+*?^${}()[\]/\\]/g;function E0(e,t){const i=st({},x0,t),a=[];let u=i.start?"^":"";const h=[];for(const O of e){const D=O.length?[]:[90];i.strict&&!O.length&&(u+="/");for(let C=0;C<O.length;C++){const j=O[C];let G=40+(i.sensitive?.25:0);if(j.type===0)C||(u+="/"),u+=j.value.replace(b0,"\\$&"),G+=40;else if(j.type===1){const{value:W,repeatable:X,optional:re,regexp:he}=j;h.push({name:W,repeatable:X,optional:re});const ce=he||Yu;if(ce!==Yu){G+=10;try{new RegExp(`(${ce})`)}catch(fe){throw new Error(`Invalid custom RegExp for param "${W}" (${ce}): `+fe.message)}}let ye=X?`((?:${ce})(?:/(?:${ce}))*)`:`(${ce})`;C||(ye=re&&O.length<2?`(?:/${ye})`:"/"+ye),re&&(ye+="?"),u+=ye,G+=20,re&&(G+=-8),X&&(G+=-20),ce===".*"&&(G+=-50)}D.push(G)}a.push(D)}if(i.strict&&i.end){const O=a.length-1;a[O][a[O].length-1]+=.7000000000000001}i.strict||(u+="/?"),i.end?u+="$":i.strict&&(u+="(?:/|$)");const y=new RegExp(u,i.sensitive?"":"i");function A(O){const D=O.match(y),C={};if(!D)return null;for(let j=1;j<D.length;j++){const G=D[j]||"",W=h[j-1];C[W.name]=G&&W.repeatable?G.split("/"):G}return C}function T(O){let D="",C=!1;for(const j of e){(!C||!D.endsWith("/"))&&(D+="/"),C=!1;for(const G of j)if(G.type===0)D+=G.value;else if(G.type===1){const{value:W,repeatable:X,optional:re}=G,he=W in O?O[W]:"";if(Array.isArray(he)&&!X)throw new Error(`Provided param "${W}" is an array but it is not repeatable (* or + modifiers)`);const ce=Array.isArray(he)?he.join("/"):he;if(!ce)if(re)j.length<2&&(D.endsWith("/")?D=D.slice(0,-1):C=!0);else throw new Error(`Missing required param "${W}"`);D+=ce}}return D}return{re:y,score:a,keys:h,parse:A,stringify:T}}function F0(e,t){let i=0;for(;i<e.length&&i<t.length;){const a=t[i]-e[i];if(a)return a;i++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function A0(e,t){let i=0;const a=e.score,u=t.score;for(;i<a.length&&i<u.length;){const h=F0(a[i],u[i]);if(h)return h;i++}return u.length-a.length}const C0={type:0,value:""},P0=/[a-zA-Z0-9_]/;function T0(e){if(!e)return[[]];if(e==="/")return[[C0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(G){throw new Error(`ERR (${i})/"${O}": ${G}`)}let i=0,a=i;const u=[];let h;function y(){h&&u.push(h),h=[]}let A=0,T,O="",D="";function C(){O&&(i===0?h.push({type:0,value:O}):i===1||i===2||i===3?(h.length>1&&(T==="*"||T==="+")&&t(`A repeatable param (${O}) must be alone in its segment. eg: '/:ids+.`),h.push({type:1,value:O,regexp:D,repeatable:T==="*"||T==="+",optional:T==="*"||T==="?"})):t("Invalid state to consume buffer"),O="")}function j(){O+=T}for(;A<e.length;){if(T=e[A++],T==="\\"&&i!==2){a=i,i=4;continue}switch(i){case 0:T==="/"?(O&&C(),y()):T===":"?(C(),i=1):j();break;case 4:j(),i=a;break;case 1:T==="("?i=2:P0.test(T)?j():(C(),i=0,T!=="*"&&T!=="?"&&T!=="+"&&A--);break;case 2:T===")"?D[D.length-1]=="\\"?D=D.slice(0,-1)+T:i=3:D+=T;break;case 3:C(),i=0,T!=="*"&&T!=="?"&&T!=="+"&&A--,D="";break;default:t("Unknown state");break}}return i===2&&t(`Unfinished custom RegExp for param "${O}"`),C(),y(),u}function I0(e,t,i){const a=E0(T0(e.path),i),u=st(a,{record:e,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function R0(e,t){const i=[],a=new Map;t=Xu({strict:!1,end:!0,sensitive:!1},t);function u(D){return a.get(D)}function h(D,C,j){const G=!j,W=_0(D);W.aliasOf=j&&j.record;const X=Xu(t,D),re=[W];if("alias"in D){const ye=typeof D.alias=="string"?[D.alias]:D.alias;for(const fe of ye)re.push(st({},W,{components:j?j.record.components:W.components,path:fe,aliasOf:j?j.record:W}))}let he,ce;for(const ye of re){const{path:fe}=ye;if(C&&fe[0]!=="/"){const xe=C.record.path,De=xe[xe.length-1]==="/"?"":"/";ye.path=C.record.path+(fe&&De+fe)}if(he=I0(ye,C,X),j?j.alias.push(he):(ce=ce||he,ce!==he&&ce.alias.push(he),G&&D.name&&!Ju(he)&&y(D.name)),"children"in W){const xe=W.children;for(let De=0;De<xe.length;De++)h(xe[De],he,j&&j.children[De])}j=j||he,T(he)}return ce?()=>{y(ce)}:Fi}function y(D){if(Hc(D)){const C=a.get(D);C&&(a.delete(D),i.splice(i.indexOf(C),1),C.children.forEach(y),C.alias.forEach(y))}else{const C=i.indexOf(D);C>-1&&(i.splice(C,1),D.record.name&&a.delete(D.record.name),D.children.forEach(y),D.alias.forEach(y))}}function A(){return i}function T(D){let C=0;for(;C<i.length&&A0(D,i[C])>=0&&(D.record.path!==i[C].record.path||!jc(D,i[C]));)C++;i.splice(C,0,D),D.record.name&&!Ju(D)&&a.set(D.record.name,D)}function O(D,C){let j,G={},W,X;if("name"in D&&D.name){if(j=a.get(D.name),!j)throw Jn(1,{location:D});X=j.record.name,G=st(D0(C.params,j.keys.filter(ce=>!ce.optional).map(ce=>ce.name)),D.params),W=j.stringify(G)}else if("path"in D)W=D.path,j=i.find(ce=>ce.re.test(W)),j&&(G=j.parse(W),X=j.record.name);else{if(j=C.name?a.get(C.name):i.find(ce=>ce.re.test(C.path)),!j)throw Jn(1,{location:D,currentLocation:C});X=j.record.name,G=st({},C.params,D.params),W=j.stringify(G)}const re=[];let he=j;for(;he;)re.unshift(he.record),he=he.parent;return{name:X,path:W,params:G,matched:re,meta:O0(re)}}return e.forEach(D=>h(D)),{addRoute:h,resolve:O,removeRoute:y,getRoutes:A,getRecordMatcher:u}}function D0(e,t){const i={};for(const a of t)a in e&&(i[a]=e[a]);return i}function _0(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:N0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function N0(e){const t={},i=e.props||!1;if("component"in e)t.default=i;else for(const a in e.components)t[a]=typeof i=="boolean"?i:i[a];return t}function Ju(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function O0(e){return e.reduce((t,i)=>st(t,i.meta),{})}function Xu(e,t){const i={};for(const a in e)i[a]=a in t?t[a]:e[a];return i}function jc(e,t){return t.children.some(i=>i===e||jc(e,i))}const Lc=/#/g,B0=/&/g,H0=/\//g,M0=/=/g,j0=/\?/g,kc=/\+/g,L0=/%5B/g,k0=/%5D/g,Kc=/%5E/g,K0=/%60/g,Vc=/%7B/g,V0=/%7C/g,Uc=/%7D/g,U0=/%20/g;function _o(e){return encodeURI(""+e).replace(V0,"|").replace(L0,"[").replace(k0,"]")}function q0(e){return _o(e).replace(Vc,"{").replace(Uc,"}").replace(Kc,"^")}function Qa(e){return _o(e).replace(kc,"%2B").replace(U0,"+").replace(Lc,"%23").replace(B0,"%26").replace(K0,"`").replace(Vc,"{").replace(Uc,"}").replace(Kc,"^")}function $0(e){return Qa(e).replace(M0,"%3D")}function W0(e){return _o(e).replace(Lc,"%23").replace(j0,"%3F")}function z0(e){return e==null?"":W0(e).replace(H0,"%2F")}function Ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function G0(e){const t={};if(e===""||e==="?")return t;const a=(e[0]==="?"?e.slice(1):e).split("&");for(let u=0;u<a.length;++u){const h=a[u].replace(kc," "),y=h.indexOf("="),A=Ts(y<0?h:h.slice(0,y)),T=y<0?null:Ts(h.slice(y+1));if(A in t){let O=t[A];Array.isArray(O)||(O=t[A]=[O]),O.push(T)}else t[A]=T}return t}function Qu(e){let t="";for(let i in e){const a=e[i];if(i=$0(i),a==null){a!==void 0&&(t+=(t.length?"&":"")+i);continue}(Array.isArray(a)?a.map(h=>h&&Qa(h)):[a&&Qa(a)]).forEach(h=>{h!==void 0&&(t+=(t.length?"&":"")+i,h!=null&&(t+="="+h))})}return t}function Y0(e){const t={};for(const i in e){const a=e[i];a!==void 0&&(t[i]=Array.isArray(a)?a.map(u=>u==null?null:""+u):a==null?a:""+a)}return t}function fi(){let e=[];function t(a){return e.push(a),()=>{const u=e.indexOf(a);u>-1&&e.splice(u,1)}}function i(){e=[]}return{add:t,list:()=>e,reset:i}}function on(e,t,i,a,u){const h=a&&(a.enterCallbacks[u]=a.enterCallbacks[u]||[]);return()=>new Promise((y,A)=>{const T=C=>{C===!1?A(Jn(4,{from:i,to:t})):C instanceof Error?A(C):S0(C)?A(Jn(2,{from:t,to:C})):(h&&a.enterCallbacks[u]===h&&typeof C=="function"&&h.push(C),y())},O=e.call(a&&a.instances[u],t,i,T);let D=Promise.resolve(O);e.length<3&&(D=D.then(T)),D.catch(C=>A(C))})}function Ra(e,t,i,a){const u=[];for(const h of e)for(const y in h.components){let A=h.components[y];if(!(t!=="beforeRouteEnter"&&!h.instances[y]))if(J0(A)){const O=(A.__vccOpts||A)[t];O&&u.push(on(O,i,a,h,y))}else{let T=A();u.push(()=>T.then(O=>{if(!O)return Promise.reject(new Error(`Couldn't resolve component "${y}" at "${h.path}"`));const D=r0(O)?O.default:O;h.components[y]=D;const j=(D.__vccOpts||D)[t];return j&&on(j,i,a,h,y)()}))}}return u}function J0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Zu(e){const t=Wr(Do),i=Wr(Nc),a=lt(()=>t.resolve(wi(e.to))),u=lt(()=>{const{matched:T}=a.value,{length:O}=T,D=T[O-1],C=i.matched;if(!D||!C.length)return-1;const j=C.findIndex(Yn.bind(null,D));if(j>-1)return j;const G=el(T[O-2]);return O>1&&el(D)===G&&C[C.length-1].path!==G?C.findIndex(Yn.bind(null,T[O-2])):j}),h=lt(()=>u.value>-1&&Z0(i.params,a.value.params)),y=lt(()=>u.value>-1&&u.value===i.matched.length-1&&Oc(i.params,a.value.params));function A(T={}){return Q0(T)?t[wi(e.replace)?"replace":"push"](wi(e.to)).catch(Fi):Promise.resolve()}return{route:a,href:lt(()=>a.value.href),isActive:h,isExactActive:y,navigate:A}}const X0=Zn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zu,setup(e,{slots:t}){const i=yr(Zu(e)),{options:a}=Wr(Do),u=lt(()=>({[tl(e.activeClass,a.linkActiveClass,"router-link-active")]:i.isActive,[tl(e.exactActiveClass,a.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const h=t.default&&t.default(i);return e.custom?h:Kn("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:u.value},h)}}}),qc=X0;function Q0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Z0(e,t){for(const i in t){const a=t[i],u=e[i];if(typeof a=="string"){if(a!==u)return!1}else if(!Array.isArray(u)||u.length!==a.length||a.some((h,y)=>h!==u[y]))return!1}return!0}function el(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const tl=(e,t,i)=>e??t??i,eg=Zn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:i}){const a=Wr(Ja),u=lt(()=>e.route||a.value),h=Wr(Uu,0),y=lt(()=>u.value.matched[h]);ls(Uu,h+1),ls(t0,y),ls(Ja,u);const A=Fn();return fs(()=>[A.value,y.value,e.name],([T,O,D],[C,j,G])=>{O&&(O.instances[D]=T,j&&j!==O&&T&&T===C&&(O.leaveGuards.size||(O.leaveGuards=j.leaveGuards),O.updateGuards.size||(O.updateGuards=j.updateGuards))),T&&O&&(!j||!Yn(O,j)||!C)&&(O.enterCallbacks[D]||[]).forEach(W=>W(T))},{flush:"post"}),()=>{const T=u.value,O=y.value,D=O&&O.components[e.name],C=e.name;if(!D)return rl(i.default,{Component:D,route:T});const j=O.props[e.name],G=j?j===!0?T.params:typeof j=="function"?j(T):j:null,X=Kn(D,st({},G,t,{onVnodeUnmounted:re=>{re.component.isUnmounted&&(O.instances[C]=null)},ref:A}));return rl(i.default,{Component:X,route:T})||X}}});function rl(e,t){if(!e)return null;const i=e(t);return i.length===1?i[0]:i}const $c=eg;function tg(e){const t=R0(e.routes,e),i=e.parseQuery||G0,a=e.stringifyQuery||Qu,u=e.history,h=fi(),y=fi(),A=fi(),T=pp(tn);let O=tn;kn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const D=Ta.bind(null,ie=>""+ie),C=Ta.bind(null,z0),j=Ta.bind(null,Ts);function G(ie,Se){let ge,Ee;return Hc(ie)?(ge=t.getRecordMatcher(ie),Ee=Se):Ee=ie,t.addRoute(Ee,ge)}function W(ie){const Se=t.getRecordMatcher(ie);Se&&t.removeRoute(Se)}function X(){return t.getRoutes().map(ie=>ie.record)}function re(ie){return!!t.getRecordMatcher(ie)}function he(ie,Se){if(Se=st({},Se||T.value),typeof ie=="string"){const M=Ia(i,ie,Se.path),L=t.resolve({path:M.path},Se),J=u.createHref(M.fullPath);return st(M,L,{params:j(L.params),hash:Ts(M.hash),redirectedFrom:void 0,href:J})}let ge;if("path"in ie)ge=st({},ie,{path:Ia(i,ie.path,Se.path).path});else{const M=st({},ie.params);for(const L in M)M[L]==null&&delete M[L];ge=st({},ie,{params:C(ie.params)}),Se.params=C(Se.params)}const Ee=t.resolve(ge,Se),Xe=ie.hash||"";Ee.params=D(j(Ee.params));const nt=s0(a,st({},ie,{hash:q0(Xe),path:Ee.path})),Me=u.createHref(nt);return st({fullPath:nt,hash:Xe,query:a===Qu?Y0(ie.query):ie.query||{}},Ee,{redirectedFrom:void 0,href:Me})}function ce(ie){return typeof ie=="string"?Ia(i,ie,T.value.path):st({},ie)}function ye(ie,Se){if(O!==ie)return Jn(8,{from:Se,to:ie})}function fe(ie){return Ke(ie)}function xe(ie){return fe(st(ce(ie),{replace:!0}))}function De(ie){const Se=ie.matched[ie.matched.length-1];if(Se&&Se.redirect){const{redirect:ge}=Se;let Ee=typeof ge=="function"?ge(ie):ge;return typeof Ee=="string"&&(Ee=Ee.includes("?")||Ee.includes("#")?Ee=ce(Ee):{path:Ee},Ee.params={}),st({query:ie.query,hash:ie.hash,params:ie.params},Ee)}}function Ke(ie,Se){const ge=O=he(ie),Ee=T.value,Xe=ie.state,nt=ie.force,Me=ie.replace===!0,M=De(ge);if(M)return Ke(st(ce(M),{state:Xe,force:nt,replace:Me}),Se||ge);const L=ge;L.redirectedFrom=Se;let J;return!nt&&a0(a,Ee,ge)&&(J=Jn(16,{to:L,from:Ee}),kr(Ee,Ee,!0,!1)),(J?Promise.resolve(J):Ue(L,Ee)).catch(se=>rn(se)?rn(se,2)?se:sr(se):Je(se,L,Ee)).then(se=>{if(se){if(rn(se,2))return Ke(st(ce(se.to),{state:Xe,force:nt,replace:Me}),Se||L)}else se=ir(L,Ee,!0,Me,Xe);return At(L,Ee,se),se})}function ct(ie,Se){const ge=ye(ie,Se);return ge?Promise.reject(ge):Promise.resolve()}function Ue(ie,Se){let ge;const[Ee,Xe,nt]=rg(ie,Se);ge=Ra(Ee.reverse(),"beforeRouteLeave",ie,Se);for(const M of Ee)M.leaveGuards.forEach(L=>{ge.push(on(L,ie,Se))});const Me=ct.bind(null,ie,Se);return ge.push(Me),Hn(ge).then(()=>{ge=[];for(const M of h.list())ge.push(on(M,ie,Se));return ge.push(Me),Hn(ge)}).then(()=>{ge=Ra(Xe,"beforeRouteUpdate",ie,Se);for(const M of Xe)M.updateGuards.forEach(L=>{ge.push(on(L,ie,Se))});return ge.push(Me),Hn(ge)}).then(()=>{ge=[];for(const M of ie.matched)if(M.beforeEnter&&!Se.matched.includes(M))if(Array.isArray(M.beforeEnter))for(const L of M.beforeEnter)ge.push(on(L,ie,Se));else ge.push(on(M.beforeEnter,ie,Se));return ge.push(Me),Hn(ge)}).then(()=>(ie.matched.forEach(M=>M.enterCallbacks={}),ge=Ra(nt,"beforeRouteEnter",ie,Se),ge.push(Me),Hn(ge))).then(()=>{ge=[];for(const M of y.list())ge.push(on(M,ie,Se));return ge.push(Me),Hn(ge)}).catch(M=>rn(M,8)?M:Promise.reject(M))}function At(ie,Se,ge){for(const Ee of A.list())Ee(ie,Se,ge)}function ir(ie,Se,ge,Ee,Xe){const nt=ye(ie,Se);if(nt)return nt;const Me=Se===tn,M=kn?history.state:{};ge&&(Ee||Me?u.replace(ie.fullPath,st({scroll:Me&&M&&M.scroll},Xe)):u.push(ie.fullPath,Xe)),T.value=ie,kr(ie,Se,ge,Me),sr()}let Cr;function Xr(){Cr=u.listen((ie,Se,ge)=>{const Ee=he(ie),Xe=De(Ee);if(Xe){Ke(st(Xe,{replace:!0}),Ee).catch(Fi);return}O=Ee;const nt=T.value;kn&&p0(Wu(nt.fullPath,ge.delta),Ws()),Ue(Ee,nt).catch(Me=>rn(Me,12)?Me:rn(Me,2)?(Ke(Me.to,Ee).then(M=>{rn(M,20)&&!ge.delta&&ge.type===Ni.pop&&u.go(-1,!1)}).catch(Fi),Promise.reject()):(ge.delta&&u.go(-ge.delta,!1),Je(Me,Ee,nt))).then(Me=>{Me=Me||ir(Ee,nt,!1),Me&&(ge.delta?u.go(-ge.delta,!1):ge.type===Ni.pop&&rn(Me,20)&&u.go(-1,!1)),At(Ee,nt,Me)}).catch(Fi)})}let Lr=fi(),gn=fi(),ft;function Je(ie,Se,ge){sr(ie);const Ee=gn.list();return Ee.length?Ee.forEach(Xe=>Xe(ie,Se,ge)):console.error(ie),Promise.reject(ie)}function We(){return ft&&T.value!==tn?Promise.resolve():new Promise((ie,Se)=>{Lr.add([ie,Se])})}function sr(ie){return ft||(ft=!ie,Xr(),Lr.list().forEach(([Se,ge])=>ie?ge(ie):Se()),Lr.reset()),ie}function kr(ie,Se,ge,Ee){const{scrollBehavior:Xe}=e;if(!kn||!Xe)return Promise.resolve();const nt=!ge&&g0(Wu(ie.fullPath,0))||(Ee||!ge)&&history.state&&history.state.scroll||null;return ji().then(()=>Xe(ie,Se,nt)).then(Me=>Me&&d0(Me)).catch(Me=>Je(Me,ie,Se))}const ar=ie=>u.go(ie);let Nt;const Qr=new Set;return{currentRoute:T,addRoute:G,removeRoute:W,hasRoute:re,getRoutes:X,resolve:he,options:e,push:fe,replace:xe,go:ar,back:()=>ar(-1),forward:()=>ar(1),beforeEach:h.add,beforeResolve:y.add,afterEach:A.add,onError:gn.add,isReady:We,install(ie){const Se=this;ie.component("RouterLink",qc),ie.component("RouterView",$c),ie.config.globalProperties.$router=Se,Object.defineProperty(ie.config.globalProperties,"$route",{enumerable:!0,get:()=>wi(T)}),kn&&!Nt&&T.value===tn&&(Nt=!0,fe(u.location).catch(Xe=>{}));const ge={};for(const Xe in tn)ge[Xe]=lt(()=>T.value[Xe]);ie.provide(Do,Se),ie.provide(Nc,yr(ge)),ie.provide(Ja,T);const Ee=ie.unmount;Qr.add(ie),ie.unmount=function(){Qr.delete(ie),Qr.size<1&&(O=tn,Cr&&Cr(),T.value=tn,Nt=!1,ft=!1),Ee()}}}}function Hn(e){return e.reduce((t,i)=>t.then(()=>i()),Promise.resolve())}function rg(e,t){const i=[],a=[],u=[],h=Math.max(t.matched.length,e.matched.length);for(let y=0;y<h;y++){const A=t.matched[y];A&&(e.matched.find(O=>Yn(O,A))?a.push(A):i.push(A));const T=e.matched[y];T&&(t.matched.find(O=>Yn(O,T))||u.push(T))}return[i,a,u]}const Er=(e,t)=>{const i=e.__vccOpts||e;for(const[a,u]of t)i[a]=u;return i},ng={name:"App",components:{RouterLink:qc,RouterView:$c}};function ig(e,t,i,a,u,h){const y=Br("router-view");return be(),Di(y)}const sg=Er(ng,[["render",ig]]);function Wc(e,t){return function(){return e.apply(t,arguments)}}const{toString:ag}=Object.prototype,{getPrototypeOf:No}=Object,{iterator:zs,toStringTag:zc}=Symbol,Gs=(e=>t=>{const i=ag.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fr=e=>(e=e.toLowerCase(),t=>Gs(t)===e),Ys=e=>t=>typeof t===e,{isArray:ti}=Array,Oi=Ys("undefined");function og(e){return e!==null&&!Oi(e)&&e.constructor!==null&&!Oi(e.constructor)&&rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Gc=Fr("ArrayBuffer");function ug(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Gc(e.buffer),t}const lg=Ys("string"),rr=Ys("function"),Yc=Ys("number"),Js=e=>e!==null&&typeof e=="object",cg=e=>e===!0||e===!1,ps=e=>{if(Gs(e)!=="object")return!1;const t=No(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(zc in e)&&!(zs in e)},fg=Fr("Date"),hg=Fr("File"),dg=Fr("Blob"),pg=Fr("FileList"),gg=e=>Js(e)&&rr(e.pipe),mg=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rr(e.append)&&((t=Gs(e))==="formdata"||t==="object"&&rr(e.toString)&&e.toString()==="[object FormData]"))},vg=Fr("URLSearchParams"),[yg,wg,Sg,xg]=["ReadableStream","Request","Response","Headers"].map(Fr),bg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ki(e,t,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let a,u;if(typeof e!="object"&&(e=[e]),ti(e))for(a=0,u=e.length;a<u;a++)t.call(null,e[a],a,e);else{const h=i?Object.getOwnPropertyNames(e):Object.keys(e),y=h.length;let A;for(a=0;a<y;a++)A=h[a],t.call(null,e[A],A,e)}}function Jc(e,t){t=t.toLowerCase();const i=Object.keys(e);let a=i.length,u;for(;a-- >0;)if(u=i[a],t===u.toLowerCase())return u;return null}const An=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xc=e=>!Oi(e)&&e!==An;function Za(){const{caseless:e}=Xc(this)&&this||{},t={},i=(a,u)=>{const h=e&&Jc(t,u)||u;ps(t[h])&&ps(a)?t[h]=Za(t[h],a):ps(a)?t[h]=Za({},a):ti(a)?t[h]=a.slice():t[h]=a};for(let a=0,u=arguments.length;a<u;a++)arguments[a]&&ki(arguments[a],i);return t}const Eg=(e,t,i,{allOwnKeys:a}={})=>(ki(t,(u,h)=>{i&&rr(u)?e[h]=Wc(u,i):e[h]=u},{allOwnKeys:a}),e),Fg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ag=(e,t,i,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},Cg=(e,t,i,a)=>{let u,h,y;const A={};if(t=t||{},e==null)return t;do{for(u=Object.getOwnPropertyNames(e),h=u.length;h-- >0;)y=u[h],(!a||a(y,e,t))&&!A[y]&&(t[y]=e[y],A[y]=!0);e=i!==!1&&No(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},Pg=(e,t,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=t.length;const a=e.indexOf(t,i);return a!==-1&&a===i},Tg=e=>{if(!e)return null;if(ti(e))return e;let t=e.length;if(!Yc(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},Ig=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&No(Uint8Array)),Rg=(e,t)=>{const a=(e&&e[zs]).call(e);let u;for(;(u=a.next())&&!u.done;){const h=u.value;t.call(e,h[0],h[1])}},Dg=(e,t)=>{let i;const a=[];for(;(i=e.exec(t))!==null;)a.push(i);return a},_g=Fr("HTMLFormElement"),Ng=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,u){return a.toUpperCase()+u}),nl=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),Og=Fr("RegExp"),Qc=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),a={};ki(i,(u,h)=>{let y;(y=t(u,h,e))!==!1&&(a[h]=y||u)}),Object.defineProperties(e,a)},Bg=e=>{Qc(e,(t,i)=>{if(rr(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=e[i];if(rr(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Hg=(e,t)=>{const i={},a=u=>{u.forEach(h=>{i[h]=!0})};return ti(e)?a(e):a(String(e).split(t)),i},Mg=()=>{},jg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Lg(e){return!!(e&&rr(e.append)&&e[zc]==="FormData"&&e[zs])}const kg=e=>{const t=new Array(10),i=(a,u)=>{if(Js(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[u]=a;const h=ti(a)?[]:{};return ki(a,(y,A)=>{const T=i(y,u+1);!Oi(T)&&(h[A]=T)}),t[u]=void 0,h}}return a};return i(e,0)},Kg=Fr("AsyncFunction"),Vg=e=>e&&(Js(e)||rr(e))&&rr(e.then)&&rr(e.catch),Zc=((e,t)=>e?setImmediate:t?((i,a)=>(An.addEventListener("message",({source:u,data:h})=>{u===An&&h===i&&a.length&&a.shift()()},!1),u=>{a.push(u),An.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",rr(An.postMessage)),Ug=typeof queueMicrotask<"u"?queueMicrotask.bind(An):typeof process<"u"&&process.nextTick||Zc,qg=e=>e!=null&&rr(e[zs]),Q={isArray:ti,isArrayBuffer:Gc,isBuffer:og,isFormData:mg,isArrayBufferView:ug,isString:lg,isNumber:Yc,isBoolean:cg,isObject:Js,isPlainObject:ps,isReadableStream:yg,isRequest:wg,isResponse:Sg,isHeaders:xg,isUndefined:Oi,isDate:fg,isFile:hg,isBlob:dg,isRegExp:Og,isFunction:rr,isStream:gg,isURLSearchParams:vg,isTypedArray:Ig,isFileList:pg,forEach:ki,merge:Za,extend:Eg,trim:bg,stripBOM:Fg,inherits:Ag,toFlatObject:Cg,kindOf:Gs,kindOfTest:Fr,endsWith:Pg,toArray:Tg,forEachEntry:Rg,matchAll:Dg,isHTMLForm:_g,hasOwnProperty:nl,hasOwnProp:nl,reduceDescriptors:Qc,freezeMethods:Bg,toObjectSet:Hg,toCamelCase:Ng,noop:Mg,toFiniteNumber:jg,findKey:Jc,global:An,isContextDefined:Xc,isSpecCompliantForm:Lg,toJSONObject:kg,isAsyncFn:Kg,isThenable:Vg,setImmediate:Zc,asap:Ug,isIterable:qg};function Ne(e,t,i,a,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),u&&(this.response=u,this.status=u.status?u.status:null)}Q.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const ef=Ne.prototype,tf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{tf[e]={value:e}});Object.defineProperties(Ne,tf);Object.defineProperty(ef,"isAxiosError",{value:!0});Ne.from=(e,t,i,a,u,h)=>{const y=Object.create(ef);return Q.toFlatObject(e,y,function(T){return T!==Error.prototype},A=>A!=="isAxiosError"),Ne.call(y,e.message,t,i,a,u),y.cause=e,y.name=e.name,h&&Object.assign(y,h),y};const $g=null;function eo(e){return Q.isPlainObject(e)||Q.isArray(e)}function rf(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function il(e,t,i){return e?e.concat(t).map(function(u,h){return u=rf(u),!i&&h?"["+u+"]":u}).join(i?".":""):t}function Wg(e){return Q.isArray(e)&&!e.some(eo)}const zg=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function Xs(e,t,i){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,i=Q.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(X,re){return!Q.isUndefined(re[X])});const a=i.metaTokens,u=i.visitor||D,h=i.dots,y=i.indexes,T=(i.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(u))throw new TypeError("visitor must be a function");function O(W){if(W===null)return"";if(Q.isDate(W))return W.toISOString();if(!T&&Q.isBlob(W))throw new Ne("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(W)||Q.isTypedArray(W)?T&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function D(W,X,re){let he=W;if(W&&!re&&typeof W=="object"){if(Q.endsWith(X,"{}"))X=a?X:X.slice(0,-2),W=JSON.stringify(W);else if(Q.isArray(W)&&Wg(W)||(Q.isFileList(W)||Q.endsWith(X,"[]"))&&(he=Q.toArray(W)))return X=rf(X),he.forEach(function(ye,fe){!(Q.isUndefined(ye)||ye===null)&&t.append(y===!0?il([X],fe,h):y===null?X:X+"[]",O(ye))}),!1}return eo(W)?!0:(t.append(il(re,X,h),O(W)),!1)}const C=[],j=Object.assign(zg,{defaultVisitor:D,convertValue:O,isVisitable:eo});function G(W,X){if(!Q.isUndefined(W)){if(C.indexOf(W)!==-1)throw Error("Circular reference detected in "+X.join("."));C.push(W),Q.forEach(W,function(he,ce){(!(Q.isUndefined(he)||he===null)&&u.call(t,he,Q.isString(ce)?ce.trim():ce,X,j))===!0&&G(he,X?X.concat(ce):[ce])}),C.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return G(e),t}function sl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function Oo(e,t){this._pairs=[],e&&Xs(e,this,t)}const nf=Oo.prototype;nf.append=function(t,i){this._pairs.push([t,i])};nf.toString=function(t){const i=t?function(a){return t.call(this,a,sl)}:sl;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function Gg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sf(e,t,i){if(!t)return e;const a=i&&i.encode||Gg;Q.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let h;if(u?h=u(t,i):h=Q.isURLSearchParams(t)?t.toString():new Oo(t,i).toString(a),h){const y=e.indexOf("#");y!==-1&&(e=e.slice(0,y)),e+=(e.indexOf("?")===-1?"?":"&")+h}return e}class al{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(a){a!==null&&t(a)})}}const af={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yg=typeof URLSearchParams<"u"?URLSearchParams:Oo,Jg=typeof FormData<"u"?FormData:null,Xg=typeof Blob<"u"?Blob:null,Qg={isBrowser:!0,classes:{URLSearchParams:Yg,FormData:Jg,Blob:Xg},protocols:["http","https","file","blob","url","data"]},Bo=typeof window<"u"&&typeof document<"u",to=typeof navigator=="object"&&navigator||void 0,Zg=Bo&&(!to||["ReactNative","NativeScript","NS"].indexOf(to.product)<0),em=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",tm=Bo&&window.location.href||"http://localhost",rm=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bo,hasStandardBrowserEnv:Zg,hasStandardBrowserWebWorkerEnv:em,navigator:to,origin:tm},Symbol.toStringTag,{value:"Module"})),Lt={...rm,...Qg};function nm(e,t){return Xs(e,new Lt.classes.URLSearchParams,Object.assign({visitor:function(i,a,u,h){return Lt.isNode&&Q.isBuffer(i)?(this.append(a,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},t))}function im(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function sm(e){const t={},i=Object.keys(e);let a;const u=i.length;let h;for(a=0;a<u;a++)h=i[a],t[h]=e[h];return t}function of(e){function t(i,a,u,h){let y=i[h++];if(y==="__proto__")return!0;const A=Number.isFinite(+y),T=h>=i.length;return y=!y&&Q.isArray(u)?u.length:y,T?(Q.hasOwnProp(u,y)?u[y]=[u[y],a]:u[y]=a,!A):((!u[y]||!Q.isObject(u[y]))&&(u[y]=[]),t(i,a,u[y],h)&&Q.isArray(u[y])&&(u[y]=sm(u[y])),!A)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const i={};return Q.forEachEntry(e,(a,u)=>{t(im(a),u,i,0)}),i}return null}function am(e,t,i){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(e)}const Ki={transitional:af,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",u=a.indexOf("application/json")>-1,h=Q.isObject(t);if(h&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return u?JSON.stringify(of(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let A;if(h){if(a.indexOf("application/x-www-form-urlencoded")>-1)return nm(t,this.formSerializer).toString();if((A=Q.isFileList(t))||a.indexOf("multipart/form-data")>-1){const T=this.env&&this.env.FormData;return Xs(A?{"files[]":t}:t,T&&new T,this.formSerializer)}}return h||u?(i.setContentType("application/json",!1),am(t)):t}],transformResponse:[function(t){const i=this.transitional||Ki.transitional,a=i&&i.forcedJSONParsing,u=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(a&&!this.responseType||u)){const y=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(t)}catch(A){if(y)throw A.name==="SyntaxError"?Ne.from(A,Ne.ERR_BAD_RESPONSE,this,null,this.response):A}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Ki.headers[e]={}});const om=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),um=e=>{const t={};let i,a,u;return e&&e.split(`
`).forEach(function(y){u=y.indexOf(":"),i=y.substring(0,u).trim().toLowerCase(),a=y.substring(u+1).trim(),!(!i||t[i]&&om[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},ol=Symbol("internals");function hi(e){return e&&String(e).trim().toLowerCase()}function gs(e){return e===!1||e==null?e:Q.isArray(e)?e.map(gs):String(e)}function lm(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(e);)t[a[1]]=a[2];return t}const cm=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Da(e,t,i,a,u){if(Q.isFunction(a))return a.call(this,t,i);if(u&&(t=i),!!Q.isString(t)){if(Q.isString(a))return t.indexOf(a)!==-1;if(Q.isRegExp(a))return a.test(t)}}function fm(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function hm(e,t){const i=Q.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+i,{value:function(u,h,y){return this[a].call(this,t,u,h,y)},configurable:!0})})}let nr=class{constructor(t){t&&this.set(t)}set(t,i,a){const u=this;function h(A,T,O){const D=hi(T);if(!D)throw new Error("header name must be a non-empty string");const C=Q.findKey(u,D);(!C||u[C]===void 0||O===!0||O===void 0&&u[C]!==!1)&&(u[C||T]=gs(A))}const y=(A,T)=>Q.forEach(A,(O,D)=>h(O,D,T));if(Q.isPlainObject(t)||t instanceof this.constructor)y(t,i);else if(Q.isString(t)&&(t=t.trim())&&!cm(t))y(um(t),i);else if(Q.isObject(t)&&Q.isIterable(t)){let A={},T,O;for(const D of t){if(!Q.isArray(D))throw TypeError("Object iterator must return a key-value pair");A[O=D[0]]=(T=A[O])?Q.isArray(T)?[...T,D[1]]:[T,D[1]]:D[1]}y(A,i)}else t!=null&&h(i,t,a);return this}get(t,i){if(t=hi(t),t){const a=Q.findKey(this,t);if(a){const u=this[a];if(!i)return u;if(i===!0)return lm(u);if(Q.isFunction(i))return i.call(this,u,a);if(Q.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=hi(t),t){const a=Q.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||Da(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let u=!1;function h(y){if(y=hi(y),y){const A=Q.findKey(a,y);A&&(!i||Da(a,a[A],A,i))&&(delete a[A],u=!0)}}return Q.isArray(t)?t.forEach(h):h(t),u}clear(t){const i=Object.keys(this);let a=i.length,u=!1;for(;a--;){const h=i[a];(!t||Da(this,this[h],h,t,!0))&&(delete this[h],u=!0)}return u}normalize(t){const i=this,a={};return Q.forEach(this,(u,h)=>{const y=Q.findKey(a,h);if(y){i[y]=gs(u),delete i[h];return}const A=t?fm(h):String(h).trim();A!==h&&delete i[h],i[A]=gs(u),a[A]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return Q.forEach(this,(a,u)=>{a!=null&&a!==!1&&(i[u]=t&&Q.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(u=>a.set(u)),a}static accessor(t){const a=(this[ol]=this[ol]={accessors:{}}).accessors,u=this.prototype;function h(y){const A=hi(y);a[A]||(hm(u,y),a[A]=!0)}return Q.isArray(t)?t.forEach(h):h(t),this}};nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(nr.prototype,({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(a){this[i]=a}}});Q.freezeMethods(nr);function _a(e,t){const i=this||Ki,a=t||i,u=nr.from(a.headers);let h=a.data;return Q.forEach(e,function(A){h=A.call(i,h,u.normalize(),t?t.status:void 0)}),u.normalize(),h}function uf(e){return!!(e&&e.__CANCEL__)}function ri(e,t,i){Ne.call(this,e??"canceled",Ne.ERR_CANCELED,t,i),this.name="CanceledError"}Q.inherits(ri,Ne,{__CANCEL__:!0});function lf(e,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?e(i):t(new Ne("Request failed with status code "+i.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function dm(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pm(e,t){e=e||10;const i=new Array(e),a=new Array(e);let u=0,h=0,y;return t=t!==void 0?t:1e3,function(T){const O=Date.now(),D=a[h];y||(y=O),i[u]=T,a[u]=O;let C=h,j=0;for(;C!==u;)j+=i[C++],C=C%e;if(u=(u+1)%e,u===h&&(h=(h+1)%e),O-y<t)return;const G=D&&O-D;return G?Math.round(j*1e3/G):void 0}}function gm(e,t){let i=0,a=1e3/t,u,h;const y=(O,D=Date.now())=>{i=D,u=null,h&&(clearTimeout(h),h=null),e.apply(null,O)};return[(...O)=>{const D=Date.now(),C=D-i;C>=a?y(O,D):(u=O,h||(h=setTimeout(()=>{h=null,y(u)},a-C)))},()=>u&&y(u)]}const Is=(e,t,i=3)=>{let a=0;const u=pm(50,250);return gm(h=>{const y=h.loaded,A=h.lengthComputable?h.total:void 0,T=y-a,O=u(T),D=y<=A;a=y;const C={loaded:y,total:A,progress:A?y/A:void 0,bytes:T,rate:O||void 0,estimated:O&&A&&D?(A-y)/O:void 0,event:h,lengthComputable:A!=null,[t?"download":"upload"]:!0};e(C)},i)},ul=(e,t)=>{const i=e!=null;return[a=>t[0]({lengthComputable:i,total:e,loaded:a}),t[1]]},ll=e=>(...t)=>Q.asap(()=>e(...t)),mm=Lt.hasStandardBrowserEnv?((e,t)=>i=>(i=new URL(i,Lt.origin),e.protocol===i.protocol&&e.host===i.host&&(t||e.port===i.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,vm=Lt.hasStandardBrowserEnv?{write(e,t,i,a,u,h){const y=[e+"="+encodeURIComponent(t)];Q.isNumber(i)&&y.push("expires="+new Date(i).toGMTString()),Q.isString(a)&&y.push("path="+a),Q.isString(u)&&y.push("domain="+u),h===!0&&y.push("secure"),document.cookie=y.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ym(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wm(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function cf(e,t,i){let a=!ym(t);return e&&(a||i==!1)?wm(e,t):t}const cl=e=>e instanceof nr?{...e}:e;function Dn(e,t){t=t||{};const i={};function a(O,D,C,j){return Q.isPlainObject(O)&&Q.isPlainObject(D)?Q.merge.call({caseless:j},O,D):Q.isPlainObject(D)?Q.merge({},D):Q.isArray(D)?D.slice():D}function u(O,D,C,j){if(Q.isUndefined(D)){if(!Q.isUndefined(O))return a(void 0,O,C,j)}else return a(O,D,C,j)}function h(O,D){if(!Q.isUndefined(D))return a(void 0,D)}function y(O,D){if(Q.isUndefined(D)){if(!Q.isUndefined(O))return a(void 0,O)}else return a(void 0,D)}function A(O,D,C){if(C in t)return a(O,D);if(C in e)return a(void 0,O)}const T={url:h,method:h,data:h,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:A,headers:(O,D,C)=>u(cl(O),cl(D),C,!0)};return Q.forEach(Object.keys(Object.assign({},e,t)),function(D){const C=T[D]||u,j=C(e[D],t[D],D);Q.isUndefined(j)&&C!==A||(i[D]=j)}),i}const ff=e=>{const t=Dn({},e);let{data:i,withXSRFToken:a,xsrfHeaderName:u,xsrfCookieName:h,headers:y,auth:A}=t;t.headers=y=nr.from(y),t.url=sf(cf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),A&&y.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):"")));let T;if(Q.isFormData(i)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if((T=y.getContentType())!==!1){const[O,...D]=T?T.split(";").map(C=>C.trim()).filter(Boolean):[];y.setContentType([O||"multipart/form-data",...D].join("; "))}}if(Lt.hasStandardBrowserEnv&&(a&&Q.isFunction(a)&&(a=a(t)),a||a!==!1&&mm(t.url))){const O=u&&h&&vm.read(h);O&&y.set(u,O)}return t},Sm=typeof XMLHttpRequest<"u",xm=Sm&&function(e){return new Promise(function(i,a){const u=ff(e);let h=u.data;const y=nr.from(u.headers).normalize();let{responseType:A,onUploadProgress:T,onDownloadProgress:O}=u,D,C,j,G,W;function X(){G&&G(),W&&W(),u.cancelToken&&u.cancelToken.unsubscribe(D),u.signal&&u.signal.removeEventListener("abort",D)}let re=new XMLHttpRequest;re.open(u.method.toUpperCase(),u.url,!0),re.timeout=u.timeout;function he(){if(!re)return;const ye=nr.from("getAllResponseHeaders"in re&&re.getAllResponseHeaders()),xe={data:!A||A==="text"||A==="json"?re.responseText:re.response,status:re.status,statusText:re.statusText,headers:ye,config:e,request:re};lf(function(Ke){i(Ke),X()},function(Ke){a(Ke),X()},xe),re=null}"onloadend"in re?re.onloadend=he:re.onreadystatechange=function(){!re||re.readyState!==4||re.status===0&&!(re.responseURL&&re.responseURL.indexOf("file:")===0)||setTimeout(he)},re.onabort=function(){re&&(a(new Ne("Request aborted",Ne.ECONNABORTED,e,re)),re=null)},re.onerror=function(){a(new Ne("Network Error",Ne.ERR_NETWORK,e,re)),re=null},re.ontimeout=function(){let fe=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const xe=u.transitional||af;u.timeoutErrorMessage&&(fe=u.timeoutErrorMessage),a(new Ne(fe,xe.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,e,re)),re=null},h===void 0&&y.setContentType(null),"setRequestHeader"in re&&Q.forEach(y.toJSON(),function(fe,xe){re.setRequestHeader(xe,fe)}),Q.isUndefined(u.withCredentials)||(re.withCredentials=!!u.withCredentials),A&&A!=="json"&&(re.responseType=u.responseType),O&&([j,W]=Is(O,!0),re.addEventListener("progress",j)),T&&re.upload&&([C,G]=Is(T),re.upload.addEventListener("progress",C),re.upload.addEventListener("loadend",G)),(u.cancelToken||u.signal)&&(D=ye=>{re&&(a(!ye||ye.type?new ri(null,e,re):ye),re.abort(),re=null)},u.cancelToken&&u.cancelToken.subscribe(D),u.signal&&(u.signal.aborted?D():u.signal.addEventListener("abort",D)));const ce=dm(u.url);if(ce&&Lt.protocols.indexOf(ce)===-1){a(new Ne("Unsupported protocol "+ce+":",Ne.ERR_BAD_REQUEST,e));return}re.send(h||null)})},bm=(e,t)=>{const{length:i}=e=e?e.filter(Boolean):[];if(t||i){let a=new AbortController,u;const h=function(O){if(!u){u=!0,A();const D=O instanceof Error?O:this.reason;a.abort(D instanceof Ne?D:new ri(D instanceof Error?D.message:D))}};let y=t&&setTimeout(()=>{y=null,h(new Ne(`timeout ${t} of ms exceeded`,Ne.ETIMEDOUT))},t);const A=()=>{e&&(y&&clearTimeout(y),y=null,e.forEach(O=>{O.unsubscribe?O.unsubscribe(h):O.removeEventListener("abort",h)}),e=null)};e.forEach(O=>O.addEventListener("abort",h));const{signal:T}=a;return T.unsubscribe=()=>Q.asap(A),T}},Em=function*(e,t){let i=e.byteLength;if(i<t){yield e;return}let a=0,u;for(;a<i;)u=a+t,yield e.slice(a,u),a=u},Fm=async function*(e,t){for await(const i of Am(e))yield*Em(i,t)},Am=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},fl=(e,t,i,a)=>{const u=Fm(e,t);let h=0,y,A=T=>{y||(y=!0,a&&a(T))};return new ReadableStream({async pull(T){try{const{done:O,value:D}=await u.next();if(O){A(),T.close();return}let C=D.byteLength;if(i){let j=h+=C;i(j)}T.enqueue(new Uint8Array(D))}catch(O){throw A(O),O}},cancel(T){return A(T),u.return()}},{highWaterMark:2})},Qs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hf=Qs&&typeof ReadableStream=="function",Cm=Qs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),df=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Pm=hf&&df(()=>{let e=!1;const t=new Request(Lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),hl=64*1024,ro=hf&&df(()=>Q.isReadableStream(new Response("").body)),Rs={stream:ro&&(e=>e.body)};Qs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Rs[t]&&(Rs[t]=Q.isFunction(e[t])?i=>i[t]():(i,a)=>{throw new Ne(`Response type '${t}' is not supported`,Ne.ERR_NOT_SUPPORT,a)})})})(new Response);const Tm=async e=>{if(e==null)return 0;if(Q.isBlob(e))return e.size;if(Q.isSpecCompliantForm(e))return(await new Request(Lt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(e)||Q.isArrayBuffer(e))return e.byteLength;if(Q.isURLSearchParams(e)&&(e=e+""),Q.isString(e))return(await Cm(e)).byteLength},Im=async(e,t)=>{const i=Q.toFiniteNumber(e.getContentLength());return i??Tm(t)},Rm=Qs&&(async e=>{let{url:t,method:i,data:a,signal:u,cancelToken:h,timeout:y,onDownloadProgress:A,onUploadProgress:T,responseType:O,headers:D,withCredentials:C="same-origin",fetchOptions:j}=ff(e);O=O?(O+"").toLowerCase():"text";let G=bm([u,h&&h.toAbortSignal()],y),W;const X=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let re;try{if(T&&Pm&&i!=="get"&&i!=="head"&&(re=await Im(D,a))!==0){let xe=new Request(t,{method:"POST",body:a,duplex:"half"}),De;if(Q.isFormData(a)&&(De=xe.headers.get("content-type"))&&D.setContentType(De),xe.body){const[Ke,ct]=ul(re,Is(ll(T)));a=fl(xe.body,hl,Ke,ct)}}Q.isString(C)||(C=C?"include":"omit");const he="credentials"in Request.prototype;W=new Request(t,{...j,signal:G,method:i.toUpperCase(),headers:D.normalize().toJSON(),body:a,duplex:"half",credentials:he?C:void 0});let ce=await fetch(W);const ye=ro&&(O==="stream"||O==="response");if(ro&&(A||ye&&X)){const xe={};["status","statusText","headers"].forEach(Ue=>{xe[Ue]=ce[Ue]});const De=Q.toFiniteNumber(ce.headers.get("content-length")),[Ke,ct]=A&&ul(De,Is(ll(A),!0))||[];ce=new Response(fl(ce.body,hl,Ke,()=>{ct&&ct(),X&&X()}),xe)}O=O||"text";let fe=await Rs[Q.findKey(Rs,O)||"text"](ce,e);return!ye&&X&&X(),await new Promise((xe,De)=>{lf(xe,De,{data:fe,headers:nr.from(ce.headers),status:ce.status,statusText:ce.statusText,config:e,request:W})})}catch(he){throw X&&X(),he&&he.name==="TypeError"&&/Load failed|fetch/i.test(he.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,e,W),{cause:he.cause||he}):Ne.from(he,he&&he.code,e,W)}}),no={http:$g,xhr:xm,fetch:Rm};Q.forEach(no,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dl=e=>`- ${e}`,Dm=e=>Q.isFunction(e)||e===null||e===!1,pf={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:t}=e;let i,a;const u={};for(let h=0;h<t;h++){i=e[h];let y;if(a=i,!Dm(i)&&(a=no[(y=String(i)).toLowerCase()],a===void 0))throw new Ne(`Unknown adapter '${y}'`);if(a)break;u[y||"#"+h]=a}if(!a){const h=Object.entries(u).map(([A,T])=>`adapter ${A} `+(T===!1?"is not supported by the environment":"is not available in the build"));let y=t?h.length>1?`since :
`+h.map(dl).join(`
`):" "+dl(h[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return a},adapters:no};function Na(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ri(null,e)}function pl(e){return Na(e),e.headers=nr.from(e.headers),e.data=_a.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pf.getAdapter(e.adapter||Ki.adapter)(e).then(function(a){return Na(e),a.data=_a.call(e,e.transformResponse,a),a.headers=nr.from(a.headers),a},function(a){return uf(a)||(Na(e),a&&a.response&&(a.response.data=_a.call(e,e.transformResponse,a.response),a.response.headers=nr.from(a.response.headers))),Promise.reject(a)})}const gf="1.9.0",Zs={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Zs[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}});const gl={};Zs.transitional=function(t,i,a){function u(h,y){return"[Axios v"+gf+"] Transitional option '"+h+"'"+y+(a?". "+a:"")}return(h,y,A)=>{if(t===!1)throw new Ne(u(y," has been removed"+(i?" in "+i:"")),Ne.ERR_DEPRECATED);return i&&!gl[y]&&(gl[y]=!0,console.warn(u(y," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(h,y,A):!0}};Zs.spelling=function(t){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function _m(e,t,i){if(typeof e!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let u=a.length;for(;u-- >0;){const h=a[u],y=t[h];if(y){const A=e[h],T=A===void 0||y(A,h,e);if(T!==!0)throw new Ne("option "+h+" must be "+T,Ne.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Ne("Unknown option "+h,Ne.ERR_BAD_OPTION)}}const ms={assertOptions:_m,validators:Zs},Dr=ms.validators;let In=class{constructor(t){this.defaults=t||{},this.interceptors={request:new al,response:new al}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const h=u.stack?u.stack.replace(/^.+\n/,""):"";try{a.stack?h&&!String(a.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+h):a.stack=h}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Dn(this.defaults,i);const{transitional:a,paramsSerializer:u,headers:h}=i;a!==void 0&&ms.assertOptions(a,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),u!=null&&(Q.isFunction(u)?i.paramsSerializer={serialize:u}:ms.assertOptions(u,{encode:Dr.function,serialize:Dr.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),ms.assertOptions(i,{baseUrl:Dr.spelling("baseURL"),withXsrfToken:Dr.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let y=h&&Q.merge(h.common,h[i.method]);h&&Q.forEach(["delete","get","head","post","put","patch","common"],W=>{delete h[W]}),i.headers=nr.concat(y,h);const A=[];let T=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(i)===!1||(T=T&&X.synchronous,A.unshift(X.fulfilled,X.rejected))});const O=[];this.interceptors.response.forEach(function(X){O.push(X.fulfilled,X.rejected)});let D,C=0,j;if(!T){const W=[pl.bind(this),void 0];for(W.unshift.apply(W,A),W.push.apply(W,O),j=W.length,D=Promise.resolve(i);C<j;)D=D.then(W[C++],W[C++]);return D}j=A.length;let G=i;for(C=0;C<j;){const W=A[C++],X=A[C++];try{G=W(G)}catch(re){X.call(this,re);break}}try{D=pl.call(this,G)}catch(W){return Promise.reject(W)}for(C=0,j=O.length;C<j;)D=D.then(O[C++],O[C++]);return D}getUri(t){t=Dn(this.defaults,t);const i=cf(t.baseURL,t.url,t.allowAbsoluteUrls);return sf(i,t.params,t.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(t){In.prototype[t]=function(i,a){return this.request(Dn(a||{},{method:t,url:i,data:(a||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function i(a){return function(h,y,A){return this.request(Dn(A||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:h,data:y}))}}In.prototype[t]=i(),In.prototype[t+"Form"]=i(!0)});let Nm=class mf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const a=this;this.promise.then(u=>{if(!a._listeners)return;let h=a._listeners.length;for(;h-- >0;)a._listeners[h](u);a._listeners=null}),this.promise.then=u=>{let h;const y=new Promise(A=>{a.subscribe(A),h=A}).then(u);return y.cancel=function(){a.unsubscribe(h)},y},t(function(h,y,A){a.reason||(a.reason=new ri(h,y,A),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new mf(function(u){t=u}),cancel:t}}};function Om(e){return function(i){return e.apply(null,i)}}function Bm(e){return Q.isObject(e)&&e.isAxiosError===!0}const io={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(io).forEach(([e,t])=>{io[t]=e});function vf(e){const t=new In(e),i=Wc(In.prototype.request,t);return Q.extend(i,In.prototype,t,{allOwnKeys:!0}),Q.extend(i,t,null,{allOwnKeys:!0}),i.create=function(u){return vf(Dn(e,u))},i}const ke=vf(Ki);ke.Axios=In;ke.CanceledError=ri;ke.CancelToken=Nm;ke.isCancel=uf;ke.VERSION=gf;ke.toFormData=Xs;ke.AxiosError=Ne;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=Om;ke.isAxiosError=Bm;ke.mergeConfig=Dn;ke.AxiosHeaders=nr;ke.formToJSON=e=>of(Q.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=pf.getAdapter;ke.HttpStatusCode=io;ke.default=ke;const{Axios:QS,AxiosError:ZS,CanceledError:ex,isCancel:tx,CancelToken:rx,VERSION:nx,all:ix,Cancel:sx,isAxiosError:ax,spread:ox,toFormData:ux,AxiosHeaders:lx,HttpStatusCode:cx,formToJSON:fx,getAdapter:hx,mergeConfig:dx}=ke,fr="http://127.0.0.1:5000/",Ho="http://127.0.0.2:5000/",Hm=fr+"/api/auth/signin",Mm=fr+"/api/auth/signup",jm=fr+"/api/auth/twofa/setup",Lm=fr+"/api/auth/twofa/check",km=fr+"/api/auth/twofa/cancel",Km=fr+"/api/auth/twofa/verify",Vm=fr+"/api/file/download",Um=fr+"/api/file/fileinfo",qm=fr+"/api/file/userlist",$m=fr+"/api/file/getkeys",Wm=fr+"/api/file/update-owner",zm=fr+"/api/file/upload",Gm=fr+"/api/file/delete",Ym=Ho+"/api/cert/gencert",Jm=Ho+"/api/key/public",Xm=Ho+"/api/key/private";async function Qm(e){try{return(await ke.get(qm,{headers:{Authorization:`Bearer ${e}`}})).data.data}catch(t){throw console.error("取得用戶列表失敗:",t),new Error("取得用戶列表失敗，請稍後再試。")}}async function Zm(e,t,i,a,u){try{const h=new FormData;return h.append("fileId",t),h.append("kmsKeyId",i),h.append("encryptedKey",new Blob([a])),h.append("allowedUsers",u),(await ke.post(Wm,h,{headers:{Authorization:`Bearer ${e}`}})).data.data}catch(h){throw console.error("金鑰更新失敗:",h),new Error("金鑰更新失敗，請稍後再試。")}}async function ev(e,t,i){i(!0);try{return(await ke.get(Um,{headers:{Authorization:`Bearer ${e}`}})).data.data}catch(a){throw console.error("請求文件列表失敗:",a),a.response&&a.response.status===401&&t.push("/"),new Error("無法取得文件列表，請稍後再試。")}finally{i(!1)}}async function tv(e,t){try{await ke.get(Gm,{headers:{Authorization:`Bearer ${t}`},params:{fileID:e}})}catch(i){throw console.error("刪除失敗:",i),new Error("刪除失敗，請稍後再試。")}}async function yf(e,t){try{const i=new FormData;return i.append("username",e),i.append("password",t),(await ke.post(Hm,i,{headers:{"Content-Type":"multipart/form-data"}})).data.data.accessToken}catch(i){throw i.response?i.response.status==302?(console.log("需要兩階段驗證碼"),i):(console.error("API 錯誤回應:",i.response.data),new Error("登入失敗，請檢查你的帳號或密碼。")):i.request?(console.error("API 無回應:",i.request),new Error("無法連接到伺服器，請檢查你的網路連線。")):(console.error("請求設定錯誤:",i.message),new Error("發生未知錯誤，請稍後再試。"))}}async function rv(e,t){const i=new FormData;i.append("username",e),i.append("password",t),await ke.post(Mm,i,{headers:{"Content-Type":"multipart/form-data"}})}async function nv(e,t){try{return(await ke.get(jm,{headers:{Authorization:`Bearer ${e}`},params:{reset:t}})).data.data}catch(i){throw i.response?(console.error("API 錯誤回應:",i.response.data),new Error("找不到使用者")):i.request?(console.error("API 無回應:",i.request),new Error("無法連接到伺服器，請檢查你的網路連線。")):(console.error("請求設定錯誤:",i.message),new Error("發生未知錯誤，請稍後再試。"))}}async function iv(e){try{return(await ke.get(Lm,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}})).data.data.hasTwoFactorAuth}catch(t){throw t.response?(console.error("API 錯誤回應:",t.response.data),new Error("找不到使用者")):t.request?(console.error("API 無回應:",t.request),new Error("無法連接到伺服器，請檢查你的網路連線。")):(console.error("請求設定錯誤:",t.message),new Error("發生未知錯誤，請稍後再試。"))}}async function sv(e){try{return(await ke.get(km,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}})).data.data}catch(t){throw t.response?(console.error("API 錯誤回應:",t.response.data),new Error("找不到使用者")):t.request?(console.error("API 無回應:",t.request),new Error("無法連接到伺服器，請檢查你的網路連線。")):(console.error("請求設定錯誤:",t.message),new Error("發生未知錯誤，請稍後再試。"))}}async function wf(e,t){try{const i=new FormData;return i.append("code",t),i.append("username",e),(await ke.post(Km,i,{headers:{"Content-Type":"multipart/form-data"}})).data.data.accessToken}catch(i){throw i.response?(console.error("API 錯誤回應:",i.response.data),new Error("錯誤的驗證碼")):i.request?(console.error("API 無回應:",i.request),new Error("無法連接到伺服器，請檢查你的網路連線。")):(console.error("請求設定錯誤:",i.message),new Error("發生未知錯誤，請稍後再試。"))}}const av={name:"LoginPage",data(){return{username:"",password:"",loading:!1,errorMessage:"",showTwoFaModal:!1,twoFaCode:"",twoFaErrorMessage:""}},methods:{async handleLogin(){this.loading=!0,this.errorMessage="",this.twoFaErrorMessage="",this.showTwoFaModal=!1;try{const e=await yf(this.username,this.password);e?(localStorage.setItem("accessToken",e),localStorage.setItem("username",this.username),console.log("Token 已儲存:",e),this.$router.push("/dashboard")):this.errorMessage="登入成功，但未收到有效的憑證。"}catch(e){this.loading=!1,console.error("登入失敗:",e),e.response&&e.response.status===302?(console.log("需要進行兩階段驗證。"),this.showTwoFaModal=!0):e.response&&e.response.data&&e.response.data.message?this.errorMessage=e.response.data.message:this.errorMessage=e.message||"登入失敗，請稍後再試。"}finally{this.loading=!1}},async handleTwoFaVerification(){if(!this.twoFaCode||this.twoFaCode.length!==6||!/^\d+$/.test(this.twoFaCode)){this.twoFaErrorMessage="請輸入 6 位數字的有效驗證碼。";return}this.loading=!0,this.twoFaErrorMessage="";try{const e=await wf(this.username,this.twoFaCode);e?(localStorage.setItem("accessToken",e),localStorage.setItem("username",this.username),console.log("2FA 驗證成功，Token 已儲存:",e),this.showTwoFaModal=!1,this.$router.push("/dashboard")):this.twoFaErrorMessage=response.message||"2FA 驗證失敗，請檢查驗證碼。"}catch(e){console.error("2FA 驗證失敗:",e),e.response&&e.response.data&&e.response.data.message?this.twoFaErrorMessage=e.response.data.message:this.twoFaErrorMessage=e.message||"2FA 驗證時發生錯誤，請重試。"}finally{this.loading=!1,this.username="",this.password="",this.twoFaCode=""}},cancelTwoFa(){this.showTwoFaModal=!1,this.twoFaCode="",this.twoFaErrorMessage="",this.username="",this.password="",this.errorMessage="兩階段驗證已取消。"}}},ov={class:"login-container"},uv={class:"login-box"},lv={class:"form-group"},cv=["disabled"],fv={class:"form-group"},hv=["disabled"],dv=["disabled"],pv={key:0,class:"error-message"},gv={class:"register-link-container"},mv={key:0,class:"two-fa-modal-overlay"},vv={class:"two-fa-modal-card"},yv={class:"form-group"},wv=["disabled"],Sv={class:"modal-actions"},xv=["disabled"],bv=["disabled"],Ev={key:0,class:"error-message two-fa-error"};function Fv(e,t,i,a,u,h){const y=Br("router-link");return be(),Ae("div",ov,[Y("div",uv,[t[11]||(t[11]=Y("h1",{class:"login-title"},"登入",-1)),Y("form",{onSubmit:t[2]||(t[2]=En((...A)=>h.handleLogin&&h.handleLogin(...A),["prevent"])),class:"login-form"},[Y("div",lv,[t[7]||(t[7]=Y("label",{for:"username",class:"sr-only"},"帳號名稱",-1)),Pn(Y("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=A=>u.username=A),placeholder:"帳號名稱",class:"form-input",required:"",disabled:u.loading||u.showTwoFaModal},null,8,cv),[[Tn,u.username]])]),Y("div",fv,[t[8]||(t[8]=Y("label",{for:"password",class:"sr-only"},"密碼",-1)),Pn(Y("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=A=>u.password=A),placeholder:"密碼",class:"form-input",required:"",disabled:u.loading||u.showTwoFaModal},null,8,hv),[[Tn,u.password]])]),Y("button",{type:"submit",class:"login-button",disabled:u.loading||u.showTwoFaModal},rt(u.loading?"登入中...":"登入"),9,dv)],32),u.errorMessage?(be(),Ae("div",pv,rt(u.errorMessage),1)):St("",!0),Y("div",gv,[t[10]||(t[10]=_t(" 第一次使用？")),Be(y,{to:"/register",class:"register-link"},{default:Eo(()=>t[9]||(t[9]=[_t("註冊")])),_:1,__:[9]})])]),u.showTwoFaModal?(be(),Ae("div",mv,[Y("div",vv,[t[13]||(t[13]=Y("h3",null,"兩階段驗證",-1)),t[14]||(t[14]=Y("p",null,"請輸入您的驗證器應用程式（如 Google Authenticator）生成的 6 位數字驗證碼。",-1)),Y("div",yv,[t[12]||(t[12]=Y("label",{for:"twoFaCode",class:"sr-only"},"驗證碼",-1)),Pn(Y("input",{type:"text",id:"twoFaCode","onUpdate:modelValue":t[3]||(t[3]=A=>u.twoFaCode=A),placeholder:"輸入 6 位數字驗證碼",maxlength:"6",class:"form-input two-fa-input",required:"",onKeyup:t[4]||(t[4]=Rc((...A)=>h.handleTwoFaVerification&&h.handleTwoFaVerification(...A),["enter"])),disabled:u.loading},null,40,wv),[[Tn,u.twoFaCode]])]),Y("div",Sv,[Y("button",{onClick:t[5]||(t[5]=(...A)=>h.handleTwoFaVerification&&h.handleTwoFaVerification(...A)),disabled:u.loading||!u.twoFaCode.length,class:"login-button confirm-button"},rt(u.loading?"驗證中...":"確認"),9,xv),Y("button",{onClick:t[6]||(t[6]=(...A)=>h.cancelTwoFa&&h.cancelTwoFa(...A)),disabled:u.loading,class:"cancel-button"}," 取消 ",8,bv)]),u.twoFaErrorMessage?(be(),Ae("div",Ev,rt(u.twoFaErrorMessage),1)):St("",!0)])])):St("",!0)])}const Av=Er(av,[["render",Fv],["__scopeId","data-v-0ac00eab"]]),Cv={name:"RegisterForm",data(){return{username:"",password:"",registrationError:"",registrationSuccess:!1,loading:!1}},methods:{async handleRegister(){this.loading=!0;try{await rv(this.username,this.password),this.loading=!1,this.registrationSuccess=!0,this.registrationError="";const e=await yf(this.username,this.password);localStorage.setItem("accessToken",e),localStorage.setItem("username",this.username),console.log("Token 已儲存:",e),this.$router.push("/dashboard")}catch(e){this.registrationError="註冊失敗，請稍後再試。",this.registrationSuccess=!1,console.error("註冊失敗:",e)}finally{this.username="",this.password=""}},gotoSignin(){this.$router.push("/")}}},Pv={class:"register-container"},Tv={class:"register-box"},Iv={class:"form-group"},Rv={class:"form-group"},Dv=["disabled"],_v={key:0,class:"error-message"},Nv={class:"login-link-container"};function Ov(e,t,i,a,u,h){const y=Br("router-link");return be(),Ae("div",Pv,[Y("div",Tv,[t[9]||(t[9]=Y("h1",{class:"register-title"},"註冊",-1)),Y("form",{onSubmit:t[2]||(t[2]=En((...A)=>h.handleRegister&&h.handleRegister(...A),["prevent"])),class:"register-form"},[Y("div",Iv,[t[3]||(t[3]=Y("label",{for:"username",class:"sr-only"},"帳號名稱",-1)),Pn(Y("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=A=>u.username=A),placeholder:"帳號名稱",class:"form-input",required:""},null,512),[[Tn,u.username]]),t[4]||(t[4]=Y("p",{class:"input-description"},"請輸入您的帳號名稱",-1))]),Y("div",Rv,[t[5]||(t[5]=Y("label",{for:"password",class:"sr-only"},"密碼",-1)),Pn(Y("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=A=>u.password=A),placeholder:"密碼",class:"form-input",required:""},null,512),[[Tn,u.password]]),t[6]||(t[6]=Y("p",{class:"input-description"},"請輸入您的密碼",-1))]),Y("button",{type:"submit",class:"register-button",disabled:u.loading},rt(u.loading?"註冊中...":"註冊"),9,Dv)],32),u.registrationError?(be(),Ae("div",_v,rt(u.registrationError),1)):St("",!0),Y("div",Nv,[t[8]||(t[8]=_t(" 已經有帳號了？")),Be(y,{to:"/login",class:"login-link"},{default:Eo(()=>t[7]||(t[7]=[_t("登入")])),_:1,__:[7]})])])])}const Bv=Er(Cv,[["render",Ov],["__scopeId","data-v-39eadf90"]]),Sf=6048e5,Hv=864e5,ml=Symbol.for("constructDateFrom");function fn(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&ml in e?e[ml](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ar(e,t){return fn(t||e,e)}let Mv={};function ea(){return Mv}function Bi(e,t){var A,T,O,D;const i=ea(),a=(t==null?void 0:t.weekStartsOn)??((T=(A=t==null?void 0:t.locale)==null?void 0:A.options)==null?void 0:T.weekStartsOn)??i.weekStartsOn??((D=(O=i.locale)==null?void 0:O.options)==null?void 0:D.weekStartsOn)??0,u=Ar(e,t==null?void 0:t.in),h=u.getDay(),y=(h<a?7:0)+h-a;return u.setDate(u.getDate()-y),u.setHours(0,0,0,0),u}function Ds(e,t){return Bi(e,{...t,weekStartsOn:1})}function xf(e,t){const i=Ar(e,t==null?void 0:t.in),a=i.getFullYear(),u=fn(i,0);u.setFullYear(a+1,0,4),u.setHours(0,0,0,0);const h=Ds(u),y=fn(i,0);y.setFullYear(a,0,4),y.setHours(0,0,0,0);const A=Ds(y);return i.getTime()>=h.getTime()?a+1:i.getTime()>=A.getTime()?a:a-1}function vl(e){const t=Ar(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}function jv(e,...t){const i=fn.bind(null,t.find(a=>typeof a=="object"));return t.map(i)}function yl(e,t){const i=Ar(e,t==null?void 0:t.in);return i.setHours(0,0,0,0),i}function Lv(e,t,i){const[a,u]=jv(i==null?void 0:i.in,e,t),h=yl(a),y=yl(u),A=+h-vl(h),T=+y-vl(y);return Math.round((A-T)/Hv)}function kv(e,t){const i=xf(e,t),a=fn(e,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Ds(a)}function Kv(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Vv(e){return!(!Kv(e)&&typeof e!="number"||isNaN(+Ar(e)))}function Uv(e,t){const i=Ar(e,t==null?void 0:t.in);return i.setFullYear(i.getFullYear(),0,1),i.setHours(0,0,0,0),i}const qv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$v=(e,t,i)=>{let a;const u=qv[e];return typeof u=="string"?a=u:t===1?a=u.one:a=u.other.replace("{{count}}",t.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+a:a+" ago":a};function Oa(e){return(t={})=>{const i=t.width?String(t.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}const Wv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yv={date:Oa({formats:Wv,defaultWidth:"full"}),time:Oa({formats:zv,defaultWidth:"full"}),dateTime:Oa({formats:Gv,defaultWidth:"full"})},Jv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xv=(e,t,i,a)=>Jv[e];function di(e){return(t,i)=>{const a=i!=null&&i.context?String(i.context):"standalone";let u;if(a==="formatting"&&e.formattingValues){const y=e.defaultFormattingWidth||e.defaultWidth,A=i!=null&&i.width?String(i.width):y;u=e.formattingValues[A]||e.formattingValues[y]}else{const y=e.defaultWidth,A=i!=null&&i.width?String(i.width):e.defaultWidth;u=e.values[A]||e.values[y]}const h=e.argumentCallback?e.argumentCallback(t):t;return u[h]}}const Qv={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ey={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ty={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ry={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ny={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},iy=(e,t)=>{const i=Number(e),a=i%100;if(a>20||a<10)switch(a%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},sy={ordinalNumber:iy,era:di({values:Qv,defaultWidth:"wide"}),quarter:di({values:Zv,defaultWidth:"wide",argumentCallback:e=>e-1}),month:di({values:ey,defaultWidth:"wide"}),day:di({values:ty,defaultWidth:"wide"}),dayPeriod:di({values:ry,defaultWidth:"wide",formattingValues:ny,defaultFormattingWidth:"wide"})};function pi(e){return(t,i={})=>{const a=i.width,u=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],h=t.match(u);if(!h)return null;const y=h[0],A=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],T=Array.isArray(A)?oy(A,C=>C.test(y)):ay(A,C=>C.test(y));let O;O=e.valueCallback?e.valueCallback(T):T,O=i.valueCallback?i.valueCallback(O):O;const D=t.slice(y.length);return{value:O,rest:D}}}function ay(e,t){for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t(e[i]))return i}function oy(e,t){for(let i=0;i<e.length;i++)if(t(e[i]))return i}function uy(e){return(t,i={})=>{const a=t.match(e.matchPattern);if(!a)return null;const u=a[0],h=t.match(e.parsePattern);if(!h)return null;let y=e.valueCallback?e.valueCallback(h[0]):h[0];y=i.valueCallback?i.valueCallback(y):y;const A=t.slice(u.length);return{value:y,rest:A}}}const ly=/^(\d+)(th|st|nd|rd)?/i,cy=/\d+/i,fy={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hy={any:[/^b/i,/^(a|c)/i]},dy={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},py={any:[/1/i,/2/i,/3/i,/4/i]},gy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},my={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vy={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yy={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Sy={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xy={ordinalNumber:uy({matchPattern:ly,parsePattern:cy,valueCallback:e=>parseInt(e,10)}),era:pi({matchPatterns:fy,defaultMatchWidth:"wide",parsePatterns:hy,defaultParseWidth:"any"}),quarter:pi({matchPatterns:dy,defaultMatchWidth:"wide",parsePatterns:py,defaultParseWidth:"any",valueCallback:e=>e+1}),month:pi({matchPatterns:gy,defaultMatchWidth:"wide",parsePatterns:my,defaultParseWidth:"any"}),day:pi({matchPatterns:vy,defaultMatchWidth:"wide",parsePatterns:yy,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:wy,defaultMatchWidth:"any",parsePatterns:Sy,defaultParseWidth:"any"})},by={code:"en-US",formatDistance:$v,formatLong:Yv,formatRelative:Xv,localize:sy,match:xy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ey(e,t){const i=Ar(e,t==null?void 0:t.in);return Lv(i,Uv(i))+1}function Fy(e,t){const i=Ar(e,t==null?void 0:t.in),a=+Ds(i)-+kv(i);return Math.round(a/Sf)+1}function bf(e,t){var D,C,j,G;const i=Ar(e,t==null?void 0:t.in),a=i.getFullYear(),u=ea(),h=(t==null?void 0:t.firstWeekContainsDate)??((C=(D=t==null?void 0:t.locale)==null?void 0:D.options)==null?void 0:C.firstWeekContainsDate)??u.firstWeekContainsDate??((G=(j=u.locale)==null?void 0:j.options)==null?void 0:G.firstWeekContainsDate)??1,y=fn((t==null?void 0:t.in)||e,0);y.setFullYear(a+1,0,h),y.setHours(0,0,0,0);const A=Bi(y,t),T=fn((t==null?void 0:t.in)||e,0);T.setFullYear(a,0,h),T.setHours(0,0,0,0);const O=Bi(T,t);return+i>=+A?a+1:+i>=+O?a:a-1}function Ay(e,t){var A,T,O,D;const i=ea(),a=(t==null?void 0:t.firstWeekContainsDate)??((T=(A=t==null?void 0:t.locale)==null?void 0:A.options)==null?void 0:T.firstWeekContainsDate)??i.firstWeekContainsDate??((D=(O=i.locale)==null?void 0:O.options)==null?void 0:D.firstWeekContainsDate)??1,u=bf(e,t),h=fn((t==null?void 0:t.in)||e,0);return h.setFullYear(u,0,a),h.setHours(0,0,0,0),Bi(h,t)}function Cy(e,t){const i=Ar(e,t==null?void 0:t.in),a=+Bi(i,t)-+Ay(i,t);return Math.round(a/Sf)+1}function Ze(e,t){const i=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return i+a}const nn={y(e,t){const i=e.getFullYear(),a=i>0?i:1-i;return Ze(t==="yy"?a%100:a,t.length)},M(e,t){const i=e.getMonth();return t==="M"?String(i+1):Ze(i+1,2)},d(e,t){return Ze(e.getDate(),t.length)},a(e,t){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h(e,t){return Ze(e.getHours()%12||12,t.length)},H(e,t){return Ze(e.getHours(),t.length)},m(e,t){return Ze(e.getMinutes(),t.length)},s(e,t){return Ze(e.getSeconds(),t.length)},S(e,t){const i=t.length,a=e.getMilliseconds(),u=Math.trunc(a*Math.pow(10,i-3));return Ze(u,t.length)}},Mn={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wl={G:function(e,t,i){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})}},y:function(e,t,i){if(t==="yo"){const a=e.getFullYear(),u=a>0?a:1-a;return i.ordinalNumber(u,{unit:"year"})}return nn.y(e,t)},Y:function(e,t,i,a){const u=bf(e,a),h=u>0?u:1-u;if(t==="YY"){const y=h%100;return Ze(y,2)}return t==="Yo"?i.ordinalNumber(h,{unit:"year"}):Ze(h,t.length)},R:function(e,t){const i=xf(e);return Ze(i,t.length)},u:function(e,t){const i=e.getFullYear();return Ze(i,t.length)},Q:function(e,t,i){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ze(a,2);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,i){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ze(a,2);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,i){const a=e.getMonth();switch(t){case"M":case"MM":return nn.M(e,t);case"Mo":return i.ordinalNumber(a+1,{unit:"month"});case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,i){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ze(a+1,2);case"Lo":return i.ordinalNumber(a+1,{unit:"month"});case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,i,a){const u=Cy(e,a);return t==="wo"?i.ordinalNumber(u,{unit:"week"}):Ze(u,t.length)},I:function(e,t,i){const a=Fy(e);return t==="Io"?i.ordinalNumber(a,{unit:"week"}):Ze(a,t.length)},d:function(e,t,i){return t==="do"?i.ordinalNumber(e.getDate(),{unit:"date"}):nn.d(e,t)},D:function(e,t,i){const a=Ey(e);return t==="Do"?i.ordinalNumber(a,{unit:"dayOfYear"}):Ze(a,t.length)},E:function(e,t,i){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,i,a){const u=e.getDay(),h=(u-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(h);case"ee":return Ze(h,2);case"eo":return i.ordinalNumber(h,{unit:"day"});case"eee":return i.day(u,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(u,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(u,{width:"short",context:"formatting"});case"eeee":default:return i.day(u,{width:"wide",context:"formatting"})}},c:function(e,t,i,a){const u=e.getDay(),h=(u-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(h);case"cc":return Ze(h,t.length);case"co":return i.ordinalNumber(h,{unit:"day"});case"ccc":return i.day(u,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(u,{width:"narrow",context:"standalone"});case"cccccc":return i.day(u,{width:"short",context:"standalone"});case"cccc":default:return i.day(u,{width:"wide",context:"standalone"})}},i:function(e,t,i){const a=e.getDay(),u=a===0?7:a;switch(t){case"i":return String(u);case"ii":return Ze(u,t.length);case"io":return i.ordinalNumber(u,{unit:"day"});case"iii":return i.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(a,{width:"short",context:"formatting"});case"iiii":default:return i.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,i){const u=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},b:function(e,t,i){const a=e.getHours();let u;switch(a===12?u=Mn.noon:a===0?u=Mn.midnight:u=a/12>=1?"pm":"am",t){case"b":case"bb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},B:function(e,t,i){const a=e.getHours();let u;switch(a>=17?u=Mn.evening:a>=12?u=Mn.afternoon:a>=4?u=Mn.morning:u=Mn.night,t){case"B":case"BB":case"BBB":return i.dayPeriod(u,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(u,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(u,{width:"wide",context:"formatting"})}},h:function(e,t,i){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),i.ordinalNumber(a,{unit:"hour"})}return nn.h(e,t)},H:function(e,t,i){return t==="Ho"?i.ordinalNumber(e.getHours(),{unit:"hour"}):nn.H(e,t)},K:function(e,t,i){const a=e.getHours()%12;return t==="Ko"?i.ordinalNumber(a,{unit:"hour"}):Ze(a,t.length)},k:function(e,t,i){let a=e.getHours();return a===0&&(a=24),t==="ko"?i.ordinalNumber(a,{unit:"hour"}):Ze(a,t.length)},m:function(e,t,i){return t==="mo"?i.ordinalNumber(e.getMinutes(),{unit:"minute"}):nn.m(e,t)},s:function(e,t,i){return t==="so"?i.ordinalNumber(e.getSeconds(),{unit:"second"}):nn.s(e,t)},S:function(e,t){return nn.S(e,t)},X:function(e,t,i){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return xl(a);case"XXXX":case"XX":return bn(a);case"XXXXX":case"XXX":default:return bn(a,":")}},x:function(e,t,i){const a=e.getTimezoneOffset();switch(t){case"x":return xl(a);case"xxxx":case"xx":return bn(a);case"xxxxx":case"xxx":default:return bn(a,":")}},O:function(e,t,i){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Sl(a,":");case"OOOO":default:return"GMT"+bn(a,":")}},z:function(e,t,i){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Sl(a,":");case"zzzz":default:return"GMT"+bn(a,":")}},t:function(e,t,i){const a=Math.trunc(+e/1e3);return Ze(a,t.length)},T:function(e,t,i){return Ze(+e,t.length)}};function Sl(e,t=""){const i=e>0?"-":"+",a=Math.abs(e),u=Math.trunc(a/60),h=a%60;return h===0?i+String(u):i+String(u)+t+Ze(h,2)}function xl(e,t){return e%60===0?(e>0?"-":"+")+Ze(Math.abs(e)/60,2):bn(e,t)}function bn(e,t=""){const i=e>0?"-":"+",a=Math.abs(e),u=Ze(Math.trunc(a/60),2),h=Ze(a%60,2);return i+u+t+h}const bl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Ef=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Py=(e,t)=>{const i=e.match(/(P+)(p+)?/)||[],a=i[1],u=i[2];if(!u)return bl(e,t);let h;switch(a){case"P":h=t.dateTime({width:"short"});break;case"PP":h=t.dateTime({width:"medium"});break;case"PPP":h=t.dateTime({width:"long"});break;case"PPPP":default:h=t.dateTime({width:"full"});break}return h.replace("{{date}}",bl(a,t)).replace("{{time}}",Ef(u,t))},Ty={p:Ef,P:Py},Iy=/^D+$/,Ry=/^Y+$/,Dy=["D","DD","YY","YYYY"];function _y(e){return Iy.test(e)}function Ny(e){return Ry.test(e)}function Oy(e,t,i){const a=By(e,t,i);if(console.warn(a),Dy.includes(e))throw new RangeError(a)}function By(e,t,i){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${i}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,My=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jy=/^'([^]*?)'?$/,Ly=/''/g,ky=/[a-zA-Z]/;function Ky(e,t,i){var D,C,j,G;const a=ea(),u=a.locale??by,h=a.firstWeekContainsDate??((C=(D=a.locale)==null?void 0:D.options)==null?void 0:C.firstWeekContainsDate)??1,y=a.weekStartsOn??((G=(j=a.locale)==null?void 0:j.options)==null?void 0:G.weekStartsOn)??0,A=Ar(e,i==null?void 0:i.in);if(!Vv(A))throw new RangeError("Invalid time value");let T=t.match(My).map(W=>{const X=W[0];if(X==="p"||X==="P"){const re=Ty[X];return re(W,u.formatLong)}return W}).join("").match(Hy).map(W=>{if(W==="''")return{isToken:!1,value:"'"};const X=W[0];if(X==="'")return{isToken:!1,value:Vy(W)};if(wl[X])return{isToken:!0,value:W};if(X.match(ky))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return{isToken:!1,value:W}});u.localize.preprocessor&&(T=u.localize.preprocessor(A,T));const O={firstWeekContainsDate:h,weekStartsOn:y,locale:u};return T.map(W=>{if(!W.isToken)return W.value;const X=W.value;(Ny(X)||_y(X))&&Oy(X,t,String(e));const re=wl[X[0]];return re(A,X,u.localize,O)}).join("")}function Vy(e){const t=e.match(jy);return t?t[1].replace(Ly,"'"):e}function Ff(e){return e<1024?`${e} 位元組`:e<1024*1024?`${(e/1024).toFixed(2)} KB`:`${(e/(1024*1024)).toFixed(2)} MB`}function Uy(e){const t=new Date(e);return Ky(t,"yyyy-MM-dd HH:mm:ss")}function qy(e){if(!e)return new Uint8Array(0);const t=new Uint8Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i/2]=parseInt(e.substring(i,i+2),16);return t}function Mo(e){const t=window.atob(e),i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i.buffer}var de={},El;function $y(){if(El)return de;El=1;var e={};e.userAgent=!1;var t={},i="11.1.0",a="jsrsasign(all) 11.1.0 (2024-02-01) (c) 2010-2023 Kenji Urushima | kjur.github.io/jsrsasign/license";/*! CryptoJS v3.1.2 core-fix.js
 * code.google.com/p/crypto-js
 * (c) 2009-2013 by Jeff Mott. All rights reserved.
 * code.google.com/p/crypto-js/wiki/License
 * THIS IS FIX of 'core.js' to fix Hmac issue.
 * https://code.google.com/p/crypto-js/issues/detail?id=84
 * https://crypto-js.googlecode.com/svn-history/r667/branches/3.x/src/core.js
 */var u=u||function(r,n){var s={},o=s.lib={},c=o.Base=function(){function d(){}return{extend:function(w){d.prototype=this;var m=new d;return w&&m.mixIn(w),m.hasOwnProperty("init")||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var m in w)w.hasOwnProperty(m)&&(this[m]=w[m]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=o.WordArray=c.extend({init:function(d,w){d=this.words=d||[],w!=n?this.sigBytes=w:this.sigBytes=d.length*4},toString:function(d){return(d||p).stringify(this)},concat:function(d){var w=this.words,m=d.words,S=this.sigBytes,E=d.sigBytes;if(this.clamp(),S%4)for(var P=0;P<E;P++){var H=m[P>>>2]>>>24-P%4*8&255;w[S+P>>>2]|=H<<24-(S+P)%4*8}else for(var P=0;P<E;P+=4)w[S+P>>>2]=m[P>>>2];return this.sigBytes+=E,this},clamp:function(){var d=this.words,w=this.sigBytes;d[w>>>2]&=4294967295<<32-w%4*8,d.length=r.ceil(w/4)},clone:function(){var d=c.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var w=[],m=0;m<d;m+=4)w.push(r.random()*4294967296|0);return new l.init(w,d)}}),g=s.enc={},p=g.Hex={stringify:function(d){for(var w=d.words,m=d.sigBytes,S=[],E=0;E<m;E++){var P=w[E>>>2]>>>24-E%4*8&255;S.push((P>>>4).toString(16)),S.push((P&15).toString(16))}return S.join("")},parse:function(d){for(var w=d.length,m=[],S=0;S<w;S+=2)m[S>>>3]|=parseInt(d.substr(S,2),16)<<24-S%8*4;return new l.init(m,w/2)}},x=g.Latin1={stringify:function(d){for(var w=d.words,m=d.sigBytes,S=[],E=0;E<m;E++){var P=w[E>>>2]>>>24-E%4*8&255;S.push(String.fromCharCode(P))}return S.join("")},parse:function(d){for(var w=d.length,m=[],S=0;S<w;S++)m[S>>>2]|=(d.charCodeAt(S)&255)<<24-S%4*8;return new l.init(m,w)}},v=g.Utf8={stringify:function(d){try{return decodeURIComponent(escape(x.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return x.parse(unescape(encodeURIComponent(d)))}},F=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=v.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var w=this._data,m=w.words,S=w.sigBytes,E=this.blockSize,P=E*4,H=S/P;d?H=r.ceil(H):H=r.max((H|0)-this._minBufferSize,0);var K=H*E,k=r.min(K*4,S);if(K){for(var U=0;U<K;U+=E)this._doProcessBlock(m,U);var I=m.splice(0,K);w.sigBytes-=k}return new l.init(I,k)},clone:function(){var d=c.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0});o.Hasher=F.extend({cfg:c.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){F.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){d&&this._append(d);var w=this._doFinalize();return w},blockSize:512/32,_createHelper:function(d){return function(w,m){return new d.init(m).finalize(w)}},_createHmacHelper:function(d){return function(w,m){return new b.HMAC.init(d,m).finalize(w)}}});var b=s.algo={};return s}(Math);(function(r){var c=u,n=c.lib,s=n.Base,o=n.WordArray,c=c.x64={};c.Word=s.extend({init:function(l,g){this.high=l,this.low=g}}),c.WordArray=s.extend({init:function(l,g){l=this.words=l||[],this.sigBytes=g!=r?g:8*l.length},toX32:function(){for(var l=this.words,g=l.length,p=[],x=0;x<g;x++){var v=l[x];p.push(v.high),p.push(v.low)}return o.create(p,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),g=l.words=this.words.slice(0),p=g.length,x=0;x<p;x++)g[x]=g[x].clone();return l}})})(),u.lib.Cipher||function(r){var w=u,n=w.lib,s=n.Base,o=n.WordArray,c=n.BufferedBlockAlgorithm,l=w.enc.Base64,g=w.algo.EvpKDF,p=n.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(S,E){return this.create(this._ENC_XFORM_MODE,S,E)},createDecryptor:function(S,E){return this.create(this._DEC_XFORM_MODE,S,E)},init:function(S,E,P){this.cfg=this.cfg.extend(P),this._xformMode=S,this._key=E,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){return S&&this._append(S),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(S){return{encrypt:function(E,P,H){return(typeof P=="string"?m:d).encrypt(S,E,P,H)},decrypt:function(E,P,H){return(typeof P=="string"?m:d).decrypt(S,E,P,H)}}}});n.StreamCipher=p.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var b=w.mode={},x=function(S,E,P){var H=this._iv;H?this._iv=r:H=this._prevBlock;for(var K=0;K<P;K++)S[E+K]^=H[K]},v=(n.BlockCipherMode=s.extend({createEncryptor:function(S,E){return this.Encryptor.create(S,E)},createDecryptor:function(S,E){return this.Decryptor.create(S,E)},init:function(S,E){this._cipher=S,this._iv=E}})).extend();v.Encryptor=v.extend({processBlock:function(S,E){var P=this._cipher,H=P.blockSize;x.call(this,S,E,H),P.encryptBlock(S,E),this._prevBlock=S.slice(E,E+H)}}),v.Decryptor=v.extend({processBlock:function(S,E){var P=this._cipher,H=P.blockSize,K=S.slice(E,E+H);P.decryptBlock(S,E),x.call(this,S,E,H),this._prevBlock=K}}),b=b.CBC=v,v=(w.pad={}).Pkcs7={pad:function(S,E){for(var P=4*E,P=P-S.sigBytes%P,H=P<<24|P<<16|P<<8|P,K=[],k=0;k<P;k+=4)K.push(H);P=o.create(K,P),S.concat(P)},unpad:function(S){S.sigBytes-=S.words[S.sigBytes-1>>>2]&255}},n.BlockCipher=p.extend({cfg:p.cfg.extend({mode:b,padding:v}),reset:function(){p.reset.call(this);var E=this.cfg,S=E.iv,E=E.mode;if(this._xformMode==this._ENC_XFORM_MODE)var P=E.createEncryptor;else P=E.createDecryptor,this._minBufferSize=1;this._mode=P.call(E,this,S&&S.words)},_doProcessBlock:function(S,E){this._mode.processBlock(S,E)},_doFinalize:function(){var S=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){S.pad(this._data,this.blockSize);var E=this._process(!0)}else E=this._process(!0),S.unpad(E);return E},blockSize:4});var F=n.CipherParams=s.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),b=(w.format={}).OpenSSL={stringify:function(S){var E=S.ciphertext;return S=S.salt,(S?o.create([1398893684,1701076831]).concat(S).concat(E):E).toString(l)},parse:function(S){S=l.parse(S);var E=S.words;if(E[0]==1398893684&&E[1]==1701076831){var P=o.create(E.slice(2,4));E.splice(0,4),S.sigBytes-=16}return F.create({ciphertext:S,salt:P})}},d=n.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(S,E,P,H){H=this.cfg.extend(H);var K=S.createEncryptor(P,H);return E=K.finalize(E),K=K.cfg,F.create({ciphertext:E,key:P,iv:K.iv,algorithm:S,mode:K.mode,padding:K.padding,blockSize:S.blockSize,formatter:H.format})},decrypt:function(S,E,P,H){return H=this.cfg.extend(H),E=this._parse(E,H.format),S.createDecryptor(P,H).finalize(E.ciphertext)},_parse:function(S,E){return typeof S=="string"?E.parse(S,this):S}}),w=(w.kdf={}).OpenSSL={execute:function(S,E,P,H){return H||(H=o.random(8)),S=g.create({keySize:E+P}).compute(S,H),P=o.create(S.words.slice(E),4*P),S.sigBytes=4*E,F.create({key:S,iv:P,salt:H})}},m=n.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:w}),encrypt:function(S,E,P,H){return H=this.cfg.extend(H),P=H.kdf.execute(P,S.keySize,S.ivSize),H.iv=P.iv,S=d.encrypt.call(this,S,E,P.key,H),S.mixIn(P),S},decrypt:function(S,E,P,H){return H=this.cfg.extend(H),E=this._parse(E,H.format),P=H.kdf.execute(P,S.keySize,S.ivSize,E.salt),H.iv=P.iv,d.decrypt.call(this,S,E,P.key,H)}})}(),function(){for(var r=u,n=r.lib.BlockCipher,I=r.algo,s=[],o=[],c=[],l=[],g=[],p=[],x=[],v=[],F=[],b=[],d=[],w=0;256>w;w++)d[w]=128>w?w<<1:w<<1^283;for(var m=0,S=0,w=0;256>w;w++){var E=S^S<<1^S<<2^S<<3^S<<4,E=E>>>8^E&255^99;s[m]=E,o[E]=m;var P=d[m],H=d[P],K=d[H],k=257*d[E]^16843008*E;c[m]=k<<24|k>>>8,l[m]=k<<16|k>>>16,g[m]=k<<8|k>>>24,p[m]=k,k=16843009*K^65537*H^257*P^16843008*m,x[E]=k<<24|k>>>8,v[E]=k<<16|k>>>16,F[E]=k<<8|k>>>24,b[E]=k,m?(m=P^d[d[d[K^P]]],S^=d[d[S]]):m=S=1}var U=[0,1,2,4,8,16,32,64,128,27,54],I=I.AES=n.extend({_doReset:function(){for(var R=this._key,_=R.words,N=R.sigBytes/4,R=4*((this._nRounds=N+6)+1),B=this._keySchedule=[],V=0;V<R;V++)if(V<N)B[V]=_[V];else{var $=B[V-1];V%N?6<N&&V%N==4&&($=s[$>>>24]<<24|s[$>>>16&255]<<16|s[$>>>8&255]<<8|s[$&255]):($=$<<8|$>>>24,$=s[$>>>24]<<24|s[$>>>16&255]<<16|s[$>>>8&255]<<8|s[$&255],$^=U[V/N|0]<<24),B[V]=B[V-N]^$}for(_=this._invKeySchedule=[],N=0;N<R;N++)V=R-N,$=N%4?B[V]:B[V-4],_[N]=4>N||4>=V?$:x[s[$>>>24]]^v[s[$>>>16&255]]^F[s[$>>>8&255]]^b[s[$&255]]},encryptBlock:function(_,N){this._doCryptBlock(_,N,this._keySchedule,c,l,g,p,s)},decryptBlock:function(_,N){var R=_[N+1];_[N+1]=_[N+3],_[N+3]=R,this._doCryptBlock(_,N,this._invKeySchedule,x,v,F,b,o),R=_[N+1],_[N+1]=_[N+3],_[N+3]=R},_doCryptBlock:function(_,N,R,B,V,$,ee,q){for(var z=this._nRounds,Pt=_[N]^R[0],It=_[N+1]^R[1],Tt=_[N+2]^R[2],bt=_[N+3]^R[3],te=4,ne=1;ne<z;ne++)var Ht=B[Pt>>>24]^V[It>>>16&255]^$[Tt>>>8&255]^ee[bt&255]^R[te++],gt=B[It>>>24]^V[Tt>>>16&255]^$[bt>>>8&255]^ee[Pt&255]^R[te++],it=B[Tt>>>24]^V[bt>>>16&255]^$[Pt>>>8&255]^ee[It&255]^R[te++],bt=B[bt>>>24]^V[Pt>>>16&255]^$[It>>>8&255]^ee[Tt&255]^R[te++],Pt=Ht,It=gt,Tt=it;Ht=(q[Pt>>>24]<<24|q[It>>>16&255]<<16|q[Tt>>>8&255]<<8|q[bt&255])^R[te++],gt=(q[It>>>24]<<24|q[Tt>>>16&255]<<16|q[bt>>>8&255]<<8|q[Pt&255])^R[te++],it=(q[Tt>>>24]<<24|q[bt>>>16&255]<<16|q[Pt>>>8&255]<<8|q[It&255])^R[te++],bt=(q[bt>>>24]<<24|q[Pt>>>16&255]<<16|q[It>>>8&255]<<8|q[Tt&255])^R[te++],_[N]=Ht,_[N+1]=gt,_[N+2]=it,_[N+3]=bt},keySize:8});r.AES=n._createHelper(I)}(),function(){function r(d,w){var m=(this._lBlock>>>d^this._rBlock)&w;this._rBlock^=m,this._lBlock^=m<<d}function n(d,w){var m=(this._rBlock>>>d^this._lBlock)&w;this._lBlock^=m,this._rBlock^=m<<d}var s=u,c=s.lib,o=c.WordArray,c=c.BlockCipher,l=s.algo,g=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],p=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],v=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],F=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],b=l.DES=c.extend({_doReset:function(){for(var d=this._key.words,w=[],m=0;56>m;m++){var S=g[m]-1;w[m]=d[S>>>5]>>>31-S%32&1}for(d=this._subKeys=[],S=0;16>S;S++){for(var E=d[S]=[],P=x[S],m=0;24>m;m++)E[m/6|0]|=w[(p[m]-1+P)%28]<<31-m%6,E[4+(m/6|0)]|=w[28+(p[m+24]-1+P)%28]<<31-m%6;for(E[0]=E[0]<<1|E[0]>>>31,m=1;7>m;m++)E[m]>>>=4*(m-1)+3;E[7]=E[7]<<5|E[7]>>>27}for(w=this._invSubKeys=[],m=0;16>m;m++)w[m]=d[15-m]},encryptBlock:function(d,w){this._doCryptBlock(d,w,this._subKeys)},decryptBlock:function(d,w){this._doCryptBlock(d,w,this._invSubKeys)},_doCryptBlock:function(d,w,m){this._lBlock=d[w],this._rBlock=d[w+1],r.call(this,4,252645135),r.call(this,16,65535),n.call(this,2,858993459),n.call(this,8,16711935),r.call(this,1,1431655765);for(var S=0;16>S;S++){for(var E=m[S],P=this._lBlock,H=this._rBlock,K=0,k=0;8>k;k++)K|=v[k][((H^E[k])&F[k])>>>0];this._lBlock=H,this._rBlock=P^K}m=this._lBlock,this._lBlock=this._rBlock,this._rBlock=m,r.call(this,1,1431655765),n.call(this,8,16711935),n.call(this,2,858993459),r.call(this,16,65535),r.call(this,4,252645135),d[w]=this._lBlock,d[w+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});s.DES=c._createHelper(b),l=l.TripleDES=c.extend({_doReset:function(){var d=this._key.words;this._des1=b.createEncryptor(o.create(d.slice(0,2))),this._des2=b.createEncryptor(o.create(d.slice(2,4))),this._des3=b.createEncryptor(o.create(d.slice(4,6)))},encryptBlock:function(d,w){this._des1.encryptBlock(d,w),this._des2.decryptBlock(d,w),this._des3.encryptBlock(d,w)},decryptBlock:function(d,w){this._des3.decryptBlock(d,w),this._des2.encryptBlock(d,w),this._des1.decryptBlock(d,w)},keySize:6,ivSize:2,blockSize:2}),s.TripleDES=c._createHelper(l)}(),function(){var r=u,n=r.lib.WordArray;r.enc.Base64={stringify:function(s){var o=s.words,c=s.sigBytes,l=this._map;s.clamp(),s=[];for(var g=0;g<c;g+=3)for(var p=(o[g>>>2]>>>24-8*(g%4)&255)<<16|(o[g+1>>>2]>>>24-8*((g+1)%4)&255)<<8|o[g+2>>>2]>>>24-8*((g+2)%4)&255,x=0;4>x&&g+.75*x<c;x++)s.push(l.charAt(p>>>6*(3-x)&63));if(o=l.charAt(64))for(;s.length%4;)s.push(o);return s.join("")},parse:function(s){var o=s.length,c=this._map,l=c.charAt(64);l&&(l=s.indexOf(l),l!=-1&&(o=l));for(var l=[],g=0,p=0;p<o;p++)if(p%4){var x=c.indexOf(s.charAt(p-1))<<2*(p%4),v=c.indexOf(s.charAt(p))>>>6-2*(p%4);l[g>>>2]|=(x|v)<<24-8*(g%4),g++}return n.create(l,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(r){function n(b,d,w,m,S,E,P){return b=b+(d&w|~d&m)+S+P,(b<<E|b>>>32-E)+d}function s(b,d,w,m,S,E,P){return b=b+(d&m|w&~m)+S+P,(b<<E|b>>>32-E)+d}function o(b,d,w,m,S,E,P){return b=b+(d^w^m)+S+P,(b<<E|b>>>32-E)+d}function c(b,d,w,m,S,E,P){return b=b+(w^(d|~m))+S+P,(b<<E|b>>>32-E)+d}for(var l=u,x=l.lib,g=x.WordArray,p=x.Hasher,x=l.algo,v=[],F=0;64>F;F++)v[F]=4294967296*r.abs(r.sin(F+1))|0;x=x.MD5=p.extend({_doReset:function(){this._hash=new g.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,d){for(var w=0;16>w;w++){var m=d+w,S=b[m];b[m]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var w=this._hash.words,m=b[d+0],S=b[d+1],E=b[d+2],P=b[d+3],H=b[d+4],K=b[d+5],k=b[d+6],U=b[d+7],I=b[d+8],_=b[d+9],N=b[d+10],R=b[d+11],B=b[d+12],V=b[d+13],$=b[d+14],ee=b[d+15],q=w[0],ne=w[1],te=w[2],z=w[3],q=n(q,ne,te,z,m,7,v[0]),z=n(z,q,ne,te,S,12,v[1]),te=n(te,z,q,ne,E,17,v[2]),ne=n(ne,te,z,q,P,22,v[3]),q=n(q,ne,te,z,H,7,v[4]),z=n(z,q,ne,te,K,12,v[5]),te=n(te,z,q,ne,k,17,v[6]),ne=n(ne,te,z,q,U,22,v[7]),q=n(q,ne,te,z,I,7,v[8]),z=n(z,q,ne,te,_,12,v[9]),te=n(te,z,q,ne,N,17,v[10]),ne=n(ne,te,z,q,R,22,v[11]),q=n(q,ne,te,z,B,7,v[12]),z=n(z,q,ne,te,V,12,v[13]),te=n(te,z,q,ne,$,17,v[14]),ne=n(ne,te,z,q,ee,22,v[15]),q=s(q,ne,te,z,S,5,v[16]),z=s(z,q,ne,te,k,9,v[17]),te=s(te,z,q,ne,R,14,v[18]),ne=s(ne,te,z,q,m,20,v[19]),q=s(q,ne,te,z,K,5,v[20]),z=s(z,q,ne,te,N,9,v[21]),te=s(te,z,q,ne,ee,14,v[22]),ne=s(ne,te,z,q,H,20,v[23]),q=s(q,ne,te,z,_,5,v[24]),z=s(z,q,ne,te,$,9,v[25]),te=s(te,z,q,ne,P,14,v[26]),ne=s(ne,te,z,q,I,20,v[27]),q=s(q,ne,te,z,V,5,v[28]),z=s(z,q,ne,te,E,9,v[29]),te=s(te,z,q,ne,U,14,v[30]),ne=s(ne,te,z,q,B,20,v[31]),q=o(q,ne,te,z,K,4,v[32]),z=o(z,q,ne,te,I,11,v[33]),te=o(te,z,q,ne,R,16,v[34]),ne=o(ne,te,z,q,$,23,v[35]),q=o(q,ne,te,z,S,4,v[36]),z=o(z,q,ne,te,H,11,v[37]),te=o(te,z,q,ne,U,16,v[38]),ne=o(ne,te,z,q,N,23,v[39]),q=o(q,ne,te,z,V,4,v[40]),z=o(z,q,ne,te,m,11,v[41]),te=o(te,z,q,ne,P,16,v[42]),ne=o(ne,te,z,q,k,23,v[43]),q=o(q,ne,te,z,_,4,v[44]),z=o(z,q,ne,te,B,11,v[45]),te=o(te,z,q,ne,ee,16,v[46]),ne=o(ne,te,z,q,E,23,v[47]),q=c(q,ne,te,z,m,6,v[48]),z=c(z,q,ne,te,U,10,v[49]),te=c(te,z,q,ne,$,15,v[50]),ne=c(ne,te,z,q,K,21,v[51]),q=c(q,ne,te,z,B,6,v[52]),z=c(z,q,ne,te,P,10,v[53]),te=c(te,z,q,ne,N,15,v[54]),ne=c(ne,te,z,q,S,21,v[55]),q=c(q,ne,te,z,I,6,v[56]),z=c(z,q,ne,te,ee,10,v[57]),te=c(te,z,q,ne,k,15,v[58]),ne=c(ne,te,z,q,V,21,v[59]),q=c(q,ne,te,z,H,6,v[60]),z=c(z,q,ne,te,R,10,v[61]),te=c(te,z,q,ne,E,15,v[62]),ne=c(ne,te,z,q,_,21,v[63]);w[0]=w[0]+q|0,w[1]=w[1]+ne|0,w[2]=w[2]+te|0,w[3]=w[3]+z|0},_doFinalize:function(){var b=this._data,d=b.words,w=8*this._nDataBytes,m=8*b.sigBytes;d[m>>>5]|=128<<24-m%32;var S=r.floor(w/4294967296);for(d[(m+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,d[(m+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,b.sigBytes=4*(d.length+1),this._process(),b=this._hash,d=b.words,w=0;4>w;w++)m=d[w],d[w]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;return b},clone:function(){var b=p.clone.call(this);return b._hash=this._hash.clone(),b}}),l.MD5=p._createHelper(x),l.HmacMD5=p._createHmacHelper(x)}(Math),function(){var r=u,c=r.lib,n=c.WordArray,s=c.Hasher,o=[],c=r.algo.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,g){for(var p=this._hash.words,x=p[0],v=p[1],F=p[2],b=p[3],d=p[4],w=0;80>w;w++){if(16>w)o[w]=l[g+w]|0;else{var m=o[w-3]^o[w-8]^o[w-14]^o[w-16];o[w]=m<<1|m>>>31}m=(x<<5|x>>>27)+d+o[w],m=20>w?m+((v&F|~v&b)+1518500249):40>w?m+((v^F^b)+1859775393):60>w?m+((v&F|v&b|F&b)-1894007588):m+((v^F^b)-899497514),d=b,b=F,F=v<<30|v>>>2,v=x,x=m}p[0]=p[0]+x|0,p[1]=p[1]+v|0,p[2]=p[2]+F|0,p[3]=p[3]+b|0,p[4]=p[4]+d|0},_doFinalize:function(){var l=this._data,g=l.words,p=8*this._nDataBytes,x=8*l.sigBytes;return g[x>>>5]|=128<<24-x%32,g[(x+64>>>9<<4)+14]=Math.floor(p/4294967296),g[(x+64>>>9<<4)+15]=p,l.sigBytes=4*g.length,this._process(),this._hash},clone:function(){var l=s.clone.call(this);return l._hash=this._hash.clone(),l}});r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c)}(),function(r){for(var n=u,w=n.lib,s=w.WordArray,o=w.Hasher,w=n.algo,c=[],l=[],g=function(S){return 4294967296*(S-(S|0))|0},p=2,x=0;64>x;){var v;e:{v=p;for(var F=r.sqrt(v),b=2;b<=F;b++)if(!(v%b)){v=!1;break e}v=!0}v&&(8>x&&(c[x]=g(r.pow(p,.5))),l[x]=g(r.pow(p,1/3)),x++),p++}var d=[],w=w.SHA256=o.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(m,S){for(var E=this._hash.words,P=E[0],H=E[1],K=E[2],k=E[3],U=E[4],I=E[5],_=E[6],N=E[7],R=0;64>R;R++){if(16>R)d[R]=m[S+R]|0;else{var B=d[R-15],V=d[R-2];d[R]=((B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3)+d[R-7]+((V<<15|V>>>17)^(V<<13|V>>>19)^V>>>10)+d[R-16]}B=N+((U<<26|U>>>6)^(U<<21|U>>>11)^(U<<7|U>>>25))+(U&I^~U&_)+l[R]+d[R],V=((P<<30|P>>>2)^(P<<19|P>>>13)^(P<<10|P>>>22))+(P&H^P&K^H&K),N=_,_=I,I=U,U=k+B|0,k=K,K=H,H=P,P=B+V|0}E[0]=E[0]+P|0,E[1]=E[1]+H|0,E[2]=E[2]+K|0,E[3]=E[3]+k|0,E[4]=E[4]+U|0,E[5]=E[5]+I|0,E[6]=E[6]+_|0,E[7]=E[7]+N|0},_doFinalize:function(){var m=this._data,S=m.words,E=8*this._nDataBytes,P=8*m.sigBytes;return S[P>>>5]|=128<<24-P%32,S[(P+64>>>9<<4)+14]=r.floor(E/4294967296),S[(P+64>>>9<<4)+15]=E,m.sigBytes=4*S.length,this._process(),this._hash},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});n.SHA256=o._createHelper(w),n.HmacSHA256=o._createHmacHelper(w)}(Math),function(){var r=u,n=r.lib.WordArray,o=r.algo,s=o.SHA256,o=o.SHA224=s.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=s._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=s._createHelper(o),r.HmacSHA224=s._createHmacHelper(o)}(),function(){function r(){return o.create.apply(o,arguments)}for(var n=u,s=n.lib.Hasher,l=n.x64,o=l.Word,c=l.WordArray,l=n.algo,g=[r(1116352408,3609767458),r(1899447441,602891725),r(3049323471,3964484399),r(3921009573,2173295548),r(961987163,4081628472),r(1508970993,3053834265),r(2453635748,2937671579),r(2870763221,3664609560),r(3624381080,2734883394),r(310598401,1164996542),r(607225278,1323610764),r(1426881987,3590304994),r(1925078388,4068182383),r(2162078206,991336113),r(2614888103,633803317),r(3248222580,3479774868),r(3835390401,2666613458),r(4022224774,944711139),r(264347078,2341262773),r(604807628,2007800933),r(770255983,1495990901),r(1249150122,1856431235),r(1555081692,3175218132),r(1996064986,2198950837),r(2554220882,3999719339),r(2821834349,766784016),r(2952996808,2566594879),r(3210313671,3203337956),r(3336571891,1034457026),r(3584528711,2466948901),r(113926993,3758326383),r(338241895,168717936),r(666307205,1188179964),r(773529912,1546045734),r(1294757372,1522805485),r(1396182291,2643833823),r(1695183700,2343527390),r(1986661051,1014477480),r(2177026350,1206759142),r(2456956037,344077627),r(2730485921,1290863460),r(2820302411,3158454273),r(3259730800,3505952657),r(3345764771,106217008),r(3516065817,3606008344),r(3600352804,1432725776),r(4094571909,1467031594),r(275423344,851169720),r(430227734,3100823752),r(506948616,1363258195),r(659060556,3750685593),r(883997877,3785050280),r(958139571,3318307427),r(1322822218,3812723403),r(1537002063,2003034995),r(1747873779,3602036899),r(1955562222,1575990012),r(2024104815,1125592928),r(2227730452,2716904306),r(2361852424,442776044),r(2428436474,593698344),r(2756734187,3733110249),r(3204031479,2999351573),r(3329325298,3815920427),r(3391569614,3928383900),r(3515267271,566280711),r(3940187606,3454069534),r(4118630271,4000239992),r(116418474,1914138554),r(174292421,2731055270),r(289380356,3203993006),r(460393269,320620315),r(685471733,587496836),r(852142971,1086792851),r(1017036298,365543100),r(1126000580,2618297676),r(1288033470,3409855158),r(1501505948,4234509866),r(1607167915,987167468),r(1816402316,1246189591)],p=[],x=0;80>x;x++)p[x]=r();l=l.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(v,F){for(var H=this._hash.words,b=H[0],d=H[1],w=H[2],m=H[3],S=H[4],E=H[5],P=H[6],H=H[7],K=b.high,k=b.low,U=d.high,I=d.low,_=w.high,N=w.low,R=m.high,B=m.low,V=S.high,$=S.low,ee=E.high,q=E.low,z=P.high,te=P.low,ne=H.high,Ht=H.low,gt=K,it=k,bt=U,Pt=I,It=_,Tt=N,oi=R,$t=B,Le=V,Qe=$,mt=ee,vt=q,er=z,wt=te,ui=ne,vn=Ht,xr=0;80>xr;xr++){var en=p[xr];if(16>xr)var gr=en.high=v[F+2*xr]|0,$e=en.low=v[F+2*xr+1]|0;else{var gr=p[xr-15],$e=gr.high,Tr=gr.low,gr=($e>>>1|Tr<<31)^($e>>>8|Tr<<24)^$e>>>7,Tr=(Tr>>>1|$e<<31)^(Tr>>>8|$e<<24)^(Tr>>>7|$e<<25),yn=p[xr-2],$e=yn.high,dt=yn.low,yn=($e>>>19|dt<<13)^($e<<3|dt>>>29)^$e>>>6,dt=(dt>>>19|$e<<13)^(dt<<3|$e>>>29)^(dt>>>6|$e<<26),$e=p[xr-7],ma=$e.high,Zr=p[xr-16],Ir=Zr.high,Zr=Zr.low,$e=Tr+$e.low,gr=gr+ma+($e>>>0<Tr>>>0?1:0),$e=$e+dt,gr=gr+yn+($e>>>0<dt>>>0?1:0),$e=$e+Zr,gr=gr+Ir+($e>>>0<Zr>>>0?1:0);en.high=gr,en.low=$e}var ma=Le&mt^~Le&er,Zr=Qe&vt^~Qe&wt,en=gt&bt^gt&It^bt&It,Nd=it&Pt^it&Tt^Pt&Tt,Tr=(gt>>>28|it<<4)^(gt<<30|it>>>2)^(gt<<25|it>>>7),yn=(it>>>28|gt<<4)^(it<<30|gt>>>2)^(it<<25|gt>>>7),dt=g[xr],Od=dt.high,lu=dt.low,dt=vn+((Qe>>>14|Le<<18)^(Qe>>>18|Le<<14)^(Qe<<23|Le>>>9)),Ir=ui+((Le>>>14|Qe<<18)^(Le>>>18|Qe<<14)^(Le<<23|Qe>>>9))+(dt>>>0<vn>>>0?1:0),dt=dt+Zr,Ir=Ir+ma+(dt>>>0<Zr>>>0?1:0),dt=dt+lu,Ir=Ir+Od+(dt>>>0<lu>>>0?1:0),dt=dt+$e,Ir=Ir+gr+(dt>>>0<$e>>>0?1:0),$e=yn+Nd,en=Tr+en+($e>>>0<yn>>>0?1:0),ui=er,vn=wt,er=mt,wt=vt,mt=Le,vt=Qe,Qe=$t+dt|0,Le=oi+Ir+(Qe>>>0<$t>>>0?1:0)|0,oi=It,$t=Tt,It=bt,Tt=Pt,bt=gt,Pt=it,it=dt+$e|0,gt=Ir+en+(it>>>0<dt>>>0?1:0)|0}k=b.low=k+it,b.high=K+gt+(k>>>0<it>>>0?1:0),I=d.low=I+Pt,d.high=U+bt+(I>>>0<Pt>>>0?1:0),N=w.low=N+Tt,w.high=_+It+(N>>>0<Tt>>>0?1:0),B=m.low=B+$t,m.high=R+oi+(B>>>0<$t>>>0?1:0),$=S.low=$+Qe,S.high=V+Le+($>>>0<Qe>>>0?1:0),q=E.low=q+vt,E.high=ee+mt+(q>>>0<vt>>>0?1:0),te=P.low=te+wt,P.high=z+er+(te>>>0<wt>>>0?1:0),Ht=H.low=Ht+vn,H.high=ne+ui+(Ht>>>0<vn>>>0?1:0)},_doFinalize:function(){var v=this._data,F=v.words,b=8*this._nDataBytes,d=8*v.sigBytes;return F[d>>>5]|=128<<24-d%32,F[(d+128>>>10<<5)+30]=Math.floor(b/4294967296),F[(d+128>>>10<<5)+31]=b,v.sigBytes=4*F.length,this._process(),this._hash.toX32()},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:32}),n.SHA512=s._createHelper(l),n.HmacSHA512=s._createHmacHelper(l)}(),function(){var r=u,c=r.x64,n=c.Word,s=c.WordArray,c=r.algo,o=c.SHA512,c=c.SHA384=o.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=16,l}});r.SHA384=o._createHelper(c),r.HmacSHA384=o._createHmacHelper(c)}(),function(){var r=u,v=r.lib,n=v.WordArray,s=v.Hasher,v=r.algo,o=n.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=n.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),l=n.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=n.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=n.create([0,1518500249,1859775393,2400959708,2840853838]),x=n.create([1352829926,1548603684,1836072691,2053994217,0]),v=v.RIPEMD160=s.extend({_doReset:function(){this._hash=n.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(F,b){for(var d=0;16>d;d++){var w=b+d,m=F[w];F[w]=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360}var w=this._hash.words,m=p.words,S=x.words,E=o.words,P=c.words,H=l.words,K=g.words,k,U,I,_,N,R,B,V,$,ee;R=k=w[0],B=U=w[1],V=I=w[2],$=_=w[3],ee=N=w[4];for(var q,d=0;80>d;d+=1)q=k+F[b+E[d]]|0,q=16>d?q+((U^I^_)+m[0]):32>d?q+((U&I|~U&_)+m[1]):48>d?q+(((U|~I)^_)+m[2]):64>d?q+((U&_|I&~_)+m[3]):q+((U^(I|~_))+m[4]),q|=0,q=q<<H[d]|q>>>32-H[d],q=q+N|0,k=N,N=_,_=I<<10|I>>>22,I=U,U=q,q=R+F[b+P[d]]|0,q=16>d?q+((B^(V|~$))+S[0]):32>d?q+((B&$|V&~$)+S[1]):48>d?q+(((B|~V)^$)+S[2]):64>d?q+((B&V|~B&$)+S[3]):q+((B^V^$)+S[4]),q|=0,q=q<<K[d]|q>>>32-K[d],q=q+ee|0,R=ee,ee=$,$=V<<10|V>>>22,V=B,B=q;q=w[1]+I+$|0,w[1]=w[2]+_+ee|0,w[2]=w[3]+N+R|0,w[3]=w[4]+k+B|0,w[4]=w[0]+U+V|0,w[0]=q},_doFinalize:function(){var F=this._data,b=F.words,d=8*this._nDataBytes,w=8*F.sigBytes;for(b[w>>>5]|=128<<24-w%32,b[(w+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,F.sigBytes=4*(b.length+1),this._process(),F=this._hash,b=F.words,d=0;5>d;d++)w=b[d],b[d]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;return F},clone:function(){var F=s.clone.call(this);return F._hash=this._hash.clone(),F}});r.RIPEMD160=s._createHelper(v),r.HmacRIPEMD160=s._createHmacHelper(v)}(),function(){var r=u,n=r.enc.Utf8;r.algo.HMAC=r.lib.Base.extend({init:function(s,o){s=this._hasher=new s.init,typeof o=="string"&&(o=n.parse(o));var c=s.blockSize,l=4*c;o.sigBytes>l&&(o=s.finalize(o)),o.clamp();for(var g=this._oKey=o.clone(),p=this._iKey=o.clone(),x=g.words,v=p.words,F=0;F<c;F++)x[F]^=1549556828,v[F]^=909522486;g.sigBytes=p.sigBytes=l,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var o=this._hasher;return s=o.finalize(s),o.reset(),o.finalize(this._oKey.clone().concat(s))}})}(),function(){var r=u,o=r.lib,n=o.Base,s=o.WordArray,o=r.algo,c=o.HMAC,l=o.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o.SHA1,iterations:1}),init:function(g){this.cfg=this.cfg.extend(g)},compute:function(g,p){for(var m=this.cfg,x=c.create(m.hasher,g),v=s.create(),F=s.create([1]),b=v.words,d=F.words,w=m.keySize,m=m.iterations;b.length<w;){var S=x.update(p).finalize(F);x.reset();for(var E=S.words,P=E.length,H=S,K=1;K<m;K++){H=x.finalize(H),x.reset();for(var k=H.words,U=0;U<P;U++)E[U]^=k[U]}v.concat(S),d[0]++}return v.sigBytes=4*w,v}});r.PBKDF2=function(g,p,x){return l.create(x).compute(g,p)}}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="=";function A(r){var n,s,o="";for(n=0;n+3<=r.length;n+=3)s=parseInt(r.substring(n,n+3),16),o+=h.charAt(s>>6)+h.charAt(s&63);for(n+1==r.length?(s=parseInt(r.substring(n,n+1),16),o+=h.charAt(s<<2)):n+2==r.length&&(s=parseInt(r.substring(n,n+2),16),o+=h.charAt(s>>2)+h.charAt((s&3)<<4));(o.length&3)>0;)o+=y;return o}function T(r){var n="",s,o=0,c,l;for(s=0;s<r.length&&r.charAt(s)!=y;++s)l=h.indexOf(r.charAt(s)),!(l<0)&&(o==0?(n+=xe(l>>2),c=l&3,o=1):o==1?(n+=xe(c<<2|l>>4),c=l&15,o=2):o==2?(n+=xe(c),n+=xe(l>>2),c=l&3,o=3):(n+=xe(c<<2|l>>4),n+=xe(l&15),o=0));return o==1&&(n+=xe(c<<2)),n}function O(r){var n=T(r),s,o=new Array;for(s=0;2*s<n.length;++s)o[s]=parseInt(n.substring(2*s,2*s+2),16);return o}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
*/var D;function C(r,n,s){r!=null&&(typeof r=="number"?this.fromNumber(r,n,s):n==null&&typeof r!="string"?this.fromString(r,256):this.fromString(r,n))}function j(){return new C(null)}function G(r,n,s,o,c,l){for(;--l>=0;){var g=n*this[r++]+s[o]+c;c=Math.floor(g/67108864),s[o++]=g&67108863}return c}function W(r,n,s,o,c,l){for(var g=n&32767,p=n>>15;--l>=0;){var x=this[r]&32767,v=this[r++]>>15,F=p*x+v*g;x=g*x+((F&32767)<<15)+s[o]+(c&1073741823),c=(x>>>30)+(F>>>15)+p*v+(c>>>30),s[o++]=x&1073741823}return c}function X(r,n,s,o,c,l){for(var g=n&16383,p=n>>14;--l>=0;){var x=this[r]&16383,v=this[r++]>>14,F=p*x+v*g;x=g*x+((F&16383)<<14)+s[o]+c,c=(x>>28)+(F>>14)+p*v,s[o++]=x&268435455}return c}e.appName=="Microsoft Internet Explorer"?(C.prototype.am=W,D=30):e.appName!="Netscape"?(C.prototype.am=G,D=26):(C.prototype.am=X,D=28),C.prototype.DB=D,C.prototype.DM=(1<<D)-1,C.prototype.DV=1<<D;var re=52;C.prototype.FV=Math.pow(2,re),C.prototype.F1=re-D,C.prototype.F2=2*D-re;var he="0123456789abcdefghijklmnopqrstuvwxyz",ce=new Array,ye,fe;for(ye=48,fe=0;fe<=9;++fe)ce[ye++]=fe;for(ye=97,fe=10;fe<36;++fe)ce[ye++]=fe;for(ye=65,fe=10;fe<36;++fe)ce[ye++]=fe;function xe(r){return he.charAt(r)}function De(r,n){var s=ce[r.charCodeAt(n)];return s??-1}function Ke(r){for(var n=this.t-1;n>=0;--n)r[n]=this[n];r.t=this.t,r.s=this.s}function ct(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0}function Ue(r){var n=j();return n.fromInt(r),n}function At(r,n){var s;if(n==16)s=4;else if(n==8)s=3;else if(n==256)s=8;else if(n==2)s=1;else if(n==32)s=5;else if(n==4)s=2;else{this.fromRadix(r,n);return}this.t=0,this.s=0;for(var o=r.length,c=!1,l=0;--o>=0;){var g=s==8?r[o]&255:De(r,o);if(g<0){r.charAt(o)=="-"&&(c=!0);continue}c=!1,l==0?this[this.t++]=g:l+s>this.DB?(this[this.t-1]|=(g&(1<<this.DB-l)-1)<<l,this[this.t++]=g>>this.DB-l):this[this.t-1]|=g<<l,l+=s,l>=this.DB&&(l-=this.DB)}s==8&&(r[0]&128)!=0&&(this.s=-1,l>0&&(this[this.t-1]|=(1<<this.DB-l)-1<<l)),this.clamp(),c&&C.ZERO.subTo(this,this)}function ir(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t}function Cr(r){if(this.s<0)return"-"+this.negate().toString(r);var n;if(r==16)n=4;else if(r==8)n=3;else if(r==2)n=1;else if(r==32)n=5;else if(r==4)n=2;else return this.toRadix(r);var s=(1<<n)-1,o,c=!1,l="",g=this.t,p=this.DB-g*this.DB%n;if(g-- >0)for(p<this.DB&&(o=this[g]>>p)>0&&(c=!0,l=xe(o));g>=0;)p<n?(o=(this[g]&(1<<p)-1)<<n-p,o|=this[--g]>>(p+=this.DB-n)):(o=this[g]>>(p-=n)&s,p<=0&&(p+=this.DB,--g)),o>0&&(c=!0),c&&(l+=xe(o));return c?l:"0"}function Xr(){var r=j();return C.ZERO.subTo(this,r),r}function Lr(){return this.s<0?this.negate():this}function gn(r){var n=this.s-r.s;if(n!=0)return n;var s=this.t;if(n=s-r.t,n!=0)return this.s<0?-n:n;for(;--s>=0;)if((n=this[s]-r[s])!=0)return n;return 0}function ft(r){var n=1,s;return(s=r>>>16)!=0&&(r=s,n+=16),(s=r>>8)!=0&&(r=s,n+=8),(s=r>>4)!=0&&(r=s,n+=4),(s=r>>2)!=0&&(r=s,n+=2),(s=r>>1)!=0&&(r=s,n+=1),n}function Je(){return this.t<=0?0:this.DB*(this.t-1)+ft(this[this.t-1]^this.s&this.DM)}function We(r,n){var s;for(s=this.t-1;s>=0;--s)n[s+r]=this[s];for(s=r-1;s>=0;--s)n[s]=0;n.t=this.t+r,n.s=this.s}function sr(r,n){for(var s=r;s<this.t;++s)n[s-r]=this[s];n.t=Math.max(this.t-r,0),n.s=this.s}function kr(r,n){var s=r%this.DB,o=this.DB-s,c=(1<<o)-1,l=Math.floor(r/this.DB),g=this.s<<s&this.DM,p;for(p=this.t-1;p>=0;--p)n[p+l+1]=this[p]>>o|g,g=(this[p]&c)<<s;for(p=l-1;p>=0;--p)n[p]=0;n[l]=g,n.t=this.t+l+1,n.s=this.s,n.clamp()}function ar(r,n){n.s=this.s;var s=Math.floor(r/this.DB);if(s>=this.t){n.t=0;return}var o=r%this.DB,c=this.DB-o,l=(1<<o)-1;n[0]=this[s]>>o;for(var g=s+1;g<this.t;++g)n[g-s-1]|=(this[g]&l)<<c,n[g-s]=this[g]>>o;o>0&&(n[this.t-s-1]|=(this.s&l)<<c),n.t=this.t-s,n.clamp()}function Nt(r,n){for(var s=0,o=0,c=Math.min(r.t,this.t);s<c;)o+=this[s]-r[s],n[s++]=o&this.DM,o>>=this.DB;if(r.t<this.t){for(o-=r.s;s<this.t;)o+=this[s],n[s++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;s<r.t;)o-=r[s],n[s++]=o&this.DM,o>>=this.DB;o-=r.s}n.s=o<0?-1:0,o<-1?n[s++]=this.DV+o:o>0&&(n[s++]=o),n.t=s,n.clamp()}function Qr(r,n){var s=this.abs(),o=r.abs(),c=s.t;for(n.t=c+o.t;--c>=0;)n[c]=0;for(c=0;c<o.t;++c)n[c+s.t]=s.am(0,o[c],n,c,0,s.t);n.s=0,n.clamp(),this.s!=r.s&&C.ZERO.subTo(n,n)}function Ui(r){for(var n=this.abs(),s=r.t=2*n.t;--s>=0;)r[s]=0;for(s=0;s<n.t-1;++s){var o=n.am(s,n[s],r,2*s,0,1);(r[s+n.t]+=n.am(s+1,2*n[s],r,2*s+1,o,n.t-s-1))>=n.DV&&(r[s+n.t]-=n.DV,r[s+n.t+1]=1)}r.t>0&&(r[r.t-1]+=n.am(s,n[s],r,2*s,0,1)),r.s=0,r.clamp()}function ie(r,n,s){var o=r.abs();if(!(o.t<=0)){var c=this.abs();if(c.t<o.t){n!=null&&n.fromInt(0),s!=null&&this.copyTo(s);return}s==null&&(s=j());var l=j(),g=this.s,p=r.s,x=this.DB-ft(o[o.t-1]);x>0?(o.lShiftTo(x,l),c.lShiftTo(x,s)):(o.copyTo(l),c.copyTo(s));var v=l.t,F=l[v-1];if(F!=0){var b=F*(1<<this.F1)+(v>1?l[v-2]>>this.F2:0),d=this.FV/b,w=(1<<this.F1)/b,m=1<<this.F2,S=s.t,E=S-v,P=n??j();for(l.dlShiftTo(E,P),s.compareTo(P)>=0&&(s[s.t++]=1,s.subTo(P,s)),C.ONE.dlShiftTo(v,P),P.subTo(l,l);l.t<v;)l[l.t++]=0;for(;--E>=0;){var H=s[--S]==F?this.DM:Math.floor(s[S]*d+(s[S-1]+m)*w);if((s[S]+=l.am(0,H,s,E,0,v))<H)for(l.dlShiftTo(E,P),s.subTo(P,s);s[S]<--H;)s.subTo(P,s)}n!=null&&(s.drShiftTo(v,n),g!=p&&C.ZERO.subTo(n,n)),s.t=v,s.clamp(),x>0&&s.rShiftTo(x,s),g<0&&C.ZERO.subTo(s,s)}}}function Se(r){var n=j();return this.abs().divRemTo(r,null,n),this.s<0&&n.compareTo(C.ZERO)>0&&r.subTo(n,n),n}function ge(r){this.m=r}function Ee(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r}function Xe(r){return r}function nt(r){r.divRemTo(this.m,null,r)}function Me(r,n,s){r.multiplyTo(n,s),this.reduce(s)}function M(r,n){r.squareTo(n),this.reduce(n)}ge.prototype.convert=Ee,ge.prototype.revert=Xe,ge.prototype.reduce=nt,ge.prototype.mulTo=Me,ge.prototype.sqrTo=M;function L(){if(this.t<1)return 0;var r=this[0];if((r&1)==0)return 0;var n=r&3;return n=n*(2-(r&15)*n)&15,n=n*(2-(r&255)*n)&255,n=n*(2-((r&65535)*n&65535))&65535,n=n*(2-r*n%this.DV)%this.DV,n>0?this.DV-n:-n}function J(r){this.m=r,this.mp=r.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function se(r){var n=j();return r.abs().dlShiftTo(this.m.t,n),n.divRemTo(this.m,null,n),r.s<0&&n.compareTo(C.ZERO)>0&&this.m.subTo(n,n),n}function ae(r){var n=j();return r.copyTo(n),this.reduce(n),n}function oe(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var n=0;n<this.m.t;++n){var s=r[n]&32767,o=s*this.mpl+((s*this.mph+(r[n]>>15)*this.mpl&this.um)<<15)&r.DM;for(s=n+this.m.t,r[s]+=this.m.am(0,o,r,n,0,this.m.t);r[s]>=r.DV;)r[s]-=r.DV,r[++s]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)}function ve(r,n){r.squareTo(n),this.reduce(n)}function me(r,n,s){r.multiplyTo(n,s),this.reduce(s)}J.prototype.convert=se,J.prototype.revert=ae,J.prototype.reduce=oe,J.prototype.mulTo=me,J.prototype.sqrTo=ve;function pe(){return(this.t>0?this[0]&1:this.s)==0}function le(r,n){if(r>4294967295||r<1)return C.ONE;var s=j(),o=j(),c=n.convert(this),l=ft(r)-1;for(c.copyTo(s);--l>=0;)if(n.sqrTo(s,o),(r&1<<l)>0)n.mulTo(o,c,s);else{var g=s;s=o,o=g}return n.revert(s)}function Ce(r,n){var s;return r<256||n.isEven()?s=new ge(n):s=new J(n),this.exp(r,s)}C.prototype.copyTo=Ke,C.prototype.fromInt=ct,C.prototype.fromString=At,C.prototype.clamp=ir,C.prototype.dlShiftTo=We,C.prototype.drShiftTo=sr,C.prototype.lShiftTo=kr,C.prototype.rShiftTo=ar,C.prototype.subTo=Nt,C.prototype.multiplyTo=Qr,C.prototype.squareTo=Ui,C.prototype.divRemTo=ie,C.prototype.invDigit=L,C.prototype.isEven=pe,C.prototype.exp=le,C.prototype.toString=Cr,C.prototype.negate=Xr,C.prototype.abs=Lr,C.prototype.compareTo=gn,C.prototype.bitLength=Je,C.prototype.mod=Se,C.prototype.modPowInt=Ce,C.ZERO=Ue(0),C.ONE=Ue(1);/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function we(){var r=j();return this.copyTo(r),r}function Fe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Te(){return this.t==0?this.s:this[0]<<24>>24}function je(){return this.t==0?this.s:this[0]<<16>>16}function et(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function qe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Vt(r){if(r==null&&(r=10),this.signum()==0||r<2||r>36)return"0";var n=this.chunkSize(r),s=Math.pow(r,n),o=Ue(s),c=j(),l=j(),g="";for(this.divRemTo(o,c,l);c.signum()>0;)g=(s+l.intValue()).toString(r).substr(1)+g,c.divRemTo(o,c,l);return l.intValue().toString(r)+g}function Ot(r,n){this.fromInt(0),n==null&&(n=10);for(var s=this.chunkSize(n),o=Math.pow(n,s),c=!1,l=0,g=0,p=0;p<r.length;++p){var x=De(r,p);if(x<0){r.charAt(p)=="-"&&this.signum()==0&&(c=!0);continue}g=n*g+x,++l>=s&&(this.dMultiply(o),this.dAddOffset(g,0),l=0,g=0)}l>0&&(this.dMultiply(Math.pow(n,l)),this.dAddOffset(g,0)),c&&C.ZERO.subTo(this,this)}function hr(r,n,s){if(typeof n=="number")if(r<2)this.fromInt(1);else for(this.fromNumber(r,s),this.testBit(r-1)||this.bitwiseTo(C.ONE.shiftLeft(r-1),ia,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(C.ONE.shiftLeft(r-1),this);else{var o=new Array,c=r&7;o.length=(r>>3)+1,n.nextBytes(o),c>0?o[0]&=(1<<c)-1:o[0]=0,this.fromString(o,256)}}function dr(){var r=this.t,n=new Array;n[0]=this.s;var s=this.DB-r*this.DB%8,o,c=0;if(r-- >0)for(s<this.DB&&(o=this[r]>>s)!=(this.s&this.DM)>>s&&(n[c++]=o|this.s<<this.DB-s);r>=0;)s<8?(o=(this[r]&(1<<s)-1)<<8-s,o|=this[--r]>>(s+=this.DB-8)):(o=this[r]>>(s-=8)&255,s<=0&&(s+=this.DB,--r)),(o&128)!=0&&(o|=-256),c==0&&(this.s&128)!=(o&128)&&++c,(c>0||o!=this.s)&&(n[c++]=o);return n}function mn(r){return this.compareTo(r)==0}function qi(r){return this.compareTo(r)<0?this:r}function Ut(r){return this.compareTo(r)>0?this:r}function pr(r,n,s){var o,c,l=Math.min(r.t,this.t);for(o=0;o<l;++o)s[o]=n(this[o],r[o]);if(r.t<this.t){for(c=r.s&this.DM,o=l;o<this.t;++o)s[o]=n(this[o],c);s.t=this.t}else{for(c=this.s&this.DM,o=l;o<r.t;++o)s[o]=n(c,r[o]);s.t=r.t}s.s=n(this.s,r.s),s.clamp()}function $i(r,n){return r&n}function Kf(r){var n=j();return this.bitwiseTo(r,$i,n),n}function ia(r,n){return r|n}function Vf(r){var n=j();return this.bitwiseTo(r,ia,n),n}function ko(r,n){return r^n}function Uf(r){var n=j();return this.bitwiseTo(r,ko,n),n}function Ko(r,n){return r&~n}function qf(r){var n=j();return this.bitwiseTo(r,Ko,n),n}function $f(){for(var r=j(),n=0;n<this.t;++n)r[n]=this.DM&~this[n];return r.t=this.t,r.s=~this.s,r}function Wf(r){var n=j();return r<0?this.rShiftTo(-r,n):this.lShiftTo(r,n),n}function zf(r){var n=j();return r<0?this.lShiftTo(-r,n):this.rShiftTo(r,n),n}function Gf(r){if(r==0)return-1;var n=0;return(r&65535)==0&&(r>>=16,n+=16),(r&255)==0&&(r>>=8,n+=8),(r&15)==0&&(r>>=4,n+=4),(r&3)==0&&(r>>=2,n+=2),(r&1)==0&&++n,n}function Yf(){for(var r=0;r<this.t;++r)if(this[r]!=0)return r*this.DB+Gf(this[r]);return this.s<0?this.t*this.DB:-1}function Jf(r){for(var n=0;r!=0;)r&=r-1,++n;return n}function Xf(){for(var r=0,n=this.s&this.DM,s=0;s<this.t;++s)r+=Jf(this[s]^n);return r}function Qf(r){var n=Math.floor(r/this.DB);return n>=this.t?this.s!=0:(this[n]&1<<r%this.DB)!=0}function Zf(r,n){var s=C.ONE.shiftLeft(r);return this.bitwiseTo(s,n,s),s}function eh(r){return this.changeBit(r,ia)}function th(r){return this.changeBit(r,Ko)}function rh(r){return this.changeBit(r,ko)}function nh(r,n){for(var s=0,o=0,c=Math.min(r.t,this.t);s<c;)o+=this[s]+r[s],n[s++]=o&this.DM,o>>=this.DB;if(r.t<this.t){for(o+=r.s;s<this.t;)o+=this[s],n[s++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;s<r.t;)o+=r[s],n[s++]=o&this.DM,o>>=this.DB;o+=r.s}n.s=o<0?-1:0,o>0?n[s++]=o:o<-1&&(n[s++]=this.DV+o),n.t=s,n.clamp()}function ih(r){var n=j();return this.addTo(r,n),n}function sh(r){var n=j();return this.subTo(r,n),n}function ah(r){var n=j();return this.multiplyTo(r,n),n}function oh(){var r=j();return this.squareTo(r),r}function uh(r){var n=j();return this.divRemTo(r,n,null),n}function lh(r){var n=j();return this.divRemTo(r,null,n),n}function ch(r){var n=j(),s=j();return this.divRemTo(r,n,s),new Array(n,s)}function fh(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()}function hh(r,n){if(r!=0){for(;this.t<=n;)this[this.t++]=0;for(this[n]+=r;this[n]>=this.DV;)this[n]-=this.DV,++n>=this.t&&(this[this.t++]=0),++this[n]}}function ni(){}function Vo(r){return r}function dh(r,n,s){r.multiplyTo(n,s)}function ph(r,n){r.squareTo(n)}ni.prototype.convert=Vo,ni.prototype.revert=Vo,ni.prototype.mulTo=dh,ni.prototype.sqrTo=ph;function gh(r){return this.exp(r,new ni)}function mh(r,n,s){var o=Math.min(this.t+r.t,n);for(s.s=0,s.t=o;o>0;)s[--o]=0;var c;for(c=s.t-this.t;o<c;++o)s[o+this.t]=this.am(0,r[o],s,o,0,this.t);for(c=Math.min(r.t,n);o<c;++o)this.am(0,r[o],s,o,0,n-o);s.clamp()}function vh(r,n,s){--n;var o=s.t=this.t+r.t-n;for(s.s=0;--o>=0;)s[o]=0;for(o=Math.max(n-this.t,0);o<r.t;++o)s[this.t+o-n]=this.am(n-o,r[o],s,0,0,this.t+o-n);s.clamp(),s.drShiftTo(1,s)}function _n(r){this.r2=j(),this.q3=j(),C.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function yh(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var n=j();return r.copyTo(n),this.reduce(n),n}function wh(r){return r}function Sh(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)}function xh(r,n){r.squareTo(n),this.reduce(n)}function bh(r,n,s){r.multiplyTo(n,s),this.reduce(s)}_n.prototype.convert=yh,_n.prototype.revert=wh,_n.prototype.reduce=Sh,_n.prototype.mulTo=bh,_n.prototype.sqrTo=xh;function Eh(r,n){var s=r.bitLength(),o,c=Ue(1),l;if(s<=0)return c;s<18?o=1:s<48?o=3:s<144?o=4:s<768?o=5:o=6,s<8?l=new ge(n):n.isEven()?l=new _n(n):l=new J(n);var g=new Array,p=3,x=o-1,v=(1<<o)-1;if(g[1]=l.convert(this),o>1){var F=j();for(l.sqrTo(g[1],F);p<=v;)g[p]=j(),l.mulTo(F,g[p-2],g[p]),p+=2}var b=r.t-1,d,w=!0,m=j(),S;for(s=ft(r[b])-1;b>=0;){for(s>=x?d=r[b]>>s-x&v:(d=(r[b]&(1<<s+1)-1)<<x-s,b>0&&(d|=r[b-1]>>this.DB+s-x)),p=o;(d&1)==0;)d>>=1,--p;if((s-=p)<0&&(s+=this.DB,--b),w)g[d].copyTo(c),w=!1;else{for(;p>1;)l.sqrTo(c,m),l.sqrTo(m,c),p-=2;p>0?l.sqrTo(c,m):(S=c,c=m,m=S),l.mulTo(m,g[d],c)}for(;b>=0&&(r[b]&1<<s)==0;)l.sqrTo(c,m),S=c,c=m,m=S,--s<0&&(s=this.DB-1,--b)}return l.revert(c)}function Fh(r){var n=this.s<0?this.negate():this.clone(),s=r.s<0?r.negate():r.clone();if(n.compareTo(s)<0){var o=n;n=s,s=o}var c=n.getLowestSetBit(),l=s.getLowestSetBit();if(l<0)return n;for(c<l&&(l=c),l>0&&(n.rShiftTo(l,n),s.rShiftTo(l,s));n.signum()>0;)(c=n.getLowestSetBit())>0&&n.rShiftTo(c,n),(c=s.getLowestSetBit())>0&&s.rShiftTo(c,s),n.compareTo(s)>=0?(n.subTo(s,n),n.rShiftTo(1,n)):(s.subTo(n,s),s.rShiftTo(1,s));return l>0&&s.lShiftTo(l,s),s}function Ah(r){if(r<=0)return 0;var n=this.DV%r,s=this.s<0?r-1:0;if(this.t>0)if(n==0)s=this[0]%r;else for(var o=this.t-1;o>=0;--o)s=(n*s+this[o])%r;return s}function Ch(r){var n=r.isEven();if(this.isEven()&&n||r.signum()==0)return C.ZERO;for(var s=r.clone(),o=this.clone(),c=Ue(1),l=Ue(0),g=Ue(0),p=Ue(1);s.signum()!=0;){for(;s.isEven();)s.rShiftTo(1,s),n?((!c.isEven()||!l.isEven())&&(c.addTo(this,c),l.subTo(r,l)),c.rShiftTo(1,c)):l.isEven()||l.subTo(r,l),l.rShiftTo(1,l);for(;o.isEven();)o.rShiftTo(1,o),n?((!g.isEven()||!p.isEven())&&(g.addTo(this,g),p.subTo(r,p)),g.rShiftTo(1,g)):p.isEven()||p.subTo(r,p),p.rShiftTo(1,p);s.compareTo(o)>=0?(s.subTo(o,s),n&&c.subTo(g,c),l.subTo(p,l)):(o.subTo(s,o),n&&g.subTo(c,g),p.subTo(l,p))}if(o.compareTo(C.ONE)!=0)return C.ZERO;if(p.compareTo(r)>=0)return p.subtract(r);if(p.signum()<0)p.addTo(r,p);else return p;return p.signum()<0?p.add(r):p}var qt=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ph=(1<<26)/qt[qt.length-1];function Th(r){var n,s=this.abs();if(s.t==1&&s[0]<=qt[qt.length-1]){for(n=0;n<qt.length;++n)if(s[0]==qt[n])return!0;return!1}if(s.isEven())return!1;for(n=1;n<qt.length;){for(var o=qt[n],c=n+1;c<qt.length&&o<Ph;)o*=qt[c++];for(o=s.modInt(o);n<c;)if(o%qt[n++]==0)return!1}return s.millerRabin(r)}function Ih(r){var n=this.subtract(C.ONE),s=n.getLowestSetBit();if(s<=0)return!1;var o=n.shiftRight(s);r=r+1>>1,r>qt.length&&(r=qt.length);for(var c=j(),l=0;l<r;++l){c.fromInt(qt[Math.floor(Math.random()*qt.length)]);var g=c.modPow(o,this);if(g.compareTo(C.ONE)!=0&&g.compareTo(n)!=0){for(var p=1;p++<s&&g.compareTo(n)!=0;)if(g=g.modPowInt(2,this),g.compareTo(C.ONE)==0)return!1;if(g.compareTo(n)!=0)return!1}}return!0}C.prototype.chunkSize=et,C.prototype.toRadix=Vt,C.prototype.fromRadix=Ot,C.prototype.fromNumber=hr,C.prototype.bitwiseTo=pr,C.prototype.changeBit=Zf,C.prototype.addTo=nh,C.prototype.dMultiply=fh,C.prototype.dAddOffset=hh,C.prototype.multiplyLowerTo=mh,C.prototype.multiplyUpperTo=vh,C.prototype.modInt=Ah,C.prototype.millerRabin=Ih,C.prototype.clone=we,C.prototype.intValue=Fe,C.prototype.byteValue=Te,C.prototype.shortValue=je,C.prototype.signum=qe,C.prototype.toByteArray=dr,C.prototype.equals=mn,C.prototype.min=qi,C.prototype.max=Ut,C.prototype.and=Kf,C.prototype.or=Vf,C.prototype.xor=Uf,C.prototype.andNot=qf,C.prototype.not=$f,C.prototype.shiftLeft=Wf,C.prototype.shiftRight=zf,C.prototype.getLowestSetBit=Yf,C.prototype.bitCount=Xf,C.prototype.testBit=Qf,C.prototype.setBit=eh,C.prototype.clearBit=th,C.prototype.flipBit=rh,C.prototype.add=ih,C.prototype.subtract=sh,C.prototype.multiply=ah,C.prototype.divide=uh,C.prototype.remainder=lh,C.prototype.divideAndRemainder=ch,C.prototype.modPow=Eh,C.prototype.modInverse=Ch,C.prototype.pow=gh,C.prototype.gcd=Fh,C.prototype.isProbablePrime=Th,C.prototype.square=oh;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function sa(){this.i=0,this.j=0,this.S=new Array}function Rh(r){var n,s,o;for(n=0;n<256;++n)this.S[n]=n;for(s=0,n=0;n<256;++n)s=s+this.S[n]+r[n%r.length]&255,o=this.S[n],this.S[n]=this.S[s],this.S[s]=o;this.i=0,this.j=0}function Dh(){var r;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,r=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=r,this.S[r+this.S[this.i]&255]}sa.prototype.init=Rh,sa.prototype.next=Dh;function _h(){return new sa}var aa=256;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var Wi,or,Ct;function Nh(r){or[Ct++]^=r&255,or[Ct++]^=r>>8&255,or[Ct++]^=r>>16&255,or[Ct++]^=r>>24&255,Ct>=aa&&(Ct-=aa)}function oa(){Nh(new Date().getTime())}if(or==null){or=new Array,Ct=0;var wr;if(t!==void 0&&(t.crypto!==void 0||t.msCrypto!==void 0)){var Uo=t.crypto||t.msCrypto;if(Uo.getRandomValues){var qo=new Uint8Array(32);for(Uo.getRandomValues(qo),wr=0;wr<32;++wr)or[Ct++]=qo[wr]}else if(e.appName=="Netscape"&&e.appVersion<"5"){var $o=t.crypto.random(32);for(wr=0;wr<$o.length;++wr)or[Ct++]=$o.charCodeAt(wr)&255}}for(;Ct<aa;)wr=Math.floor(65536*Math.random()),or[Ct++]=wr>>>8,or[Ct++]=wr&255;Ct=0,oa()}function Oh(){if(Wi==null){for(oa(),Wi=_h(),Wi.init(or),Ct=0;Ct<or.length;++Ct)or[Ct]=0;Ct=0}return Wi.next()}function Bh(r){var n;for(n=0;n<r.length;++n)r[n]=Oh()}function Nn(){}Nn.prototype.nextBytes=Bh;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Xt(r,n){return new C(r,n)}function Ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Hh(r,n){if(this.isPublic=!0,this.isPrivate=!1,typeof r!="string")this.n=r,this.e=n;else if(r!=null&&n!=null&&r.length>0&&n.length>0)this.n=Xt(r,16),this.e=parseInt(n,16);else throw"Invalid RSA public key"}function Mh(r){return r.modPowInt(this.e,this.n)}Ie.prototype.doPublic=Mh,Ie.prototype.setPublic=Hh,Ie.prototype.type="RSA";function jh(r,n,s){if(this.isPrivate=!0,typeof r!="string")this.n=r,this.e=n,this.d=s;else if(r!=null&&n!=null&&r.length>0&&n.length>0)this.n=Xt(r,16),this.e=parseInt(n,16),this.d=Xt(s,16);else throw"Invalid RSA private key"}function Lh(r,n,s,o,c,l,g,p){if(this.isPrivate=!0,this.isPublic=!1,r==null)throw"RSASetPrivateEx N == null";if(n==null)throw"RSASetPrivateEx E == null";if(r.length==0)throw"RSASetPrivateEx N.length == 0";if(n.length==0)throw"RSASetPrivateEx E.length == 0";if(r!=null&&n!=null&&r.length>0&&n.length>0)this.n=Xt(r,16),this.e=parseInt(n,16),this.d=Xt(s,16),this.p=Xt(o,16),this.q=Xt(c,16),this.dmp1=Xt(l,16),this.dmq1=Xt(g,16),this.coeff=Xt(p,16);else throw"Invalid RSA private key in RSASetPrivateEx"}function kh(r,n){var s=new Nn,o=r>>1;this.e=parseInt(n,16);for(var c=new C(n,16),l=r/2-100,g=C.ONE.shiftLeft(l);;){for(;this.p=new C(r-o,1,s),!(this.p.subtract(C.ONE).gcd(c).compareTo(C.ONE)==0&&this.p.isProbablePrime(10)););for(;this.q=new C(o,1,s),!(this.q.subtract(C.ONE).gcd(c).compareTo(C.ONE)==0&&this.q.isProbablePrime(10)););if(this.p.compareTo(this.q)<=0){var p=this.p;this.p=this.q,this.q=p}var x=this.q.subtract(this.p).abs();if(!(x.bitLength()<l||x.compareTo(g)<=0)){var v=this.p.subtract(C.ONE),F=this.q.subtract(C.ONE),b=v.multiply(F);if(b.gcd(c).compareTo(C.ONE)==0&&(this.n=this.p.multiply(this.q),this.n.bitLength()==r)){this.d=c.modInverse(b),this.dmp1=this.d.mod(v),this.dmq1=this.d.mod(F),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0}function Kh(r){if(this.p==null||this.q==null)return r.modPow(this.d,this.n);for(var n=r.mod(this.p).modPow(this.dmp1,this.p),s=r.mod(this.q).modPow(this.dmq1,this.q);n.compareTo(s)<0;)n=n.add(this.p);return n.subtract(s).multiply(this.coeff).mod(this.p).multiply(this.q).add(s)}Ie.prototype.doPrivate=Kh,Ie.prototype.setPrivate=jh,Ie.prototype.setPrivateEx=Lh,Ie.prototype.generate=kh;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Et(r,n){this.x=n,this.q=r}function Vh(r){return r==this?!0:this.q.equals(r.q)&&this.x.equals(r.x)}function Uh(){return this.x}function qh(){return new Et(this.q,this.x.negate().mod(this.q))}function $h(r){return new Et(this.q,this.x.add(r.toBigInteger()).mod(this.q))}function Wh(r){return new Et(this.q,this.x.subtract(r.toBigInteger()).mod(this.q))}function zh(r){return new Et(this.q,this.x.multiply(r.toBigInteger()).mod(this.q))}function Gh(){return new Et(this.q,this.x.square().mod(this.q))}function Yh(r){return new Et(this.q,this.x.multiply(r.toBigInteger().modInverse(this.q)).mod(this.q))}Et.prototype.equals=Vh,Et.prototype.toBigInteger=Uh,Et.prototype.negate=qh,Et.prototype.add=$h,Et.prototype.subtract=Wh,Et.prototype.multiply=zh,Et.prototype.square=Gh,Et.prototype.divide=Yh,Et.prototype.sqrt=function(){return new Et(this.q,this.x.sqrt().mod(this.q))};function Ve(r,n,s,o){this.curve=r,this.x=n,this.y=s,o==null?this.z=C.ONE:this.z=o,this.zinv=null}function Jh(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Xh(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}function Qh(r){if(r==this)return!0;if(this.isInfinity())return r.isInfinity();if(r.isInfinity())return this.isInfinity();var n,s;return n=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),n.equals(C.ZERO)?(s=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q),s.equals(C.ZERO)):!1}function Zh(){return this.x==null&&this.y==null?!0:this.z.equals(C.ZERO)&&!this.y.toBigInteger().equals(C.ZERO)}function ed(){return new Ve(this.curve,this.x,this.y.negate(),this.z)}function td(r){if(this.isInfinity())return r;if(r.isInfinity())return this;var n=r.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(r.z)).mod(this.curve.q),s=r.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(r.z)).mod(this.curve.q);if(C.ZERO.equals(s))return C.ZERO.equals(n)?this.twice():this.curve.getInfinity();var o=new C("3"),c=this.x.toBigInteger(),l=this.y.toBigInteger();r.x.toBigInteger(),r.y.toBigInteger();var g=s.square(),p=g.multiply(s),x=c.multiply(g),v=n.square().multiply(this.z),F=v.subtract(x.shiftLeft(1)).multiply(r.z).subtract(p).multiply(s).mod(this.curve.q),b=x.multiply(o).multiply(n).subtract(l.multiply(p)).subtract(v.multiply(n)).multiply(r.z).add(n.multiply(p)).mod(this.curve.q),d=p.multiply(this.z).multiply(r.z).mod(this.curve.q);return new Ve(this.curve,this.curve.fromBigInteger(F),this.curve.fromBigInteger(b),d)}function rd(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var r=new C("3"),n=this.x.toBigInteger(),s=this.y.toBigInteger(),o=s.multiply(this.z),c=o.multiply(s).mod(this.curve.q),l=this.curve.a.toBigInteger(),g=n.square().multiply(r);C.ZERO.equals(l)||(g=g.add(this.z.square().multiply(l))),g=g.mod(this.curve.q);var p=g.square().subtract(n.shiftLeft(3).multiply(c)).shiftLeft(1).multiply(o).mod(this.curve.q),x=g.multiply(r).multiply(n).subtract(c.shiftLeft(1)).shiftLeft(2).multiply(c).subtract(g.square().multiply(g)).mod(this.curve.q),v=o.square().multiply(o).shiftLeft(3).mod(this.curve.q);return new Ve(this.curve,this.curve.fromBigInteger(p),this.curve.fromBigInteger(x),v)}function nd(r){if(this.isInfinity())return this;if(r.signum()==0)return this.curve.getInfinity();var n=r,s=n.multiply(new C("3")),o=this.negate(),c=this,l=this.curve.q.subtract(r),g=l.multiply(new C("3")),p=new Ve(this.curve,this.x,this.y),x=p.negate(),v;for(v=s.bitLength()-2;v>0;--v){c=c.twice();var F=s.testBit(v),b=n.testBit(v);F!=b&&(c=c.add(F?this:o))}for(v=g.bitLength()-2;v>0;--v){p=p.twice();var d=g.testBit(v),w=l.testBit(v);d!=w&&(p=p.add(d?p:x))}return c}function id(r,n,s){var o;r.bitLength()>s.bitLength()?o=r.bitLength()-1:o=s.bitLength()-1;for(var c=this.curve.getInfinity(),l=this.add(n);o>=0;)c=c.twice(),r.testBit(o)?s.testBit(o)?c=c.add(l):c=c.add(this):s.testBit(o)&&(c=c.add(n)),--o;return c}Ve.prototype.getX=Jh,Ve.prototype.getY=Xh,Ve.prototype.equals=Qh,Ve.prototype.isInfinity=Zh,Ve.prototype.negate=ed,Ve.prototype.add=td,Ve.prototype.twice=rd,Ve.prototype.multiply=nd,Ve.prototype.multiplyTwo=id;function Kr(r,n,s){this.q=r,this.a=this.fromBigInteger(n),this.b=this.fromBigInteger(s),this.infinity=new Ve(this,null,null)}function sd(){return this.q}function ad(){return this.a}function od(){return this.b}function ud(r){return r==this?!0:this.q.equals(r.q)&&this.a.equals(r.a)&&this.b.equals(r.b)}function ld(){return this.infinity}function cd(r){return new Et(this.q,r)}function fd(r){switch(parseInt(r.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var n=r.substr(0,2);r.substr(2);var s=this.fromBigInteger(new C(x,16)),o=this.getA(),c=this.getB(),l=s.square().add(o).multiply(s).add(c),g=l.sqrt();return n=="03"&&(g=g.negate()),new Ve(this,s,g);case 4:case 6:case 7:var p=(r.length-2)/2,x=r.substr(2,p),v=r.substr(p+2,p);return new Ve(this,this.fromBigInteger(new C(x,16)),this.fromBigInteger(new C(v,16)));default:return null}}Kr.prototype.getQ=sd,Kr.prototype.getA=ad,Kr.prototype.getB=od,Kr.prototype.equals=ud,Kr.prototype.getInfinity=ld,Kr.prototype.fromBigInteger=cd,Kr.prototype.decodePointHex=fd;/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */Et.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},Ve.prototype.getEncoded=function(r){var n=function(l,g){var p=l.toByteArrayUnsigned();if(g<p.length)p=p.slice(p.length-g);else for(;g>p.length;)p.unshift(0);return p},s=this.getX().toBigInteger(),o=this.getY().toBigInteger(),c=n(s,32);return r?o.isEven()?c.unshift(2):c.unshift(3):(c.unshift(4),c=c.concat(n(o,32))),c},Ve.decodeFrom=function(r,n){n[0];var s=n.length-1,o=n.slice(1,1+s/2),c=n.slice(1+s/2,1+s);o.unshift(0),c.unshift(0);var l=new C(o),g=new C(c);return new Ve(r,r.fromBigInteger(l),r.fromBigInteger(g))},Ve.decodeFromHex=function(r,n){n.substr(0,2);var s=n.length-2,o=n.substr(2,s/2),c=n.substr(2+s/2,s/2),l=new C(o,16),g=new C(c,16);return new Ve(r,r.fromBigInteger(l),r.fromBigInteger(g))},Ve.prototype.add2D=function(r){if(this.isInfinity())return r;if(r.isInfinity())return this;if(this.x.equals(r.x))return this.y.equals(r.y)?this.twice():this.curve.getInfinity();var n=r.x.subtract(this.x),s=r.y.subtract(this.y),o=s.divide(n),c=o.square().subtract(this.x).subtract(r.x),l=o.multiply(this.x.subtract(c)).subtract(this.y);return new Ve(this.curve,c,l)},Ve.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var r=this.curve.fromBigInteger(C.valueOf(2)),n=this.curve.fromBigInteger(C.valueOf(3)),s=this.x.square().multiply(n).add(this.curve.a).divide(this.y.multiply(r)),o=s.square().subtract(this.x.multiply(r)),c=s.multiply(this.x.subtract(o)).subtract(this.y);return new Ve(this.curve,o,c)},Ve.prototype.multiply2D=function(r){if(this.isInfinity())return this;if(r.signum()==0)return this.curve.getInfinity();var n=r,s=n.multiply(new C("3")),o=this.negate(),c=this,l;for(l=s.bitLength()-2;l>0;--l){c=c.twice();var g=s.testBit(l),p=n.testBit(l);g!=p&&(c=c.add2D(g?this:o))}return c},Ve.prototype.isOnCurve=function(){var r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),s=this.curve.getA().toBigInteger(),o=this.curve.getB().toBigInteger(),c=this.curve.getQ(),l=n.multiply(n).mod(c),g=r.multiply(r).multiply(r).add(s.multiply(r)).add(o).mod(c);return l.equals(g)},Ve.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},Ve.prototype.validate=function(){var r=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var n=this.getX().toBigInteger(),s=this.getY().toBigInteger();if(n.compareTo(C.ONE)<0||n.compareTo(r.subtract(C.ONE))>0)throw new Error("x coordinate out of bounds");if(s.compareTo(C.ONE)<0||s.compareTo(r.subtract(C.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(r).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var Wo=function(){var r="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)",n='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))',s='(?:"'+n+'*")',o=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+r+"|"+s+")","g"),c=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),l={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function g(F,b,d){return b?l[b]:String.fromCharCode(parseInt(d,16))}var p=new String(""),x="\\",v=Object.hasOwnProperty;return function(F,b){var d=F.match(o),w,m=d[0],S=!1;m==="{"?w={}:m==="["?w=[]:(w=[],S=!0);for(var E,P=[w],H=1-S,K=d.length;H<K;++H){m=d[H];var k;switch(m.charCodeAt(0)){default:k=P[0],k[E||k.length]=+m,E=void 0;break;case 34:if(m=m.substring(1,m.length-1),m.indexOf(x)!==-1&&(m=m.replace(c,g)),k=P[0],!E)if(k instanceof Array)E=k.length;else{E=m||p;break}k[E]=m,E=void 0;break;case 91:k=P[0],P.unshift(k[E||k.length]=[]),E=void 0;break;case 93:P.shift();break;case 102:k=P[0],k[E||k.length]=!1,E=void 0;break;case 110:k=P[0],k[E||k.length]=null,E=void 0;break;case 116:k=P[0],k[E||k.length]=!0,E=void 0;break;case 123:k=P[0],P.unshift(k[E||k.length]={}),E=void 0;break;case 125:P.shift();break}}if(S){if(P.length!==1)throw new Error;w=w[0]}else if(P.length)throw new Error;if(b){var U=function(I,_){var N=I[_];if(N&&typeof N=="object"){var R=null;for(var B in N)if(v.call(N,B)&&N!==I){var V=U(N,B);V!==void 0?N[B]=V:(R||(R=[]),R.push(B))}if(R)for(var $=R.length;--$>=0;)delete N[R[$]]}return b.call(I,_,N)};w=U({"":w},"")}return w}}();(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),f.asn1.ASN1Util=new function(){this.integerToByteHex=function(r){var n=r.toString(16);return n.length%2==1&&(n="0"+n),n},this.bigIntToMinTwosComplementsHex=function(r){return ai(r)},this.getPEMStringFromHex=function(r,n){return Bt(r,n)},this.newObject=function(r){var n=f,s=n.asn1,o=s.ASN1Object,c=s.DERBoolean,l=s.DERInteger,g=s.DERBitString,p=s.DEROctetString,x=s.DERNull,v=s.DERObjectIdentifier,F=s.DEREnumerated,b=s.DERUTF8String,d=s.DERNumericString,w=s.DERPrintableString,m=s.DERTeletexString,S=s.DERIA5String,E=s.DERUTCTime,P=s.DERGeneralizedTime,H=s.DERVisibleString,K=s.DERBMPString,k=s.DERSequence,U=s.DERSet,I=s.DERTaggedObject,_=s.ASN1Util.newObject;if(r instanceof s.ASN1Object)return r;var N=Object.keys(r);if(N.length!=1)throw new Error("key of param shall be only one.");var R=N[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+R+":")==-1)throw new Error("undefined key: "+R);if(R=="bool")return new c(r[R]);if(R=="int")return new l(r[R]);if(R=="bitstr")return new g(r[R]);if(R=="octstr")return new p(r[R]);if(R=="null")return new x(r[R]);if(R=="oid")return new v(r[R]);if(R=="enum")return new F(r[R]);if(R=="utf8str")return new b(r[R]);if(R=="numstr")return new d(r[R]);if(R=="prnstr")return new w(r[R]);if(R=="telstr")return new m(r[R]);if(R=="ia5str")return new S(r[R]);if(R=="utctime")return new E(r[R]);if(R=="gentime")return new P(r[R]);if(R=="visstr")return new H(r[R]);if(R=="bmpstr")return new K(r[R]);if(R=="asn1")return new o(r[R]);if(R=="seq"){for(var B=r[R],V=[],$=0;$<B.length;$++){var ee=_(B[$]);V.push(ee)}return new k({array:V})}if(R=="set"){for(var B=r[R],V=[],$=0;$<B.length;$++){var ee=_(B[$]);V.push(ee)}return new U({array:V})}if(R=="tag"){var q=r[R];if(Object.prototype.toString.call(q)==="[object Array]"&&q.length==3){var z=_(q[2]);return new I({tag:q[0],explicit:q[1],obj:z})}else return new I(q)}},this.jsonToASN1HEX=function(r){var n=this.newObject(r);return n.tohex()}},f.asn1.ASN1Util.oidHexToInt=function(r){for(var c="",n=parseInt(r.substr(0,2),16),s=Math.floor(n/40),o=n%40,c=s+"."+o,l="",g=2;g<r.length;g+=2){var p=parseInt(r.substr(g,2),16),x=("00000000"+p.toString(2)).slice(-8);if(l=l+x.substr(1,7),x.substr(0,1)=="0"){var v=new C(l,2);c=c+"."+v.toString(10),l=""}}return c},f.asn1.ASN1Util.oidIntToHex=function(r){var n=function(p){var x=p.toString(16);return x.length==1&&(x="0"+x),x},s=function(p){var x="",v=new C(p,10),F=v.toString(2),b=7-F.length%7;b==7&&(b=0);for(var d="",w=0;w<b;w++)d+="0";F=d+F;for(var w=0;w<F.length-1;w+=7){var m=F.substr(w,7);w!=F.length-7&&(m="1"+m),x+=n(parseInt(m,2))}return x};if(!r.match(/^[0-9.]+$/))throw"malformed oid string: "+r;var o="",c=r.split("."),l=parseInt(c[0])*40+parseInt(c[1]);o+=n(l),c.splice(0,2);for(var g=0;g<c.length;g++)o+=s(c[g]);return o},f.asn1.ASN1Object=function(r){var n="";this.params=null,this.getLengthHexFromValue=function(){if(typeof this.hV>"u"||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+n.length+",v="+this.hV);var s=this.hV.length/2,o=s.toString(16);if(o.length%2==1&&(o="0"+o),s<128)return o;var c=o.length/2;if(c>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+s.toString(16));var l=128+c;return l.toString(16)+o},this.tohex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(s){this.params=s},r!=null&&r.tlv!=null&&(this.hTLV=r.tlv,this.isModified=!1)},f.asn1.DERAbstractString=function(r){f.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.s=n,this.hV=Gi(this.s).toLowerCase()},this.setStringHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r=="string"?this.setString(r):typeof r.str<"u"?this.setString(r.str):typeof r.hex<"u"&&this.setStringHex(r.hex))},Z(f.asn1.DERAbstractString,f.asn1.ASN1Object),f.asn1.DERAbstractTime=function(r){f.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(n){var s=n.getTime()+n.getTimezoneOffset()*6e4,o=new Date(s);return o},this.formatDate=function(n,s,o){var c=this.zeroPadding,l=this.localDateToUTC(n),g=String(l.getFullYear());s=="utc"&&(g=g.substr(2,2));var p=c(String(l.getMonth()+1),2),x=c(String(l.getDate()),2),v=c(String(l.getHours()),2),F=c(String(l.getMinutes()),2),b=c(String(l.getSeconds()),2),d=g+p+x+v+F+b;if(o===!0){var w=l.getMilliseconds();if(w!=0){var m=c(String(w),3);m=m.replace(/[0]+$/,""),d=d+"."+m}}return d+"Z"},this.zeroPadding=function(n,s){return n.length>=s?n:new Array(s-n.length+1).join("0")+n},this.setByParam=function(n){this.hV=null,this.hTLV=null,this.params=n},this.getString=function(){},this.setString=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.str=n},this.setByDate=function(n){this.hTLV=null,this.isModified=!0,this.params==null&&(this.params={}),this.params.date=n},this.setByDateValue=function(n,s,o,c,l,g){var p=new Date(Date.UTC(n,s-1,o,c,l,g,0));this.setByDate(p)},this.getFreshValueHex=function(){return this.hV}},Z(f.asn1.DERAbstractTime,f.asn1.ASN1Object),f.asn1.DERAbstractStructured=function(r){f.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(n){this.hTLV=null,this.isModified=!0,this.asn1Array=n},this.appendASN1Object=function(n){this.hTLV=null,this.isModified=!0,this.asn1Array.push(n)},this.asn1Array=new Array,typeof r<"u"&&typeof r.array<"u"&&(this.asn1Array=r.array)},Z(f.asn1.DERAbstractStructured,f.asn1.ASN1Object),f.asn1.DERBoolean=function(r){f.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",r==!1?this.hTLV="010100":this.hTLV="0101ff"},Z(f.asn1.DERBoolean,f.asn1.ASN1Object),f.asn1.DERInteger=function(r){f.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.params=null;var n=ai;this.setByBigInteger=function(s){this.isModified=!0,this.params={bigint:s}},this.setByInteger=function(s){this.isModified=!0,this.params=s},this.setValueHex=function(s){this.isModified=!0,this.params={hex:s}},this.getFreshValueHex=function(){var s=this.params,o=null;if(s==null)throw new Error("value not set");if(typeof s=="object"&&s.hex!=null)return this.hV=s.hex,this.hV;if(typeof s=="number")o=new C(String(s),10);else if(s.int!=null)o=new C(String(s.int),10);else if(s.bigint!=null)o=s.bigint;else throw new Error("wrong parameter");return this.hV=n(o),this.hV},r!=null&&(this.params=r)},Z(f.asn1.DERInteger,f.asn1.ASN1Object),f.asn1.DERBitString=function(r){if(r!==void 0&&typeof r.obj<"u"){var n=f.asn1.ASN1Util.newObject(r.obj);r.hex="00"+n.tohex()}f.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(s){this.hTLV=null,this.isModified=!0,this.hV=s},this.setUnusedBitsAndHexValue=function(s,o){if(s<0||7<s)throw"unused bits shall be from 0 to 7: u = "+s;var c="0"+s;this.hTLV=null,this.isModified=!0,this.hV=c+o},this.setByBinaryString=function(s){s=s.replace(/0+$/,"");var o=8-s.length%8;o==8&&(o=0),s+="0000000".substr(0,o);for(var c="",l=0;l<s.length-1;l+=8){var g=s.substr(l,8),p=parseInt(g,2).toString(16);p.length==1&&(p="0"+p),c+=p}this.hTLV=null,this.isModified=!0,this.hV="0"+o+c},this.setByBooleanArray=function(s){for(var o="",c=0;c<s.length;c++)s[c]==!0?o+="1":o+="0";this.setByBinaryString(o)},this.newFalseArray=function(s){for(var o=new Array(s),c=0;c<s;c++)o[c]=!1;return o},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r=="string"&&r.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(r):typeof r.hex<"u"?this.setHexValueIncludingUnusedBits(r.hex):typeof r.bin<"u"?this.setByBinaryString(r.bin):typeof r.array<"u"&&this.setByBooleanArray(r.array))},Z(f.asn1.DERBitString,f.asn1.ASN1Object),f.asn1.DEROctetString=function(r){if(r!==void 0&&typeof r.obj<"u"){var n=f.asn1.ASN1Util.newObject(r.obj);r.hex=n.tohex()}f.asn1.DEROctetString.superclass.constructor.call(this,r),this.hT="04"},Z(f.asn1.DEROctetString,f.asn1.DERAbstractString),f.asn1.DERNull=function(){f.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Z(f.asn1.DERNull,f.asn1.ASN1Object),f.asn1.DERObjectIdentifier=function(r){f.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(n){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueOidString=function(n){var s=tu(n);if(s==null)throw new Error("malformed oid string: "+n);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=s},this.setValueName=function(n){var s=f.asn1.x509.OID.name2oid(n);if(s!=="")this.setValueOidString(s);else throw new Error("DERObjectIdentifier oidName undefined: "+n)},this.setValueNameOrOid=function(n){n.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(n):this.setValueName(n)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(n){typeof n=="string"?this.setValueNameOrOid(n):n.oid!==void 0?this.setValueNameOrOid(n.oid):n.name!==void 0?this.setValueNameOrOid(n.name):n.hex!==void 0&&this.setValueHex(n.hex)},r!==void 0&&this.setByParam(r)},Z(f.asn1.DERObjectIdentifier,f.asn1.ASN1Object),f.asn1.DEREnumerated=function(r){f.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(n){this.hTLV=null,this.isModified=!0,this.hV=ai(n)},this.setByInteger=function(n){var s=new C(String(n),10);this.setByBigInteger(s)},this.setValueHex=function(n){this.hV=n},this.getFreshValueHex=function(){return this.hV},typeof r<"u"&&(typeof r.int<"u"?this.setByInteger(r.int):typeof r=="number"?this.setByInteger(r):typeof r.hex<"u"&&this.setValueHex(r.hex))},Z(f.asn1.DEREnumerated,f.asn1.ASN1Object),f.asn1.DERUTF8String=function(r){f.asn1.DERUTF8String.superclass.constructor.call(this,r),this.hT="0c"},Z(f.asn1.DERUTF8String,f.asn1.DERAbstractString),f.asn1.DERNumericString=function(r){f.asn1.DERNumericString.superclass.constructor.call(this,r),this.hT="12"},Z(f.asn1.DERNumericString,f.asn1.DERAbstractString),f.asn1.DERPrintableString=function(r){f.asn1.DERPrintableString.superclass.constructor.call(this,r),this.hT="13"},Z(f.asn1.DERPrintableString,f.asn1.DERAbstractString),f.asn1.DERTeletexString=function(r){f.asn1.DERTeletexString.superclass.constructor.call(this,r),this.hT="14"},Z(f.asn1.DERTeletexString,f.asn1.DERAbstractString),f.asn1.DERIA5String=function(r){f.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="16"},Z(f.asn1.DERIA5String,f.asn1.DERAbstractString),f.asn1.DERVisibleString=function(r){f.asn1.DERIA5String.superclass.constructor.call(this,r),this.hT="1a"},Z(f.asn1.DERVisibleString,f.asn1.DERAbstractString),f.asn1.DERBMPString=function(r){f.asn1.DERBMPString.superclass.constructor.call(this,r),this.hT="1e"},Z(f.asn1.DERBMPString,f.asn1.DERAbstractString),f.asn1.DERUTCTime=function(r){f.asn1.DERUTCTime.superclass.constructor.call(this,r),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var n=this.params;if(this.params==null&&(n={date:new Date}),typeof n=="string")if(n.match(/^[0-9]{12}Z$/)||n.match(/^[0-9]{12}\.[0-9]+Z$/))this.hV=Qt(n);else throw new Error("malformed string for UTCTime: "+n);else if(n.str!=null)this.hV=Qt(n.str);else if(n.date==null&&n.millis==!0){var s=new Date;this.hV=Qt(this.formatDate(s,"utc",!0))}else if(n.date!=null&&n.date instanceof Date){var o=n.millis===!0;this.hV=Qt(this.formatDate(n.date,"utc",o))}else n instanceof Date&&(this.hV=Qt(this.formatDate(n,"utc")));if(this.hV==null)throw new Error("parameter not specified properly for UTCTime");return this.hV},r!=null&&this.setByParam(r)},Z(f.asn1.DERUTCTime,f.asn1.DERAbstractTime),f.asn1.DERGeneralizedTime=function(r){f.asn1.DERGeneralizedTime.superclass.constructor.call(this,r),this.hT="18",this.params=r,this.getFreshValueHex=function(){var n=this.params;if(this.params==null&&(n={date:new Date}),typeof n=="string")if(n.match(/^[0-9]{14}Z$/)||n.match(/^[0-9]{14}\.[0-9]+Z$/))this.hV=Qt(n);else throw new Error("malformed string for GeneralizedTime: "+n);else if(n.str!=null)this.hV=Qt(n.str);else if(n.date==null&&n.millis==!0){var s=new Date;this.hV=Qt(this.formatDate(s,"gen",!0))}else if(n.date!=null&&n.date instanceof Date){var o=n.millis===!0;this.hV=Qt(this.formatDate(n.date,"gen",o))}else n instanceof Date&&(this.hV=Qt(this.formatDate(n,"gen")));if(this.hV==null)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},r!=null&&this.setByParam(r)},Z(f.asn1.DERGeneralizedTime,f.asn1.DERAbstractTime),f.asn1.DERSequence=function(r){f.asn1.DERSequence.superclass.constructor.call(this,r),this.hT="30",this.getFreshValueHex=function(){for(var n="",s=0;s<this.asn1Array.length;s++){var o=this.asn1Array[s];n+=o.tohex()}return this.hV=n,this.hV}},Z(f.asn1.DERSequence,f.asn1.DERAbstractStructured),f.asn1.DERSet=function(r){f.asn1.DERSet.superclass.constructor.call(this,r),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var n=new Array,s=0;s<this.asn1Array.length;s++){var o=this.asn1Array[s];n.push(o.tohex())}return this.sortFlag==!0&&n.sort(),this.hV=n.join(""),this.hV},typeof r<"u"&&typeof r.sortflag<"u"&&r.sortflag==!1&&(this.sortFlag=!1)},Z(f.asn1.DERSet,f.asn1.DERAbstractStructured),f.asn1.DERTaggedObject=function(r){f.asn1.DERTaggedObject.superclass.constructor.call(this);var n=f.asn1,s=ue,o=s.getV;s.isASN1HEX;var c=n.ASN1Util.newObject;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(l,g,p){this.params={tag:g,explicit:l,obj:p}},this.getFreshValueHex=function(){var l=this.params;if(l.explicit==null&&(l.explicit=!0),l.tage!=null&&(l.tag=l.tage,l.explicit=!0),l.tagi!=null&&(l.tag=l.tagi,l.explicit=!1),l.str!=null)this.hV=Gi(l.str);else if(l.hex!=null)this.hV=l.hex;else if(l.obj!=null){var g;l.obj instanceof n.ASN1Object?g=l.obj.tohex():typeof l.obj=="object"&&(g=c(l.obj).tohex()),l.explicit?this.hV=g:this.hV=o(g,0)}else throw new Error("str, hex nor obj not specified");return l.tag==null&&(l.tag="a0"),this.hT=l.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(l){this.params=l},r!==void 0&&this.setByParam(r)},Z(f.asn1.DERTaggedObject,f.asn1.ASN1Object);var ue=new function(){};ue.getLblen=function(r,n){if(r.substr(n+2,1)!="8")return 1;var s=parseInt(r.substr(n+3,1));return s==0?-1:0<s&&s<10?s+1:-2},ue.getL=function(r,n){var s=ue.getLblen(r,n);return s<1?"":r.substr(n+2,s*2)},ue.getVblen=function(r,n){var s,o;return s=ue.getL(r,n),s==""?-1:(s.substr(0,1)==="8"?o=new C(s.substr(2),16):o=new C(s,16),o.intValue())},ue.getVidx=function(r,n){var s=ue.getLblen(r,n);return s<0?s:n+(s+1)*2},ue.getV=function(r,n){var s=ue.getVidx(r,n),o=ue.getVblen(r,n);return r.substr(s,o*2)},ue.getTLV=function(r,n){return r.substr(n,2)+ue.getL(r,n)+ue.getV(r,n)},ue.getTLVblen=function(r,n){return 2+ue.getLblen(r,n)*2+ue.getVblen(r,n)*2},ue.getNextSiblingIdx=function(r,n){var s=ue.getVidx(r,n),o=ue.getVblen(r,n);return s+o*2},ue.getChildIdx=function(r,n){var s=ue,o=[],c,l,g;c=s.getVidx(r,n),l=s.getVblen(r,n)*2,r.substr(n,2)=="03"&&(c+=2,l-=2),g=0;for(var p=c;g<=l;){var x=s.getTLVblen(r,p);if(g+=x,g<=l&&o.push(p),p+=x,g>=l)break}return o},ue.getNthChildIdx=function(r,n,s){var o=ue.getChildIdx(r,n);return o[s]},ue.getIdxbyList=function(r,n,s,o){var c=ue,l,g;return s.length==0?o!==void 0&&r.substr(n,2)!==o?-1:n:(l=s.shift(),g=c.getChildIdx(r,n),l>=g.length?-1:c.getIdxbyList(r,g[l],s,o))},ue.getIdxbyListEx=function(r,n,s,o){var c=ue,l,g;if(s.length==0)return o!==void 0&&r.substr(n,2)!==o?-1:n;l=s.shift(),g=c.getChildIdx(r,n);for(var p=0,x=0;x<g.length;x++){var v=r.substr(g[x],2);if(typeof l=="number"&&!c.isContextTag(v)&&p==l||typeof l=="string"&&c.isContextTag(v,l))return c.getIdxbyListEx(r,g[x],s,o);c.isContextTag(v)||p++}return-1},ue.getTLVbyList=function(r,n,s,o){var c=ue,l=c.getIdxbyList(r,n,s,o);return l==-1||l>=r.length?null:c.getTLV(r,l)},ue.getTLVbyListEx=function(r,n,s,o){var c=ue,l=c.getIdxbyListEx(r,n,s,o);return l==-1?null:c.getTLV(r,l)},ue.getVbyList=function(r,n,s,o,c){var l=ue,g,p;return g=l.getIdxbyList(r,n,s,o),g==-1||g>=r.length?null:(p=l.getV(r,g),c===!0&&(p=p.substr(2)),p)},ue.getVbyListEx=function(r,n,s,o,c){var l=ue,g,p;return g=l.getIdxbyListEx(r,n,s,o),g==-1?null:(p=l.getV(r,g),r.substr(g,2)=="03"&&c!==!1&&(p=p.substr(2)),p)},ue.getInt=function(r,n,s){s==null&&(s=-1);try{var o=r.substr(n,2);if(o!="02"&&o!="03")return s;var c=ue.getV(r,n);return o=="02"?parseInt(c,16):nu(c)}catch{return s}},ue.getOID=function(r,n,s){s==null&&(s=null);try{if(r.substr(n,2)!="06")return s;var o=ue.getV(r,n);return es(o)}catch{return s}},ue.getOIDName=function(r,n,s){s==null&&(s=null);try{var o=ue.getOID(r,n,s);if(o==s)return s;var c=f.asn1.x509.OID.oid2name(o);return c==""?o:c}catch{return s}},ue.getString=function(r,n,s){s==null&&(s=null);try{var o=ue.getV(r,n);return Zt(o)}catch{return s}},ue.hextooidstr=function(r){var n=function(b,d){return b.length>=d?b:new Array(d-b.length+1).join("0")+b},s=[],o=r.substr(0,2),c=parseInt(o,16);s[0]=new String(Math.floor(c/40)),s[1]=new String(c%40);for(var l=r.substr(2),g=[],p=0;p<l.length/2;p++)g.push(parseInt(l.substr(p*2,2),16));for(var x=[],v="",p=0;p<g.length;p++)g[p]&128?v=v+n((g[p]&127).toString(2),7):(v=v+n((g[p]&127).toString(2),7),x.push(new String(parseInt(v,2))),v="");var F=s.join(".");return x.length>0&&(F=F+"."+x.join(".")),F},ue.dump=function(r,n,s,o){var c=ue,l=c.getV,g=c.dump,p=c.getChildIdx,x=r;r instanceof f.asn1.ASN1Object&&(x=r.tohex());var v=function(_,N){if(_.length<=N*2)return _;var R=_.substr(0,N)+"..(total "+_.length/2+"bytes).."+_.substr(_.length-N,N);return R};n===void 0&&(n={ommit_long_octet:32}),s===void 0&&(s=0),o===void 0&&(o="");var F=n.ommit_long_octet,U=x.substr(s,2);if(U=="01"){var b=l(x,s);return b=="00"?o+`BOOLEAN FALSE
`:o+`BOOLEAN TRUE
`}if(U=="02"){var b=l(x,s);return o+"INTEGER "+v(b,F)+`
`}if(U=="03"){var b=l(x,s);if(c.isASN1HEX(b.substr(2))){var d=o+`BITSTRING, encapsulates
`;return d=d+g(b.substr(2),n,0,o+"  "),d}else return o+"BITSTRING "+v(b,F)+`
`}if(U=="04"){var b=l(x,s);if(c.isASN1HEX(b)){var d=o+`OCTETSTRING, encapsulates
`;return d=d+g(b,n,0,o+"  "),d}else return o+"OCTETSTRING "+v(b,F)+`
`}if(U=="05")return o+`NULL
`;if(U=="06"){var w=l(x,s),m=f.asn1.ASN1Util.oidHexToInt(w),S=f.asn1.x509.OID.oid2name(m),E=m.replace(/\./g," ");return S!=""?o+"ObjectIdentifier "+S+" ("+E+`)
`:o+"ObjectIdentifier ("+E+`)
`}if(U=="0a")return o+"ENUMERATED "+parseInt(l(x,s))+`
`;if(U=="0c")return o+"UTF8String '"+ze(l(x,s))+`'
`;if(U=="13")return o+"PrintableString '"+ze(l(x,s))+`'
`;if(U=="14")return o+"TeletexString '"+ze(l(x,s))+`'
`;if(U=="16")return o+"IA5String '"+ze(l(x,s))+`'
`;if(U=="17")return o+"UTCTime "+ze(l(x,s))+`
`;if(U=="18")return o+"GeneralizedTime "+ze(l(x,s))+`
`;if(U=="1a")return o+"VisualString '"+ze(l(x,s))+`'
`;if(U=="1e")return o+"BMPString '"+da(l(x,s))+`'
`;if(U=="30"){if(x.substr(s,4)=="3000")return o+`SEQUENCE {}
`;var d=o+`SEQUENCE
`,P=p(x,s),H=n;if((P.length==2||P.length==3)&&x.substr(P[0],2)=="06"&&x.substr(P[P.length-1],2)=="04"){var S=c.oidname(l(x,P[0])),K=JSON.parse(JSON.stringify(n));K.x509ExtName=S,H=K}for(var k=0;k<P.length;k++)d=d+g(x,H,P[k],o+"  ");return d}if(U=="31"){for(var d=o+`SET
`,P=p(x,s),k=0;k<P.length;k++)d=d+g(x,n,P[k],o+"  ");return d}var U=parseInt(U,16);if((U&128)!=0){var I=U&31;if((U&32)!=0){for(var d=o+"["+I+`]
`,P=p(x,s),k=0;k<P.length;k++)d=d+g(x,n,P[k],o+"  ");return d}else{var b=l(x,s);if(ue.isASN1HEX(b)){var d=o+"["+I+`]
`;return d=d+g(b,n,0,o+"  "),d}else(b.substr(0,8)=="68747470"||n.x509ExtName==="subjectAltName"&&I==2)&&(b=ze(b));var d=o+"["+I+"] "+b+`
`;return d}}return o+"UNKNOWN("+U+") "+l(x,s)+`
`},ue.parse=function(r){var n=ue,s=n.parse,o=n.isASN1HEX,c=n.getV,l=n.getTLV,g=n.getChildIdx,p=f.asn1,x=p.ASN1Util.oidHexToInt,v=p.x509.OID.oid2name,F=ze,b=da,d=vd,w={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},m=function(R){for(var B=[],V=g(R,0),$=0;$<V.length;$++){var ee=V[$],q=l(R,ee),z=s(q);B.push(z)}return B},S=r.substr(0,2),E={},P=c(r,0);if(S=="01")return r=="0101ff"?{bool:!0}:{bool:!1};if(S=="02")return{int:{hex:P}};if(S=="03")try{if(P.substr(0,2)!="00")throw"not encap";var H=P.substr(2);if(!o(H))throw"not encap";return{bitstr:{obj:s(H)}}}catch{var K=null;return P.length<=10&&(K=su(P)),K==null?{bitstr:{hex:P}}:{bitstr:{bin:K}}}else if(S=="04")try{if(!o(P))throw"not encap";return{octstr:{obj:s(P)}}}catch{return{octstr:{hex:P}}}else{if(S=="05")return{null:""};if(S=="06"){var k=x(P),U=v(k);return U==""?{oid:k}:{oid:U}}else{if(S=="0a")return P.length>4?{enum:{hex:P}}:{enum:parseInt(P,16)};if(S=="30"||S=="31")return E[w[S]]=m(r),E;if(S=="14"){var I=d(P);return E[w[S]]={str:I},E}else if(S=="1e"){var I=b(P);return E[w[S]]={str:I},E}else if(":0c:12:13:16:17:18:1a:".indexOf(S)!=-1){var I=F(P);return E[w[S]]={str:I},E}else if(S.match(/^8[0-9]$/)){var I=F(P);return I==null|I==""?{tag:{tag:S,explicit:!1,hex:P}}:I.match(/[\x00-\x1F\x7F-\x9F]/)!=null||I.match(/[\u0000-\u001F\u0080–\u009F]/)!=null?{tag:{tag:S,explicit:!1,hex:P}}:{tag:{tag:S,explicit:!1,str:I}}}else if(S.match(/^a[0-9]$/))try{if(!o(P))throw new Error("not encap");return{tag:{tag:S,explicit:!0,obj:s(P)}}}catch{return{tag:{tag:S,explicit:!0,hex:P}}}else{var _=new f.asn1.ASN1Object;_.hV=P;var N=_.getLengthHexFromValue();return{asn1:{tlv:S+N+P}}}}}},ue.isContextTag=function(r,n){r=r.toLowerCase();var s,o;try{s=parseInt(r,16)}catch{return-1}if(n===void 0)return(s&192)==128;try{var c=n.match(/^\[[0-9]+\]$/);return c==null||(o=parseInt(n.substr(1,n.length-1),10),o>31)?!1:(s&192)==128&&(s&31)==o}catch{return!1}},ue.isASN1HEX=function(r){var n=ue;if(r.length%2==1)return!1;var s=n.getVblen(r,0),o=r.substr(0,2),c=n.getL(r,0),l=r.length-o.length-c.length;return l==s*2},ue.checkStrictDER=function(r,n,s,o,c){var l=ue;if(s===void 0){if(typeof r!="string")throw new Error("not hex string");if(r=r.toLowerCase(),!f.lang.String.isHex(r))throw new Error("not hex string");s=r.length,o=r.length/2,o<128?c=1:c=Math.ceil(o.toString(16))+1}var g=l.getL(r,n);if(g.length>c*2)throw new Error("L of TLV too long: idx="+n);var p=l.getVblen(r,n);if(p>o)throw new Error("value of L too long than hex: idx="+n);var x=l.getTLV(r,n),v=x.length-2-l.getL(r,n).length;if(v!==p*2)throw new Error("V string length and L's value not the same:"+v+"/"+p*2);if(n===0&&r.length!=x.length)throw new Error("total length and TLV length unmatch:"+r.length+"!="+x.length);var F=r.substr(n,2);if(F==="02"){var b=l.getVidx(r,n);if(r.substr(b,2)=="00"&&r.charCodeAt(b+2)<56)throw new Error("not least zeros for DER INTEGER")}if(parseInt(F,16)&32){for(var d=l.getVblen(r,n),w=0,m=l.getChildIdx(r,n),S=0;S<m.length;S++){var E=l.getTLV(r,m[S]);w+=E.length,l.checkStrictDER(r,m[S],s,o,c)}if(d*2!=w)throw new Error("sum of children's TLV length and L unmatch: "+d*2+"!="+w)}},ue.oidname=function(r){var n=f.asn1;f.lang.String.isHex(r)&&(r=n.ASN1Util.oidHexToInt(r));var s=n.x509.OID.oid2name(r);return s===""&&(s=r),s},(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),(typeof f.asn1.x509>"u"||!f.asn1.x509)&&(f.asn1.x509={}),f.asn1.x509.Certificate=function(r){f.asn1.x509.Certificate.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERBitString,c=s.DERSequence,l=s.x509,g=l.TBSCertificate,p=l.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(x){this.params=x},this.sign=function(){var x=this.params,v=x.sigalg;x.sigalg.name!=null&&(v=x.sigalg.name);var F=x.tbsobj.tohex(),b=new f.crypto.Signature({alg:v});b.init(x.cakey),b.updateHex(F),x.sighex=b.sign()},this.getPEM=function(){return Bt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var x=this.params;if((x.tbsobj==null||x.tbsobj==null)&&(x.tbsobj=new g(x)),x.sighex==null&&x.cakey!=null&&this.sign(),x.sighex==null)throw new Error("sighex or cakey parameter not defined");var v=[];v.push(x.tbsobj),v.push(new p({name:x.sigalg})),v.push(new o({hex:"00"+x.sighex}));var F=new c({array:v});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&(this.params=r)},Z(f.asn1.x509.Certificate,f.asn1.ASN1Object),f.asn1.x509.TBSCertificate=function(r){f.asn1.x509.TBSCertificate.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.x509,c=s.DERTaggedObject,l=s.DERInteger,g=s.DERSequence,p=o.AlgorithmIdentifier,x=o.Time,v=o.X500Name,F=o.Extensions,b=o.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(d){this.params=d},this.tohex=function(){var d=[],w=this.params;if(w.version!=null||w.version!=1){var m=2;w.version!=null&&(m=w.version-1);var S=new c({obj:new l({int:m})});d.push(S)}d.push(new l(w.serial)),d.push(new p({name:w.sigalg})),d.push(new v(w.issuer)),d.push(new g({array:[new x(w.notbefore),new x(w.notafter)]})),d.push(new v(w.subject)),d.push(new b(He.getKey(w.sbjpubkey))),w.ext!==void 0&&w.ext.length>0&&d.push(new c({tag:"a3",obj:new F(w.ext)}));var E=new f.asn1.DERSequence({array:d});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.TBSCertificate,f.asn1.ASN1Object),f.asn1.x509.Extensions=function(r){f.asn1.x509.Extensions.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERSequence,c=s.x509;this.aParam=[],this.setByParam=function(l){this.aParam=l},this.tohex=function(){for(var l=[],g=0;g<this.aParam.length;g++){var p=this.aParam[g],x=p.extname,v=null;if(p.extn!=null)v=new c.PrivateExtension(p);else if(x=="subjectKeyIdentifier")v=new c.SubjectKeyIdentifier(p);else if(x=="keyUsage")v=new c.KeyUsage(p);else if(x=="subjectAltName")v=new c.SubjectAltName(p);else if(x=="issuerAltName")v=new c.IssuerAltName(p);else if(x=="basicConstraints")v=new c.BasicConstraints(p);else if(x=="nameConstraints")v=new c.NameConstraints(p);else if(x=="cRLDistributionPoints")v=new c.CRLDistributionPoints(p);else if(x=="certificatePolicies")v=new c.CertificatePolicies(p);else if(x=="policyMappings")v=new c.PolicyMappings(p);else if(x=="policyConstraints")v=new c.PolicyConstraints(p);else if(x=="inhibitAnyPolicy")v=new c.InhibitAnyPolicy(p);else if(x=="authorityKeyIdentifier")v=new c.AuthorityKeyIdentifier(p);else if(x=="extKeyUsage")v=new c.ExtKeyUsage(p);else if(x=="authorityInfoAccess")v=new c.AuthorityInfoAccess(p);else if(x=="cRLNumber")v=new c.CRLNumber(p);else if(x=="cRLReason")v=new c.CRLReason(p);else if(x=="ocspNonce")v=new c.OCSPNonce(p);else if(x=="ocspNoCheck")v=new c.OCSPNoCheck(p);else if(x=="adobeTimeStamp")v=new c.AdobeTimeStamp(p);else if(x=="subjectDirectoryAttributes")v=new c.SubjectDirectoryAttributes(p);else throw new Error("extension not supported:"+JSON.stringify(p));v!=null&&l.push(v)}var F=new o({array:l});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.x509.Extensions,f.asn1.ASN1Object),f.asn1.x509.Extension=function(r){f.asn1.x509.Extension.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERObjectIdentifier,c=s.DEROctetString;s.DERBitString;var l=s.DERBoolean,g=s.DERSequence;this.tohex=function(){var p=new o({oid:this.oid}),x=new c({hex:this.getExtnValueHex()}),v=new Array;v.push(p),this.critical&&v.push(new l),v.push(x);var F=new g({array:v});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,r!==void 0&&r.critical!==void 0&&(this.critical=r.critical)},Z(f.asn1.x509.Extension,f.asn1.ASN1Object),f.asn1.x509.KeyUsage=function(r){f.asn1.x509.KeyUsage.superclass.constructor.call(this,r);var n=Error,s={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var o=this.getBinValue();return this.asn1ExtnValue=new f.asn1.DERBitString({bin:o}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var o=this.params;if(typeof o!="object"||typeof o.names!="object"&&typeof o.bin!="string")throw new n("parameter not yet set");if(o.names!=null)return rs(o.names,s);if(o.bin!=null)return o.bin;throw new n("parameter not set properly")},this.oid="2.5.29.15",r!==void 0&&(this.params=r)},Z(f.asn1.x509.KeyUsage,f.asn1.x509.Extension),f.asn1.x509.BasicConstraints=function(r){f.asn1.x509.BasicConstraints.superclass.constructor.call(this,r);var n=f.asn1,s=n.DERBoolean,o=n.DERInteger,c=n.DERSequence;this.getExtnValueHex=function(){var l=new Array;this.cA&&l.push(new s),this.pathLen>-1&&l.push(new o({int:this.pathLen}));var g=new c({array:l});return this.asn1ExtnValue=g,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,r!==void 0&&(r.cA!==void 0&&(this.cA=r.cA),r.pathLen!==void 0&&(this.pathLen=r.pathLen))},Z(f.asn1.x509.BasicConstraints,f.asn1.x509.Extension),f.asn1.x509.CRLDistributionPoints=function(r){f.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(c){for(var l=[],g=0;g<c.length;g++)if(c[g]instanceof f.asn1.ASN1Object)l.push(c[g]);else{var p=new o.DistributionPoint(c[g]);l.push(p)}this.asn1ExtnValue=new s.DERSequence({array:l})},this.setByOneURI=function(c){var l=new o.DistributionPoint({fulluri:c});this.setByDPArray([l])},this.oid="2.5.29.31",r!==void 0&&(r.array!==void 0?this.setByDPArray(r.array):r.uri!==void 0&&this.setByOneURI(r.uri))},Z(f.asn1.x509.CRLDistributionPoints,f.asn1.x509.Extension),f.asn1.x509.DistributionPoint=function(r){f.asn1.x509.DistributionPoint.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.x509.DistributionPointName;this.tohex=function(){var c=new s.DERSequence;if(this.asn1DP!=null){var l=new s.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});c.appendASN1Object(l)}return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(r.dpobj!==void 0?this.asn1DP=r.dpobj:r.dpname!==void 0?this.asn1DP=new o(r.dpname):r.fulluri!==void 0&&(this.asn1DP=new o({full:[{uri:r.fulluri}]})))},Z(f.asn1.x509.DistributionPoint,f.asn1.ASN1Object),f.asn1.x509.DistributionPointName=function(r){f.asn1.x509.DistributionPointName.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERTaggedObject;if(this.tohex=function(){if(this.type!="full")throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new o({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0)if(s.x509.GeneralNames.prototype.isPrototypeOf(r))this.type="full",this.tag="a0",this.asn1V=r;else if(r.full!==void 0)this.type="full",this.tag="a0",this.asn1V=new s.x509.GeneralNames(r.full);else throw new Error("This class supports GeneralNames only as argument")},Z(f.asn1.x509.DistributionPointName,f.asn1.ASN1Object),f.asn1.x509.CertificatePolicies=function(r){f.asn1.x509.CertificatePolicies.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.x509,c=s.DERSequence,l=o.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var g=[],p=0;p<this.params.array.length;p++)g.push(new l(this.params.array[p]));var x=new c({array:g});return this.asn1ExtnValue=x,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",r!==void 0&&(this.params=r)},Z(f.asn1.x509.CertificatePolicies,f.asn1.x509.Extension),f.asn1.x509.PolicyInformation=function(r){f.asn1.x509.PolicyInformation.superclass.constructor.call(this,r);var n=f.asn1,s=n.DERSequence,o=n.DERObjectIdentifier,c=n.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(this.params.policyoid===void 0&&this.params.array===void 0)throw new Error("parameter oid and array missing");var l=[new o(this.params.policyoid)];if(this.params.array!==void 0){for(var g=[],p=0;p<this.params.array.length;p++)g.push(new c(this.params.array[p]));g.length>0&&l.push(new s({array:g}))}var x=new s({array:l});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(this.params=r)},Z(f.asn1.x509.PolicyInformation,f.asn1.ASN1Object),f.asn1.x509.PolicyQualifierInfo=function(r){f.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,r);var n=f.asn1,s=n.DERSequence,o=n.DERIA5String,c=n.DERObjectIdentifier,l=n.x509.UserNotice;this.params=null,this.tohex=function(){if(this.params.cps!==void 0){var g=new s({array:[new c({oid:"1.3.6.1.5.5.7.2.1"}),new o({str:this.params.cps})]});return g.tohex()}if(this.params.unotice!=null){var g=new s({array:[new c({oid:"1.3.6.1.5.5.7.2.2"}),new l(this.params.unotice)]});return g.tohex()}},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(this.params=r)},Z(f.asn1.x509.PolicyQualifierInfo,f.asn1.ASN1Object),f.asn1.x509.UserNotice=function(r){f.asn1.x509.UserNotice.superclass.constructor.call(this,r);var n=f.asn1.DERSequence;f.asn1.DERInteger;var s=f.asn1.x509.DisplayText,o=f.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var c=[];this.params.noticeref!==void 0&&c.push(new o(this.params.noticeref)),this.params.exptext!==void 0&&c.push(new s(this.params.exptext));var l=new n({array:c});return l.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(this.params=r)},Z(f.asn1.x509.UserNotice,f.asn1.ASN1Object),f.asn1.x509.NoticeReference=function(r){f.asn1.x509.NoticeReference.superclass.constructor.call(this,r);var n=f.asn1.DERSequence,s=f.asn1.DERInteger,o=f.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var c=[];if(this.params.org!==void 0&&c.push(new o(this.params.org)),this.params.noticenum!==void 0){for(var l=[],g=this.params.noticenum,p=0;p<g.length;p++)l.push(new s(g[p]));c.push(new n({array:l}))}if(c.length==0)throw new Error("parameter is empty");var x=new n({array:c});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(this.params=r)},Z(f.asn1.x509.NoticeReference,f.asn1.ASN1Object),f.asn1.x509.DisplayText=function(r){f.asn1.x509.DisplayText.superclass.constructor.call(this,r),this.hT="0c",r!==void 0&&(r.type==="ia5"?this.hT="16":r.type==="vis"?this.hT="1a":r.type==="bmp"&&(this.hT="1e"))},Z(f.asn1.x509.DisplayText,f.asn1.DERAbstractString),f.asn1.x509.PolicyMappings=function(r){f.asn1.x509.PolicyMappings.superclass.constructor.call(this,r);var n=f,s=n.asn1;s.x509;var o=s.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){for(var c=this.params,l=[],g=0;g<c.array.length;g++){var p=c.array[g];l.push({seq:[{oid:p[0]},{oid:p[1]}]})}return this.asn1ExtnValue=o({seq:l}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.33",r!==void 0&&(this.params=r)},Z(f.asn1.x509.PolicyMappings,f.asn1.x509.Extension),f.asn1.x509.PolicyConstraints=function(r){f.asn1.x509.PolicyConstraints.superclass.constructor.call(this,r);var n=f,s=n.asn1;s.x509;var o=s.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){var c=this.params,l=[];return c.reqexp!=null&&l.push({tag:{tagi:"80",obj:{int:c.reqexp}}}),c.inhibit!=null&&l.push({tag:{tagi:"81",obj:{int:c.inhibit}}}),this.asn1ExtnValue=o({seq:l}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.36",r!==void 0&&(this.params=r)},Z(f.asn1.x509.PolicyConstraints,f.asn1.x509.Extension),f.asn1.x509.InhibitAnyPolicy=function(r){f.asn1.x509.InhibitAnyPolicy.superclass.constructor.call(this,r);var n=f,s=n.asn1;s.x509;var o=s.ASN1Util.newObject;this.params=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=o({int:this.params.skip}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.54",r!==void 0&&(this.params=r)},Z(f.asn1.x509.InhibitAnyPolicy,f.asn1.x509.Extension),f.asn1.x509.NameConstraints=function(r){f.asn1.x509.NameConstraints.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.x509,c=s.ASN1Util.newObject,l=o.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var g=this.params,p=[];if(g.permit!=null&&g.permit.length!=null){for(var x=[],v=0;v<g.permit.length;v++)x.push(new l(g.permit[v]));p.push({tag:{tagi:"a0",obj:{seq:x}}})}if(g.exclude!=null&&g.exclude.length!=null){for(var F=[],v=0;v<g.exclude.length;v++)F.push(new l(g.exclude[v]));p.push({tag:{tagi:"a1",obj:{seq:F}}})}return this.asn1ExtnValue=c({seq:p}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",r!==void 0&&(this.params=r)},Z(f.asn1.x509.NameConstraints,f.asn1.x509.Extension),f.asn1.x509.GeneralSubtree=function(r){f.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var n=f.asn1,s=n.x509,o=s.GeneralName,c=n.ASN1Util.newObject;this.params=null,this.setByParam=function(l){this.params=l},this.tohex=function(){var l=this.params,g=[new o(l)];l.min!=null&&g.push({tag:{tagi:"80",obj:{int:l.min}}}),l.max!=null&&g.push({tag:{tagi:"81",obj:{int:l.max}}});var p=c({seq:g});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.GeneralSubtree,f.asn1.ASN1Object),f.asn1.x509.ExtKeyUsage=function(r){f.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,r);var n=f,s=n.asn1;this.setPurposeArray=function(o){this.asn1ExtnValue=new s.DERSequence;for(var c=0;c<o.length;c++){var l=new s.DERObjectIdentifier(o[c]);this.asn1ExtnValue.appendASN1Object(l)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",r!==void 0&&r.array!==void 0&&this.setPurposeArray(r.array)},Z(f.asn1.x509.ExtKeyUsage,f.asn1.x509.Extension),f.asn1.x509.AuthorityKeyIdentifier=function(r){f.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.DERTaggedObject,c=s.x509.GeneralNames;n.crypto.Util.isKey,this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var l=new Array;this.asn1KID&&l.push(new o({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&l.push(new o({explicit:!1,tag:"a1",obj:new c([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&l.push(new o({explicit:!1,tag:"82",obj:this.asn1CertSN}));var g=new s.DERSequence({array:l});return this.asn1ExtnValue=g,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(l){if(l.str!==void 0||l.hex!==void 0)this.asn1KID=new f.asn1.DEROctetString(l);else if(typeof l=="object"&&f.crypto.Util.isKey(l)||typeof l=="string"&&l.indexOf("BEGIN ")!=-1){var g=l;typeof l=="string"&&(g=He.getKey(l));var p=He.getKeyID(g);this.asn1KID=new f.asn1.DEROctetString({hex:p})}},this.setCertIssuerByParam=function(l){l.str!==void 0||l.ldapstr!==void 0||l.hex!==void 0||l.certsubject!==void 0||l.certissuer!==void 0?this.asn1CertIssuer=new f.asn1.x509.X500Name(l):typeof l=="string"&&l.indexOf("BEGIN ")!=-1&&l.indexOf("CERTIFICATE")!=-1&&(this.asn1CertIssuer=new f.asn1.x509.X500Name({certissuer:l}))},this.setCertSNByParam=function(l){if(l.str!==void 0||l.bigint!==void 0||l.hex!==void 0)this.asn1CertSN=new f.asn1.DERInteger(l);else if(typeof l=="string"&&l.indexOf("BEGIN ")!=-1&&l.indexOf("CERTIFICATE")){var g=new Pe;g.readCertPEM(l);var p=g.getSerialNumberHex();this.asn1CertSN=new f.asn1.DERInteger({hex:p})}},this.oid="2.5.29.35",r!==void 0&&(r.kid!==void 0&&this.setKIDByParam(r.kid),r.issuer!==void 0&&this.setCertIssuerByParam(r.issuer),r.sn!==void 0&&this.setCertSNByParam(r.sn),r.issuersn!==void 0&&typeof r.issuersn=="string"&&r.issuersn.indexOf("BEGIN ")!=-1&&r.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(r.issuersn),this.setCertIssuerByParam(r.issuersn)))},Z(f.asn1.x509.AuthorityKeyIdentifier,f.asn1.x509.Extension),f.asn1.x509.SubjectKeyIdentifier=function(r){f.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(c){if(c.str!==void 0||c.hex!==void 0)this.asn1KID=new o(c);else if(typeof c=="object"&&f.crypto.Util.isKey(c)||typeof c=="string"&&c.indexOf("BEGIN")!=-1){var l=c;typeof c=="string"&&(l=He.getKey(c));var g=He.getKeyID(l);this.asn1KID=new f.asn1.DEROctetString({hex:g})}},this.oid="2.5.29.14",r!==void 0&&r.kid!==void 0&&this.setKIDByParam(r.kid)},Z(f.asn1.x509.SubjectKeyIdentifier,f.asn1.x509.Extension),f.asn1.x509.AuthorityInfoAccess=function(r){f.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,r),this.setAccessDescriptionArray=function(n){for(var s=new Array,o=f,c=o.asn1,l=c.DERSequence,g=c.DERObjectIdentifier,p=c.x509.GeneralName,x=0;x<n.length;x++){var v,F=n[x];if(F.ocsp!==void 0)v=new l({array:[new g({oid:"1.3.6.1.5.5.7.48.1"}),new p({uri:F.ocsp})]});else if(F.caissuer!==void 0)v=new l({array:[new g({oid:"1.3.6.1.5.5.7.48.2"}),new p({uri:F.caissuer})]});else throw new Error("unknown AccessMethod parameter: "+JSON.stringify(F));s.push(v)}this.asn1ExtnValue=new l({array:s})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",r!==void 0&&r.array!==void 0&&this.setAccessDescriptionArray(r.array)},Z(f.asn1.x509.AuthorityInfoAccess,f.asn1.x509.Extension),f.asn1.x509.SubjectAltName=function(r){f.asn1.x509.SubjectAltName.superclass.constructor.call(this,r),this.setNameArray=function(n){this.asn1ExtnValue=new f.asn1.x509.GeneralNames(n)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",r!==void 0&&r.array!==void 0&&this.setNameArray(r.array)},Z(f.asn1.x509.SubjectAltName,f.asn1.x509.Extension),f.asn1.x509.IssuerAltName=function(r){f.asn1.x509.IssuerAltName.superclass.constructor.call(this,r),this.setNameArray=function(n){this.asn1ExtnValue=new f.asn1.x509.GeneralNames(n)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",r!==void 0&&r.array!==void 0&&this.setNameArray(r.array)},Z(f.asn1.x509.IssuerAltName,f.asn1.x509.Extension),f.asn1.x509.SubjectDirectoryAttributes=function(r){f.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,r);var n=f.asn1,s=n.DERSequence,o=n.ASN1Util.newObject,c=n.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var l=[],g=0;g<this.params.array.length;g++){var p=this.params.array[g];if(p.attr!=null&&p.array!=null){var x={seq:[{oid:p.attr},{set:p.array}]};l.push(o(x));continue}var v={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if(p.attr=="dateOfBirth")v.seq[0].oid=c(p.attr),v.seq[1].set[0]={gentime:p.str};else if(p.attr=="placeOfBirth")v.seq[0].oid=c(p.attr),v.seq[1].set[0]={utf8str:p.str};else if(p.attr=="gender")v.seq[0].oid=c(p.attr),v.seq[1].set[0]={prnstr:p.str};else if(p.attr=="countryOfCitizenship")v.seq[0].oid=c(p.attr),v.seq[1].set[0]={prnstr:p.str};else if(p.attr=="countryOfResidence")v.seq[0].oid=c(p.attr),v.seq[1].set[0]={prnstr:p.str};else throw new Error("unsupported attribute: "+p.attr);l.push(new o(v))}var F=new s({array:l});return this.asn1ExtnValue=F,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",r!==void 0&&(this.params=r)},Z(f.asn1.x509.SubjectDirectoryAttributes,f.asn1.x509.Extension),f.asn1.x509.PrivateExtension=function(r){f.asn1.x509.PrivateExtension.superclass.constructor.call(this,r);var n=f,s=n.lang.String.isHex,o=n.asn1,c=o.x509.OID.name2oid,l=o.ASN1Util.newObject;this.params=null,this.setByParam=function(g){this.oid=c(g.extname),this.params=g},this.getExtnValueHex=function(){if(this.params.extname==null||this.params.extn==null)throw new Error("extname or extnhex not specified");var g=this.params.extn;if(typeof g=="string"&&s(g))return g;if(typeof g=="object")try{return l(g).tohex()}catch{}throw new Error("unsupported extn value")},r!=null&&this.setByParam(r)},Z(f.asn1.x509.PrivateExtension,f.asn1.x509.Extension),f.asn1.x509.CRL=function(r){f.asn1.x509.CRL.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERSequence,c=s.DERBitString,l=s.x509,g=l.AlgorithmIdentifier,p=l.TBSCertList;this.params=void 0,this.setByParam=function(x){this.params=x},this.sign=function(){var x=new p(this.params).tohex(),v=new f.crypto.Signature({alg:this.params.sigalg});v.init(this.params.cakey),v.updateHex(x);var F=v.sign();this.params.sighex=F},this.getPEM=function(){return Bt(this.tohex(),"X509 CRL")},this.tohex=function(){var x=this.params;if(x.tbsobj==null&&(x.tbsobj=new p(x)),x.sighex==null&&x.cakey!=null&&this.sign(),x.sighex==null)throw new Error("sighex or cakey parameter not defined");var v=[];v.push(x.tbsobj),v.push(new g({name:x.sigalg})),v.push(new c({hex:"00"+x.sighex}));var F=new o({array:v});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&(this.params=r)},Z(f.asn1.x509.CRL,f.asn1.ASN1Object),f.asn1.x509.TBSCertList=function(r){f.asn1.x509.TBSCertList.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERInteger,c=s.DERSequence,l=s.DERTaggedObject;s.DERObjectIdentifier;var g=s.x509,p=g.AlgorithmIdentifier,x=g.Time,v=g.Extensions,F=g.X500Name;this.params=null,this.setByParam=function(b){this.params=b},this.getRevCertSequence=function(){for(var b=[],d=this.params.revcert,w=0;w<d.length;w++){var m=[new o(d[w].sn),new x(d[w].date)];d[w].ext!=null&&m.push(new v(d[w].ext)),b.push(new c({array:m}))}return new c({array:b})},this.tohex=function(){var b=[],d=this.params;if(d.version!=null){var w=d.version-1,m=new o({int:w});b.push(m)}if(b.push(new p({name:d.sigalg})),b.push(new F(d.issuer)),b.push(new x(d.thisupdate)),d.nextupdate!=null&&b.push(new x(d.nextupdate)),d.revcert!=null&&b.push(this.getRevCertSequence()),d.ext!=null){var S=new v(d.ext);b.push(new l({tag:"a0",explicit:!0,obj:S}))}var E=new c({array:b});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.TBSCertList,f.asn1.ASN1Object),f.asn1.x509.CRLEntry=function(r){f.asn1.x509.CRLEntry.superclass.constructor.call(this);var n=f,s=n.asn1;this.setCertSerial=function(o){this.sn=new s.DERInteger(o)},this.setRevocationDate=function(o){this.time=new s.x509.Time(o)},this.tohex=function(){var o=new s.DERSequence({array:[this.sn,this.time]});return this.TLV=o.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(r.time!==void 0&&this.setRevocationDate(r.time),r.sn!==void 0&&this.setCertSerial(r.sn))},Z(f.asn1.x509.CRLEntry,f.asn1.ASN1Object),f.asn1.x509.CRLNumber=function(r){f.asn1.x509.CRLNumber.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new f.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",r!=null&&(this.params=r)},Z(f.asn1.x509.CRLNumber,f.asn1.x509.Extension),f.asn1.x509.CRLReason=function(r){f.asn1.x509.CRLReason.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new f.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",r!=null&&(this.params=r)},Z(f.asn1.x509.CRLReason,f.asn1.x509.Extension),f.asn1.x509.OCSPNonce=function(r){f.asn1.x509.OCSPNonce.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new f.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",r!=null&&(this.params=r)},Z(f.asn1.x509.OCSPNonce,f.asn1.x509.Extension),f.asn1.x509.OCSPNoCheck=function(r){f.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,r),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new f.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",r!=null&&(this.params=r)},Z(f.asn1.x509.OCSPNoCheck,f.asn1.x509.Extension),f.asn1.x509.AdobeTimeStamp=function(r){f.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,r);var n=f,s=n.asn1,o=s.DERInteger,c=s.DERBoolean,l=s.DERSequence,g=s.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var p=this.params,x=[new o(1)];return x.push(new g({uri:p.uri})),p.reqauth!=null&&x.push(new c(p.reqauth)),this.asn1ExtnValue=new l({array:x}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.AdobeTimeStamp,f.asn1.x509.Extension),f.asn1.x509.X500Name=function(r){f.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var n=f,s=n.asn1,o=s.x509,c=o.RDN;this.setByString=function(l,g){g!==void 0&&(this.sRule=g);var p=l.split("/");p.shift();for(var x=[],v=0;v<p.length;v++)if(p[v].match(/^[^=]+=.+$/))x.push(p[v]);else{var F=x.length-1;x[F]=x[F]+"/"+p[v]}for(var v=0;v<x.length;v++)this.asn1Array.push(new c({str:x[v],rule:this.sRule}))},this.setByLdapString=function(l,g){g!==void 0&&(this.sRule=g);var p=o.X500Name.ldapToCompat(l);this.setByString(p,g)},this.setByObject=function(l,g){g!==void 0&&(this.sRule=g);for(var p in l)if(l.hasOwnProperty(p)){var x=new c({str:p+"="+l[p],rule:this.sRule});this.asn1Array?this.asn1Array.push(x):this.asn1Array=[x]}},this.setByParam=function(l){if(l.rule!==void 0&&(this.sRule=l.rule),l.array!==void 0)this.paramArray=l.array;else if(l.str!==void 0)this.setByString(l.str);else if(l.ldapstr!==void 0)this.setByLdapString(l.ldapstr);else if(l.hex!==void 0)this.hTLV=l.hex;else if(l.certissuer!==void 0){var g=new Pe;g.readCertPEM(l.certissuer),this.hTLV=g.getIssuerHex()}else if(l.certsubject!==void 0){var g=new Pe;g.readCertPEM(l.certsubject),this.hTLV=g.getSubjectHex()}else typeof l=="object"&&l.certsubject===void 0&&l.certissuer===void 0&&this.setByObject(l)},this.tohex=function(){if(typeof this.hTLV=="string")return this.hTLV;if(this.asn1Array.length==0&&this.paramArray.length>0)for(var l=0;l<this.paramArray.length;l++){var g={array:this.paramArray[l]};this.sRule!="utf8"&&(g.rule=this.sRule);var p=new c(g);this.asn1Array.push(p)}var x=new s.DERSequence({array:this.asn1Array});return this.hTLV=x.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.X500Name,f.asn1.ASN1Object),f.asn1.x509.X500Name.compatToLDAP=function(r){if(r.substr(0,1)!=="/")throw"malformed input";r=r.substr(1);var n=r.split("/");return n.reverse(),n=n.map(function(s){return s.replace(/,/,"\\,")}),n.join(",")},f.asn1.x509.X500Name.onelineToLDAP=function(r){return f.asn1.x509.X500Name.compatToLDAP(r)},f.asn1.x509.X500Name.ldapToCompat=function(r){for(var n=r.split(","),s=!1,o=[],c=0;n.length>0;c++){var l=n.shift();if(s===!0){var g=o.pop(),p=(g+","+l).replace(/\\,/g,",");o.push(p),s=!1}else o.push(l);l.substr(-1,1)==="\\"&&(s=!0)}return o=o.map(function(x){return x.replace("/","\\/")}),o.reverse(),"/"+o.join("/")},f.asn1.x509.X500Name.ldapToOneline=function(r){return f.asn1.x509.X500Name.ldapToCompat(r)},f.asn1.x509.RDN=function(r){f.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var n=f.asn1.x509.AttributeTypeAndValue;this.setByParam=function(s){s.rule!==void 0&&(this.sRule=s.rule),s.str!==void 0&&this.addByMultiValuedString(s.str),s.array!==void 0&&(this.paramArray=s.array)},this.addByString=function(s){this.asn1Array.push(new f.asn1.x509.AttributeTypeAndValue({str:s,rule:this.sRule}))},this.addByMultiValuedString=function(s){for(var o=f.asn1.x509.RDN.parseString(s),c=0;c<o.length;c++)this.addByString(o[c])},this.tohex=function(){if(this.asn1Array.length==0&&this.paramArray.length>0)for(var s=0;s<this.paramArray.length;s++){var o=this.paramArray[s];o.rule!==void 0&&this.sRule!="utf8"&&(o.rule=this.sRule);var c=new n(o);this.asn1Array.push(c)}var l=new f.asn1.DERSet({array:this.asn1Array});return this.TLV=l.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.RDN,f.asn1.ASN1Object),f.asn1.x509.RDN.parseString=function(r){for(var n=r.split(/\+/),s=!1,o=[],c=0;n.length>0;c++){var l=n.shift();if(s===!0){var g=o.pop(),p=(g+"+"+l).replace(/\\\+/g,"+");o.push(p),s=!1}else o.push(l);l.substr(-1,1)==="\\"&&(s=!0)}for(var x=!1,v=[],c=0;o.length>0;c++){var l=o.shift();if(x===!0){var F=v.pop();if(l.match(/"$/)){var p=(F+"+"+l).replace(/^([^=]+)="(.*)"$/,"$1=$2");v.push(p),x=!1}else v.push(F+"+"+l)}else v.push(l);l.match(/^[^=]+="/)&&(x=!0)}return v},f.asn1.x509.AttributeTypeAndValue=function(r){f.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var n=f,s=n.asn1,o=s.DERSequence,c=s.DERUTF8String,l=s.DERPrintableString,g=s.DERTeletexString,p=s.DERIA5String,x=s.DERVisibleString,v=s.DERBMPString,F=n.lang.String.isMail,b=n.lang.String.isPrintable;this.setByParam=function(d){if(d.rule!==void 0&&(this.sRule=d.rule),d.ds!==void 0&&(this.dsType=d.ds),d.value===void 0&&d.str!==void 0){var w=d.str,m=w.match(/^([^=]+)=(.+)$/);if(m)this.sType=m[1],this.sValue=m[2];else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)}else this.sType=d.type,this.sValue=d.value},this.setByString=function(d,w){w!==void 0&&(this.sRule=w);var m=d.match(/^([^=]+)=(.+)$/);if(m)this.setByAttrTypeAndValueStr(m[1],m[2]);else throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr)},this._getDsType=function(){var d=this.sType,w=this.sValue,m=this.sRule;return m==="prn"?d=="CN"&&F(w)?"ia5":b(w)?"prn":"utf8":m==="utf8"?d=="CN"&&F(w)?"ia5":d=="C"?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(d,w,m){m!==void 0&&(this.sRule=m),this.sType=d,this.sValue=w},this.getValueObj=function(d,w){if(d=="utf8")return new c({str:w});if(d=="prn")return new l({str:w});if(d=="tel")return new g({str:w});if(d=="ia5")return new p({str:w});if(d=="vis")return new x({str:w});if(d=="bmp")return new v({str:w});throw new Error("unsupported directory string type: type="+d+" value="+w)},this.tohex=function(){this.dsType==null&&(this.dsType=this._getDsType());var d=f.asn1.x509.OID.atype2obj(this.sType),w=this.getValueObj(this.dsType,this.sValue),m=new o({array:[d,w]});return this.TLV=m.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.AttributeTypeAndValue,f.asn1.ASN1Object),f.asn1.x509.SubjectPublicKeyInfo=function(r){f.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERInteger,c=s.DERBitString,l=s.DERObjectIdentifier,g=s.DERSequence,p=s.ASN1Util.newObject,x=s.x509,v=x.AlgorithmIdentifier,F=n.crypto;F.ECDSA,F.DSA,this.getASN1Object=function(){if(this.asn1AlgId==null||this.asn1SubjPKey==null)throw"algId and/or subjPubKey not set";var b=new g({array:[this.asn1AlgId,this.asn1SubjPKey]});return b},this.tohex=function(){var b=this.getASN1Object();return this.hTLV=b.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(b){try{if(b instanceof Ie){var d=p({seq:[{int:{bigint:b.n}},{int:{int:b.e}}]}),w=d.tohex();this.asn1AlgId=new v({name:"rsaEncryption"}),this.asn1SubjPKey=new c({hex:"00"+w})}}catch{}try{if(b instanceof f.crypto.ECDSA){var m=new l({name:b.curveName});this.asn1AlgId=new v({name:"ecPublicKey",asn1params:m}),this.asn1SubjPKey=new c({hex:"00"+b.pubKeyHex})}}catch{}try{if(b instanceof f.crypto.DSA){var m=new p({seq:[{int:{bigint:b.p}},{int:{bigint:b.q}},{int:{bigint:b.g}}]});this.asn1AlgId=new v({name:"dsa",asn1params:m});var S=new o({bigint:b.y});this.asn1SubjPKey=new c({hex:"00"+S.tohex()})}}catch{}},r!==void 0&&this.setPubKey(r)},Z(f.asn1.x509.SubjectPublicKeyInfo,f.asn1.ASN1Object),f.asn1.x509.Time=function(r){f.asn1.x509.Time.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERUTCTime,c=s.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(l){this.timeParams=l},this.setByParam=function(l){this.params=l},this.getType=function(l){return l.match(/^[0-9]{12}Z$/)?"utc":l.match(/^[0-9]{14}Z$/)?"gen":l.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":l.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var l=this.params,g=null;if(typeof l=="string"&&(l={str:l}),l!=null&&l.str&&(l.type==null||l.type==null)&&(l.type=this.getType(l.str)),l!=null&&l.str?(l.type=="utc"&&(g=new o(l.str)),l.type=="gen"&&(g=new c(l.str))):this.type=="gen"?g=new c:g=new o,g==null)throw new Error("wrong setting for Time");return this.TLV=g.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},f.asn1.x509.Time_bak=function(r){f.asn1.x509.Time_bak.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERUTCTime,c=s.DERGeneralizedTime;this.setTimeParams=function(l){this.timeParams=l},this.tohex=function(){var l=null;return this.timeParams!=null?this.type=="utc"?l=new o(this.timeParams):l=new c(this.timeParams):this.type=="utc"?l=new o:l=new c,this.TLV=l.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",r!==void 0&&(r.type!==void 0?this.type=r.type:r.str!==void 0&&(r.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),r.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=r)},Z(f.asn1.x509.Time,f.asn1.ASN1Object),f.asn1.x509.AlgorithmIdentifier=function(r){f.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var n=f,s=n.asn1,o=s.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(this.nameAlg===null&&this.asn1Alg===null)throw new Error("algorithm not specified");if(this.nameAlg!==null){var l=null;for(var g in o)g===this.nameAlg&&(l=o[g]);if(l!==null)return this.hTLV=l,this.hTLV}this.nameAlg!==null&&this.asn1Alg===null&&(this.asn1Alg=s.x509.OID.name2obj(this.nameAlg));var p=[this.asn1Alg];this.asn1Params!==null&&p.push(this.asn1Params);var x=new s.DERSequence({array:p});return this.hTLV=x.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&(r.name!==void 0&&(this.nameAlg=r.name),r.asn1params!==void 0&&(this.asn1Params=r.asn1params),r.paramempty!==void 0&&(this.paramEmpty=r.paramempty)),this.asn1Params===null&&this.paramEmpty===!1&&this.nameAlg!==null){this.nameAlg.name!==void 0&&(this.nameAlg=this.nameAlg.name);var c=this.nameAlg.toLowerCase();c.substr(-7,7)!=="withdsa"&&c.substr(-9,9)!=="withecdsa"&&(this.asn1Params=new s.DERNull)}},Z(f.asn1.x509.AlgorithmIdentifier,f.asn1.ASN1Object),f.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},f.asn1.x509.GeneralName=function(r){f.asn1.x509.GeneralName.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.x509,c=o.X500Name,l=o.OtherName,g=s.DERIA5String;s.DERPrintableString;var p=s.DEROctetString,x=s.DERTaggedObject,v=s.ASN1Object,F=Error;this.params=null,this.setByParam=function(b){this.params=b},this.tohex=function(){var b=this.params,d,m,w,m=!1;if(b.other!==void 0)d="a0",w=new l(b.other);else if(b.rfc822!==void 0)d="81",w=new g({str:b.rfc822});else if(b.dns!==void 0)d="82",w=new g({str:b.dns});else if(b.dn!==void 0)d="a4",m=!0,typeof b.dn=="string"?w=new c({str:b.dn}):b.dn instanceof f.asn1.x509.X500Name?w=b.dn:w=new c(b.dn);else if(b.ldapdn!==void 0)d="a4",m=!0,w=new c({ldapstr:b.ldapdn});else if(b.certissuer!==void 0||b.certsubj!==void 0){d="a4",m=!0;var S,E,P=null;if(b.certsubj!==void 0?(S=!1,E=b.certsubj):(S=!0,E=b.certissuer),E.match(/^[0-9A-Fa-f]+$/),E.indexOf("-----BEGIN ")!=-1&&(P=yt(E)),P==null)throw new Error("certsubj/certissuer not cert");var H=new Pe;H.hex=P;var K;S?K=H.getIssuerHex():K=H.getSubjectHex(),w=new v,w.hTLV=K}else if(b.uri!==void 0)d="86",w=new g({str:b.uri});else if(b.ip!==void 0){d="87";var k,U=b.ip;try{if(U.match(/^[0-9a-f]+$/)){var I=U.length;if(I==8||I==16||I==32||I==64)k=U;else throw"err"}else k=ha(U)}catch(N){throw new F("malformed IP address: "+b.ip+":"+N.message)}w=new p({hex:k})}else throw new F("improper params");var _=new x({tag:d,explicit:m,obj:w});return _.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.GeneralName,f.asn1.ASN1Object),f.asn1.x509.GeneralNames=function(r){f.asn1.x509.GeneralNames.superclass.constructor.call(this);var n=f,s=n.asn1;this.setByParamArray=function(o){for(var c=0;c<o.length;c++){var l=new s.x509.GeneralName(o[c]);this.asn1Array.push(l)}},this.tohex=function(){var o=new s.DERSequence({array:this.asn1Array});return o.tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,typeof r<"u"&&this.setByParamArray(r)},Z(f.asn1.x509.GeneralNames,f.asn1.ASN1Object),f.asn1.x509.OtherName=function(r){f.asn1.x509.OtherName.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DERObjectIdentifier,c=s.DERSequence,l=s.ASN1Util.newObject;this.params=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params;if(g.oid==null||g.value==null)throw new Error("oid or value not specified");var p=new o({oid:g.oid}),x=l({tag:{tag:"a0",explicit:!0,obj:g.value}}),v=new c({array:[p,x]});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.x509.OtherName,f.asn1.ASN1Object),f.asn1.x509.OID=new function(){var r=f.asn1.DERObjectIdentifier;this.name2oidList={"aes128-CBC":"2.16.840.1.101.3.4.1.2","aes256-CBC":"2.16.840.1.101.3.4.1.42",sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",hmacWithSHA1:"1.2.840.113549.2.7",hmacWithSHA224:"1.2.840.113549.2.8",hmacWithSHA256:"1.2.840.113549.2.9",hmacWithSHA384:"1.2.840.113549.2.10",hmacWithSHA512:"1.2.840.113549.2.11",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",policyMappings:"2.5.29.33",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",inhibitAnyPolicy:"2.5.29.54",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",smtpUTF8Mailbox:"1.3.6.1.5.5.7.8.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1",smimeMailboxLegacy:"2.23.140.1.5.1.1",smimeMailboxMulti:"2.23.140.1.5.1.2",smimeMailboxStrict:"2.23.140.1.5.1.3",smimeOrganizationLegacy:"2.23.140.1.5.2.1",smimeOrganizationMulti:"2.23.140.1.5.2.2",smimeOrganizationStrict:"2.23.140.1.5.2.3",smimeSponsorLegacy:"2.23.140.1.5.3.1",smimeSponsorMulti:"2.23.140.1.5.3.2",smimeSponsorStrict:"2.23.140.1.5.3.3",smimeIndividualLegacy:"2.23.140.1.5.4.1",smimeIndividualMulti:"2.23.140.1.5.4.2",smimeIndividualStrict:"2.23.140.1.5.4.3"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",GN:"2.5.4.42",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(n){if(typeof this.objCache[n]<"u")return this.objCache[n];if(typeof this.name2oidList[n]>"u")throw"Name of ObjectIdentifier not defined: "+n;var s=this.name2oidList[n],o=new r({oid:s});return this.objCache[n]=o,o},this.atype2obj=function(n){if(this.objCache[n]!==void 0)return this.objCache[n];var s;if(n.match(/^\d+\.\d+\.[0-9.]+$/))s=n;else if(this.atype2oidList[n]!==void 0)s=this.atype2oidList[n];else if(this.name2oidList[n]!==void 0)s=this.name2oidList[n];else throw new Error("AttributeType name undefined: "+n);var o=new r({oid:s});return this.objCache[n]=o,o},this.registerOIDs=function(n){if(this.checkOIDs(n))for(var s in n)this.name2oidList[s]=n[s]},this.checkOIDs=function(n){try{var s=Object.keys(n);return s.length==0?!1:(s.map(function(o,c,l){var g=this[o];if(!g.match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")},n),!0)}catch{return!1}}},f.asn1.x509.OID.oid2name=function(r){var n=f.asn1.x509.OID.name2oidList;for(var s in n)if(n[s]==r)return s;return""},f.asn1.x509.OID.oid2atype=function(r){var n=f.asn1.x509.OID.atype2oidList;for(var s in n)if(n[s]==r)return s;return r},f.asn1.x509.OID.name2oid=function(r){if(r.match(/^[0-9.]+$/))return r;var n=f.asn1.x509.OID.name2oidList;return n[r]===void 0?"":n[r]},f.asn1.x509.X509Util={},f.asn1.x509.X509Util.newCertPEM=function(r){var n=f.asn1.x509;n.TBSCertificate;var s=n.Certificate,o=new s(r);return o.getPEM()},(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),(typeof f.asn1.cms>"u"||!f.asn1.cms)&&(f.asn1.cms={}),f.asn1.cms.Attribute=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.DERSet,g=o.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(p){this.params=p},this.getValueArray=function(){throw new n("not yet implemented abstract")},this.tohex=function(){var p=new g({oid:this.typeOid}),x=new l({array:this.getValueArray()}),v=new c({array:[p,x]});return v.tohex()},this.getEncodedHex=function(){return this.tohex()}},Z(f.asn1.cms.Attribute,f.asn1.ASN1Object),f.asn1.cms.ContentType=function(r){var n=f,s=n.asn1;s.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){var o=new s.DERObjectIdentifier(this.params.type);return[o]},r!=null&&this.setByParam(r)},Z(f.asn1.cms.ContentType,f.asn1.cms.Attribute),f.asn1.cms.MessageDigest=function(r){var n=f,s=n.asn1,o=s.DEROctetString,c=s.cms;c.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){var l=new o(this.params);return[l]},r!=null&&this.setByParam(r)},Z(f.asn1.cms.MessageDigest,f.asn1.cms.Attribute),f.asn1.cms.SigningTime=function(r){var n=f,s=n.asn1;s.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){var o=new s.x509.Time(this.params);return[o]},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SigningTime,f.asn1.cms.Attribute),f.asn1.cms.SigningCertificate=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.cms,g=l.ESSCertID;s.crypto,l.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new n("parameter 'array' not specified");for(var p=this.params.array,x=[],v=0;v<p.length;v++){var F=p[v];r.hasis==!1&&typeof F=="string"&&(F.indexOf("-----BEGIN")!=-1||ue.isASN1HEX(F))&&(F={cert:F}),F.hasis!=!1&&r.hasis==!1&&(F.hasis=!1),x.push(new g(F))}var b=new c({array:x}),d=new c({array:[b]});return[d]},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SigningCertificate,f.asn1.cms.Attribute),f.asn1.cms.ESSCertID=function(r){f.asn1.cms.ESSCertID.superclass.constructor.call(this);var n=Error,s=f,o=s.asn1,c=o.DEROctetString,l=o.DERSequence,g=o.cms.IssuerSerial;this.params=null,this.getCertHash=function(p,x){if(p.hash!=null)return p.hash;if(typeof p=="string"&&p.indexOf("-----BEGIN")==-1&&!ue.isASN1HEX(p))return p;var v;if(typeof p=="string")v=p;else if(p.cert!=null)v=p.cert;else throw new n("hash nor cert unspecified");var F;v.indexOf("-----BEGIN")!=-1?F=yt(v):F=v,typeof p=="string"&&(p.indexOf("-----BEGIN")!=-1?F=yt(p):ue.isASN1HEX(p)&&(F=p));var b;if(p.alg!=null)b=p.alg;else if(x!=null)b=x;else throw new n("hash alg unspecified");return s.crypto.Util.hashHex(F,b)},this.tohex=function(){var p=this.params,x=this.getCertHash(p,"sha1"),v=[];v.push(new c({hex:x})),(typeof p=="string"&&p.indexOf("-----BEGIN")!=-1||p.cert!=null&&p.hasis!=!1||p.issuer!=null&&p.serial!=null)&&v.push(new g(p));var F=new l({array:v});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.ESSCertID,f.asn1.ASN1Object),f.asn1.cms.SigningCertificateV2=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence;o.x509;var l=o.cms,g=l.ESSCertIDv2;s.crypto,l.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(this.params==null||this.params==null||this.params.array==null)throw new n("parameter 'array' not specified");for(var p=this.params.array,x=[],v=0;v<p.length;v++){var F=p[v];(r.alg!=null||r.hasis==!1)&&typeof F=="string"&&(F.indexOf("-----BEGIN")!=-1||ue.isASN1HEX(F))&&(F={cert:F}),F.alg==null&&r.alg!=null&&(F.alg=r.alg),F.hasis!=!1&&r.hasis==!1&&(F.hasis=!1),x.push(new g(F))}var b=new c({array:x}),d=new c({array:[b]});return[d]},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SigningCertificateV2,f.asn1.cms.Attribute),f.asn1.cms.ESSCertIDv2=function(r){f.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.DEROctetString,c=s.DERSequence,l=s.cms.IssuerSerial,g=s.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var p=this.params,x=this.getCertHash(p,"sha256"),v=[];p.alg!=null&&p.alg!="sha256"&&v.push(new g({name:p.alg})),v.push(new o({hex:x})),(typeof p=="string"&&p.indexOf("-----BEGIN")!=-1||p.cert!=null&&p.hasis!=!1||p.issuer!=null&&p.serial!=null)&&v.push(new l(p));var F=new c({array:v});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.ESSCertIDv2,f.asn1.cms.ESSCertID),f.asn1.cms.IssuerSerial=function(r){var n=Error,s=f,o=s.asn1,c=o.DERInteger,l=o.DERSequence,g=o.cms,p=o.x509,x=p.GeneralNames,v=Pe;g.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(F){this.params=F},this.tohex=function(){var F=this.params,b,d;if(typeof F=="string"&&F.indexOf("-----BEGIN")!=-1||F.cert!=null){var w;F.cert!=null?w=F.cert:w=F;var m=new v;m.readCertPEM(w),b=m.getIssuer(),d={hex:m.getSerialNumberHex()}}else if(F.issuer!=null&&F.serial)b=F.issuer,d=F.serial;else throw new n("cert or issuer and serial parameter not specified");var S=new x([{dn:b}]),E=new c(d),P=new l({array:[S,E]});return P.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.IssuerSerial,f.asn1.ASN1Object),f.asn1.cms.SignerIdentifier=function(r){var n=f,s=n.asn1;s.DERInteger,s.DERSequence;var o=s.cms,c=o.IssuerAndSerialNumber,l=o.SubjectKeyIdentifier,g=s.x509;g.X500Name,o.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params;if(p.type=="isssn"){var x=new c(p);return x.tohex()}else if(p.type=="skid"){var v=new l(p);return v.tohex()}else throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SignerIdentifier,f.asn1.ASN1Object),f.asn1.cms.IssuerAndSerialNumber=function(r){var n=f,s=n.asn1,o=s.DERInteger,c=s.DERSequence,l=s.cms,g=s.x509,p=g.X500Name,x=Pe,v=Error;l.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params,b,d;if(typeof F=="string"&&F.indexOf("-----BEGIN")!=-1||F.cert!=null){var w;F.cert!=null?w=F.cert:w=F;var m=new x;m.readCertPEM(w),b=m.getIssuer(),d={hex:m.getSerialNumberHex()}}else if(F.issuer!=null&&F.serial)b=F.issuer,d=F.serial;else throw new v("cert or issuer and serial parameter not specified");var S=new p(b),E=new o(d),P=new c({array:[S,E]});return P.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(F){this.params=F},r!=null&&this.setByParam(r)},Z(f.asn1.cms.IssuerAndSerialNumber,f.asn1.ASN1Object),f.asn1.cms.SubjectKeyIdentifier=function(r){var n=f,s=n.asn1;s.DERInteger,s.DERSequence;var o=s.ASN1Util.newObject,c=s.cms;c.IssuerAndSerialName,c.SubjectKeyIdentifier;var l=s.x509;l.X500Name;var g=Pe,p=Error;c.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var x=this.params;if(x.cert==null&&x.skid==null)throw new p("property cert nor skid undefined");var v;if(x.cert!=null){var F=new g(x.cert),b=F.getExtSubjectKeyIdentifier();v=b.kid.hex}else x.skid!=null&&(v=x.skid);var d=o({tag:{tage:"a0",obj:{octstr:{hex:v}}}});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SubjectKeyIdentifier,f.asn1.ASN1Object),f.asn1.cms.AttributeList=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSet,l=o.cms;l.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params;if(this.hTLV!=null)return this.hTLV;var p=!0;g.sortflag!=null&&(p=g.sortflag);for(var x=g.array,v=[],F=0;F<x.length;F++){var b=x[F],d=b.attr;if(d=="contentType")v.push(new l.ContentType(b));else if(d=="messageDigest")v.push(new l.MessageDigest(b));else if(d=="signingTime")v.push(new l.SigningTime(b));else if(d=="signingCertificate")v.push(new l.SigningCertificate(b));else if(d=="signingCertificateV2")v.push(new l.SigningCertificateV2(b));else if(d=="signaturePolicyIdentifier")v.push(new f.asn1.cades.SignaturePolicyIdentifier(b));else if(d=="signatureTimeStamp"||d=="timeStampToken")v.push(new f.asn1.cades.SignatureTimeStamp(b));else throw new n("unknown attr: "+d)}var w=new c({array:v,sortflag:p});return this.hTLV=w.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.AttributeList,f.asn1.ASN1Object),f.asn1.cms.SignerInfo=function(r){var n=Error,s=f,o=s.asn1,c=o.DERInteger,l=o.DEROctetString,g=o.DERSequence,p=o.DERTaggedObject,x=o.cms,v=x.SignerIdentifier,F=x.AttributeList;x.ContentType,x.EncapsulatedContentInfo,x.MessageDigest,x.SignedData;var b=o.x509,d=b.AlgorithmIdentifier,w=s.crypto,m=He;x.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var S=this.params,E=S.sigalg,P=new F(S.sattrs).tohex(),H=m.getKey(S.signkey),K=new w.Signature({alg:E});K.init(H),K.updateHex(P);var k=K.sign();S.sighex=k},this.tohex=function(){var S=this.params,E=[];if(E.push(new c({int:S.version})),E.push(new v(S.id)),E.push(new d({name:S.hashalg})),S.sattrs!=null){var P=new F(S.sattrs);try{E.push(new p({tag:"a0",explicit:!1,obj:P}))}catch(K){throw new n("si sattr error: "+K)}}if(S.sigalgfield!=null?E.push(new d({name:S.sigalgfield})):E.push(new d({name:S.sigalg})),S.sighex==null&&S.signkey!=null&&this.sign(),E.push(new l({hex:S.sighex})),S.uattrs!=null){var P=new F(S.uattrs);try{E.push(new p({tag:"a1",explicit:!1,obj:P}))}catch(k){throw new n("si uattr error: "+k)}}var H=new g({array:E});return H.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SignerInfo,f.asn1.ASN1Object),f.asn1.cms.EncapsulatedContentInfo=function(r){var n=f,s=n.asn1,o=s.DERTaggedObject,c=s.DERSequence,l=s.DERObjectIdentifier,g=s.DEROctetString,p=s.cms;p.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var x=this.params,v=[];if(v.push(new l(x.type)),x.content!=null&&(x.content.hex!=null||x.content.str!=null)&&x.isDetached!=!0){var F=new g(x.content),b=new o({tag:"a0",explicit:!0,obj:F});v.push(b)}var d=new c({array:v});return d.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(x){this.params=x},r!=null&&this.setByParam(r)},Z(f.asn1.cms.EncapsulatedContentInfo,f.asn1.ASN1Object),f.asn1.cms.ContentInfo=function(r){var n=f,s=n.asn1,o=s.DERTaggedObject,c=s.DERSequence,l=s.DERObjectIdentifier,g=s.x509;g.OID.name2obj,f.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,x=[];x.push(new l(p.type));var v=new o({tag:"a0",explicit:!0,obj:p.obj});x.push(v);var F=new c({array:x});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},r!=null&&this.setByParam(r)},Z(f.asn1.cms.ContentInfo,f.asn1.ASN1Object),f.asn1.cms.SignedData=function(r){var n=f,s=n.asn1;s.ASN1Object;var o=s.DERInteger,c=s.DERSet,l=s.DERSequence;s.DERTaggedObject;var g=s.cms,p=g.EncapsulatedContentInfo,x=g.SignerInfo,v=g.ContentInfo,F=g.CertificateSet,b=g.RevocationInfoChoices,d=s.x509,w=d.AlgorithmIdentifier;f.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var m=this.params;this._setDigestAlgs(m),this._setContentTypeByEContent(m),this._setMessageDigestByEContent(m),this._setSignerInfoVersion(m),this._setSignedDataVersion(m)},this._setDigestAlgs=function(m){for(var S={},E=m.sinfos,P=0;P<E.length;P++){var H=E[P];S[H.hashalg]=1}m.hashalgs=Object.keys(S).sort()},this._setContentTypeByEContent=function(m){for(var S=m.econtent.type,E=m.sinfos,P=0;P<E.length;P++){var H=E[P],K=this._getAttrParamByName(H,"contentType");K.type=S}},this._setMessageDigestByEContent=function(m){var S=m.econtent;m.econtent.type;var E=S.content.hex;E==null&&S.type=="data"&&S.content.str!=null&&(E=Pr(S.content.str));for(var P=m.sinfos,H=0;H<P.length;H++){var K=P[H],k=K.hashalg,U=this._getAttrParamByName(K,"messageDigest"),I=f.crypto.Util.hashHex(E,k);U.hex=I}},this._getAttrParamByName=function(m,S){for(var E=m.sattrs.array,P=0;P<E.length;P++)if(E[P].attr==S)return E[P]},this._setSignerInfoVersion=function(m){for(var S=m.sinfos,E=0;E<S.length;E++){var P=S[E],H=1;P.id.type=="skid"&&(H=3),P.version=H}},this._setSignedDataVersion=function(m){var S=this._getSignedDataVersion(m);m.version=S},this._getSignedDataVersion=function(m){if(m.revinfos!=null)for(var S=m.revinfos,E=0;E<S.length;E++){var P=S[E];if(P.ocsp!=null)return 5}for(var H=m.sinfos,E=0;E<H.length;E++){var K=m.sinfos[E];if(K.version==3)return 3}return m.econtent.type!="data"?3:1},this.tohex=function(){var m=this.params;this.getEncodedHexPrepare!=null&&this.getEncodedHexPrepare(),m.fixed!=!0&&this.checkAndFixParam();var S=[];S.push(new o({int:m.version}));for(var E=[],P=0;P<m.hashalgs.length;P++){var H=m.hashalgs[P];E.push(new w({name:H}))}S.push(new c({array:E})),S.push(new p(m.econtent)),m.certs!=null&&S.push(new F(m.certs)),m.revinfos!=null&&S.push(new b(m.revinfos));for(var K=[],P=0;P<m.sinfos.length;P++){var k=m.sinfos[P];K.push(new x(k))}S.push(new c({array:K}));var U=new l({array:S});return U.tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){var m=new v({type:"signed-data",obj:this});return m},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.SignedData,f.asn1.ASN1Object),f.asn1.cms.CertificateSet=function(r){f.asn1.cms.CertificateSet.superclass.constructor.call(this);var n=Error,s=f.asn1,o=s.DERTaggedObject,c=s.DERSet,l=s.ASN1Object;this.params=null,this.tohex=function(){var g=this.params,p=[],x;if(g instanceof Array)x=g;else if(g.array!=null)x=g.array;else throw new n("cert array not specified");for(var v=0;v<x.length;v++){var F=x[v],b=yt(F),d=new l;d.hTLV=b,p.push(d)}var w={array:p};g.sortflag==!1&&(w.sortflag=!1);var m=new c(w),S=new o({tag:"a0",explicit:!1,obj:m});return S.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.CertificateSet,f.asn1.ASN1Object),f.asn1.cms.RevocationInfoChoices=function(r){f.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var n=this.params;if(!n instanceof Array)throw new Error("params is not array");for(var s=[],o=0;o<n.length;o++)s.push(new f.asn1.cms.RevocationInfoChoice(n[o]));var c=f.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:s}}});return c.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.RevocationInfoChoices,f.asn1.ASN1Object),f.asn1.cms.RevocationInfoChoice=function(r){f.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var n=this.params;if(n.crl!=null&&typeof n.crl=="string"){var s=n.crl;return n.crl.indexOf("-----BEGIN")!=-1&&(s=yt(n.crl)),s}else if(n.ocsp!=null){var o=f.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new f.asn1.cms.OtherRevocationFormat(n)}});return o.tohex()}else throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.RevocationInfoChoice,f.asn1.ASN1Object),f.asn1.cms.OtherRevocationFormat=function(r){f.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var n=Error,s=f,o=s.asn1,c=o.ASN1Util.newObject,l=s.lang.String.isHex;this.params=null,this.tohex=function(){var g=this.params;if(g.ocsp==null)throw new n("property ocsp not specified");if(!l(g.ocsp)||!ue.isASN1HEX(g.ocsp))throw new n("ocsp value not ASN.1 hex string");var p=c({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:g.ocsp}}]});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cms.OtherRevocationFormat,f.asn1.ASN1Object),f.asn1.cms.CMSUtil=new function(){},f.asn1.cms.CMSUtil.newSignedData=function(r){return new f.asn1.cms.SignedData(r)},f.asn1.cms.CMSUtil.verifySignedData=function(r){var n=f,s=n.asn1,o=s.cms;o.SignerInfo,o.SignedData,o.SigningTime,o.SigningCertificate,o.SigningCertificateV2;var c=s.cades;c.SignaturePolicyIdentifier;var l=n.lang.String.isHex,g=ue,p=g.getVbyList,x=g.getTLVbyList,v=g.getIdxbyList,F=g.getChildIdx,b=g.getTLV,d=g.oidname,w=n.crypto.Util.hashHex;r.cms===void 0&&l(r.cms);var m=r.cms,S=function(N,R){for(var B,V=3;V<6;V++)if(B=v(N,0,[1,0,V]),B!==void 0){var $=N.substr(B,2);$==="a0"&&(R.certsIdx=B),$==="a1"&&(R.revinfosIdx=B),$==="31"&&(R.signerinfosIdx=B)}},E=function(N,R){var B=R.signerinfosIdx;if(B!==void 0){var V=F(N,B);R.signerInfoIdxList=V;for(var $=0;$<V.length;$++){var ee=V[$],q={idx:ee};P(N,q),R.signerInfos.push(q)}}},P=function(N,R){var B=R.idx;R.signerid_issuer1=x(N,B,[1,0],"30"),R.signerid_serial1=p(N,B,[1,1],"02"),R.hashalg=d(p(N,B,[2,0],"06"));var V=v(N,B,[3],"a0");R.idxSignedAttrs=V,H(N,R,V);var $=F(N,B),ee=$.length;if(ee<6)throw"malformed SignerInfo";R.sigalg=d(p(N,B,[ee-2,0],"06")),R.sigval=p(N,B,[ee-1],"04")},H=function(N,R,B){var V=F(N,B);R.signedAttrIdxList=V;for(var $=0;$<V.length;$++){var ee=V[$],q=p(N,ee,[0],"06"),z;q==="2a864886f70d010905"?(z=ze(p(N,ee,[1,0])),R.saSigningTime=z):q==="2a864886f70d010904"&&(z=p(N,ee,[1,0],"04"),R.saMessageDigest=z)}},K=function(N,R){if(p(N,0,[0],"06")!=="2a864886f70d010702")return R;R.cmsType="signedData",R.econtent=p(N,0,[1,0,2,1,0]),S(N,R),R.signerInfos=[],E(N,R)},k=function(N,R){for(var B=R.parse.signerInfos,V=B.length,$=!0,ee=0;ee<V;ee++){var q=B[ee];I(N,R,q),q.isValid||($=!1)}R.isValid=$},U=function(N,R,B,V){var $=R.parse.certsIdx,ee;if(R.certs===void 0){ee=[],R.certkeys=[];for(var q=F(N,$),z=0;z<q.length;z++){var te=b(N,q[z]),ne=new Pe;ne.readCertHex(te),ee[z]=ne,R.certkeys[z]=ne.getPublicKey()}R.certs=ee}else ee=R.certs;R.cccc=ee.length,R.cccci=q.length;for(var z=0;z<ee.length;z++){var Ht=ne.getIssuerHex(),gt=ne.getSerialNumberHex();B.signerid_issuer1===Ht&&B.signerid_serial1===gt&&(B.certkey_idx=z)}},I=function(N,R,B,V){B.verifyDetail={};var $=B.verifyDetail,ee=R.parse.econtent,q=B.hashalg,z=B.saMessageDigest;$.validMessageDigest=!1,w(ee,q)===z&&($.validMessageDigest=!0),U(N,R,B),$.validSignatureValue=!1;var te=B.sigalg,ne="31"+b(N,B.idxSignedAttrs).substr(2);B.signedattrshex=ne;var Ht=R.certs[B.certkey_idx].getPublicKey(),gt=new f.crypto.Signature({alg:te});gt.init(Ht),gt.updateHex(ne);var it=gt.verify(B.sigval);$.validSignatureValue_isValid=it,it===!0&&($.validSignatureValue=!0),B.isValid=!1,$.validMessageDigest&&$.validSignatureValue&&(B.isValid=!0)},_={isValid:!1,parse:{}};return K(m,_.parse),k(m,_),_},f.asn1.cms.CMSParser=function(){var r=Error,n=Pe,s=new n,o=ue,c=o.getV,l=o.getTLV;o.getIdxbyList;var g=o.getTLVbyList,p=o.getTLVbyListEx,x=o.getVbyList,v=o.getVbyListEx,F=o.getChildIdx;this.getCMSSignedData=function(b){var d=g(b,0,[1,0]),w=this.getSignedData(d);return w},this.getSignedData=function(b){var d=F(b,0),w={},m=c(b,d[0]),S=parseInt(m,16);w.version=S;var E=l(b,d[1]);w.hashalgs=this.getHashAlgArray(E);var P=l(b,d[2]);w.econtent=this.getEContent(P);var H=p(b,0,["[0]"]);H!=null&&(w.certs=this.getCertificateSet(H)),p(b,0,["[1]"]);var K=p(b,0,[3]);return w.sinfos=this.getSignerInfos(K),w},this.getHashAlgArray=function(b){for(var d=F(b,0),w=new n,m=[],S=0;S<d.length;S++){var E=l(b,d[S]),P=w.getAlgorithmIdentifierName(E);m.push(P)}return m},this.getEContent=function(b){var d={},w=x(b,0,[0]),m=x(b,0,[1,0]);return d.type=f.asn1.x509.OID.oid2name(ue.hextooidstr(w)),d.content={hex:m},d},this.getSignerInfos=function(b){for(var d=[],w=F(b,0),m=0;m<w.length;m++){var S=l(b,w[m]),E=this.getSignerInfo(S);d.push(E)}return d},this.getSignerInfo=function(b){var d={},w=F(b,0),m=o.getInt(b,w[0],-1);m!=-1&&(d.version=m);var S=l(b,w[1]),E=this.getIssuerAndSerialNumber(S);d.id=E;var P=l(b,w[2]),H=s.getAlgorithmIdentifierName(P);d.hashalg=H;var K=p(b,0,["[0]"]);if(K!=null){var k=this.getAttributeList(K);d.sattrs=k}var U=p(b,0,[3]),I=s.getAlgorithmIdentifierName(U);d.sigalg=I;var _=v(b,0,[4]);d.sighex=_;var N=p(b,0,["[1]"]);if(N!=null){var R=this.getAttributeList(N);d.uattrs=R}return d},this.getSignerIdentifier=function(b){if(b.substr(0,2)=="30")return this.getIssuerAndSerialNumber(b);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(b){var d={type:"isssn"},w=F(b,0),m=l(b,w[0]);d.issuer=s.getX500Name(m);var S=c(b,w[1]);return d.serial={hex:S},d},this.getAttributeList=function(b){for(var d=[],w=F(b,0),m=0;m<w.length;m++){var S=l(b,w[m]),E=this.getAttribute(S);d.push(E)}return{array:d}},this.getAttribute=function(b){var d={},w=F(b,0),m=o.getOID(b,w[0]),S=f.asn1.x509.OID.oid2name(m);d.attr=S;var E=l(b,w[1]),P=F(E,0);if(P.length==1)d.valhex=l(E,P[0]);else{for(var H=[],K=0;K<P.length;K++)H.push(l(E,P[K]));d.valhex=H}return S=="contentType"?this.setContentType(d):S=="messageDigest"?this.setMessageDigest(d):S=="signingTime"?this.setSigningTime(d):S=="signingCertificate"?this.setSigningCertificate(d):S=="signingCertificateV2"?this.setSigningCertificateV2(d):S=="signaturePolicyIdentifier"&&this.setSignaturePolicyIdentifier(d),d},this.setContentType=function(b){var d=o.getOIDName(b.valhex,0,null);d!=null&&(b.type=d,delete b.valhex)},this.setSigningTime=function(b){var d=c(b.valhex,0),w=ze(d);b.str=w,delete b.valhex},this.setMessageDigest=function(b){var d=c(b.valhex,0);b.hex=d,delete b.valhex},this.setSigningCertificate=function(b){var d=F(b.valhex,0);if(d.length>0){for(var w=l(b.valhex,d[0]),m=F(w,0),S=[],E=0;E<m.length;E++){var P=l(w,m[E]),H=this.getESSCertID(P);S.push(H)}b.array=S}if(d.length>1){var K=l(b.valhex,d[1]);b.polhex=K}delete b.valhex},this.setSignaturePolicyIdentifier=function(b){var d=F(b.valhex,0);if(d.length>0){var w=o.getOID(b.valhex,d[0]);b.oid=w}if(d.length>1){var m=new n,S=F(b.valhex,d[1]),E=l(b.valhex,S[0]),P=m.getAlgorithmIdentifierName(E);b.alg=P;var H=c(b.valhex,S[1]);b.hash=H}delete b.valhex},this.setSigningCertificateV2=function(b){var d=F(b.valhex,0);if(d.length>0){for(var w=l(b.valhex,d[0]),m=F(w,0),S=[],E=0;E<m.length;E++){var P=l(w,m[E]),H=this.getESSCertIDv2(P);S.push(H)}b.array=S}if(d.length>1){var K=l(b.valhex,d[1]);b.polhex=K}delete b.valhex},this.getESSCertID=function(b){var d={},w=F(b,0);if(w.length>0){var m=c(b,w[0]);d.hash=m}if(w.length>1){var S=l(b,w[1]),E=this.getIssuerSerial(S);E.serial!=null&&(d.serial=E.serial),E.issuer!=null&&(d.issuer=E.issuer)}return d},this.getESSCertIDv2=function(b){var d={},w=F(b,0);if(w.length<1||3<w.length)throw new r("wrong number of elements");var m=0;if(b.substr(w[0],2)=="30"){var S=l(b,w[0]);d.alg=s.getAlgorithmIdentifierName(S),m++}else d.alg="sha256";var E=c(b,w[m]);if(d.hash=E,w.length>m+1){var P=l(b,w[m+1]),H=this.getIssuerSerial(P);d.issuer=H.issuer,d.serial=H.serial}return d},this.getIssuerSerial=function(b){var d={},w=F(b,0),m=l(b,w[0]),S=s.getGeneralNames(m),E=S[0].dn;d.issuer=E;var P=c(b,w[1]);return d.serial={hex:P},d},this.getCertificateSet=function(b){for(var d=F(b,0),w=[],m=0;m<d.length;m++){var S=l(b,d[m]);if(S.substr(0,2)=="30"){var E=Bt(S,"CERTIFICATE");w.push(E)}}return{array:w,sortflag:!1}}},(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),(typeof f.asn1.tsp>"u"||!f.asn1.tsp)&&(f.asn1.tsp={}),f.asn1.tsp.TimeStampToken=function(r){var n=f,s=n.asn1,o=s.tsp;o.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var c=new o.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=c.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.TimeStampToken,f.asn1.cms.SignedData),f.asn1.tsp.TSTInfo=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.DERInteger,l=s.DERBoolean,g=s.DERGeneralizedTime,p=s.DERObjectIdentifier,x=s.DERTaggedObject,v=s.tsp,F=v.MessageImprint,b=v.Accuracy;s.x509.X500Name;var d=s.x509.GeneralName;if(v.TSTInfo.superclass.constructor.call(this),this.dVersion=new c({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var w=[this.dVersion];if(this.dPolicy==null)throw new Error("policy shall be specified.");if(w.push(this.dPolicy),this.dMessageImprint==null)throw new Error("messageImprint shall be specified.");if(w.push(this.dMessageImprint),this.dSerial==null)throw new Error("serialNumber shall be specified.");if(w.push(this.dSerial),this.dGenTime==null)throw new Error("genTime shall be specified.");w.push(this.dGenTime),this.dAccuracy!=null&&w.push(this.dAccuracy),this.dOrdering!=null&&w.push(this.dOrdering),this.dNonce!=null&&w.push(this.dNonce),this.dTsa!=null&&w.push(this.dTsa);var m=new o({array:w});return this.hTLV=m.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0){if(typeof r.policy=="string"){if(!r.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new p({oid:r.policy})}r.messageImprint!==void 0&&(this.dMessageImprint=new F(r.messageImprint)),r.serial!==void 0&&(this.dSerial=new c(r.serial)),r.genTime!==void 0&&(this.dGenTime=new g(r.genTime)),r.accuracy!==void 0&&(this.dAccuracy=new b(r.accuracy)),r.ordering!==void 0&&r.ordering==!0&&(this.dOrdering=new l),r.nonce!==void 0&&(this.dNonce=new c(r.nonce)),r.tsa!==void 0&&(this.dTsa=new x({tag:"a0",explicit:!0,obj:new d({dn:r.tsa})}))}},Z(f.asn1.tsp.TSTInfo,f.asn1.ASN1Object),f.asn1.tsp.Accuracy=function(r){var n=f,s=n.asn1,o=s.ASN1Util.newObject;s.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var c=this.params,l=[];return c.seconds!=null&&typeof c.seconds=="number"&&l.push({int:c.seconds}),c.millis!=null&&typeof c.millis=="number"&&l.push({tag:{tagi:"80",obj:{int:c.millis}}}),c.micros!=null&&typeof c.micros=="number"&&l.push({tag:{tagi:"81",obj:{int:c.micros}}}),o({seq:l}).tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.Accuracy,f.asn1.ASN1Object),f.asn1.tsp.MessageImprint=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.DEROctetString,l=s.x509,g=l.AlgorithmIdentifier;s.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params,x=new g({name:p.alg}),v=new c({hex:p.hash}),F=new o({array:[x,v]});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.tsp.MessageImprint,f.asn1.ASN1Object),f.asn1.tsp.TimeStampReq=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.DERInteger,l=s.DERBoolean;s.ASN1Object;var g=s.DERObjectIdentifier,p=s.tsp,x=p.MessageImprint;p.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,F=[];F.push(new c({int:1})),v.messageImprint instanceof f.asn1.ASN1Object?F.push(v.messageImprint):F.push(new x(v.messageImprint)),v.policy!=null&&F.push(new g(v.policy)),v.nonce!=null&&F.push(new c(v.nonce)),v.certreq==!0&&F.push(new l);var b=new o({array:F});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.TimeStampReq,f.asn1.ASN1Object),f.asn1.tsp.TimeStampResp=function(r){var n=f,s=n.asn1,o=s.DERSequence;s.ASN1Object;var c=s.tsp,l=c.PKIStatusInfo;c.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var g=this.params,p=[];if(g.econtent!=null||g.tst!=null)if(g.statusinfo!=null?p.push(new l(g.statusinfo)):p.push(new l("granted")),g.econtent!=null)p.push(new c.TimeStampToken(g).getContentInfo());else if(g.tst instanceof s.ASN1Object)p.push(g.tst);else throw new Error("improper member tst value");else if(g.statusinfo!=null)p.push(new l(g.statusinfo));else throw new Error("parameter for token nor statusinfo not specified");var x=new o({array:p});return x.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.TimeStampResp,f.asn1.ASN1Object),f.asn1.tsp.PKIStatusInfo=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.tsp,g=l.PKIStatus,p=l.PKIFreeText,x=l.PKIFailureInfo;l.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,F=[];if(typeof v=="string")F.push(new g(v));else{if(v.status==null)throw new n("property 'status' unspecified");F.push(new g(v.status)),v.statusstr!=null&&F.push(new p(v.statusstr)),v.failinfo!=null&&F.push(new x(v.failinfo))}var b=new c({array:F});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.PKIStatusInfo,f.asn1.ASN1Object),f.asn1.tsp.PKIStatus=function(r){var n=Error,s=f,o=s.asn1,c=o.DERInteger,l=o.tsp;l.PKIStatus.superclass.constructor.call(this);var g={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var p=this.params,x;if(typeof p=="string")try{x=g[p]}catch{throw new n("undefined name: "+p)}else if(typeof p=="number")x=p;else throw new n("unsupported params");return new c({int:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.PKIStatus,f.asn1.ASN1Object),f.asn1.tsp.PKIFreeText=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.DERUTF8String,g=o.tsp;g.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params;if(!p instanceof Array)throw new n("wrong params: not array");for(var x=[],v=0;v<p.length;v++)x.push(new l({str:p[v]}));var F=new c({array:x});return F.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.PKIFreeText,f.asn1.ASN1Object),f.asn1.tsp.PKIFailureInfo=function(r){var n=Error,s=f,o=s.asn1,c=o.DERBitString,l=o.tsp,g=l.PKIFailureInfo,p={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};g.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var x=this.params,v=0;if(typeof x=="number"&&0<=x&&x<=25){v|=1<<x;for(var F=v.toString(2),b="",d=F.length-1;d>=0;d--)b+=F[d];return b}else{if(typeof x=="string"&&p[x]!=null)return rs([x],p);if(typeof x=="object"&&x.length!=null)return rs(x,p);throw new n("wrong params")}},this.tohex=function(){this.params;var x=this.getBinValue();return new c({bin:x}).tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.tsp.PKIFailureInfo,f.asn1.ASN1Object),f.asn1.tsp.AbstractTSAAdapter=function(r){this.getTSTHex=function(n,s){throw"not implemented yet"}},f.asn1.tsp.SimpleTSAAdapter=function(r){var n=f,s=n.asn1,o=s.tsp,c=n.crypto.Util.hashHex;o.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(l,g){var p=c(l,g);this.params.econtent.content.messageImprint={alg:g,hash:p},this.params.econtent.content.serial={int:this.serial++};var x=Math.floor(Math.random()*1e9);this.params.econtent.content.nonce={int:x};var v=new o.TimeStampToken(this.params);return v.getContentInfoEncodedHex()},r!==void 0&&(this.params=r)},Z(f.asn1.tsp.SimpleTSAAdapter,f.asn1.tsp.AbstractTSAAdapter),f.asn1.tsp.FixedTSAAdapter=function(r){var n=f,s=n.asn1,o=s.tsp,c=n.crypto.Util.hashHex;o.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(l,g){var p=c(l,g);this.params.econtent.content.messageImprint={alg:g,hash:p};var x=new o.TimeStampToken(this.params);return x.getContentInfoEncodedHex()},r!==void 0&&(this.params=r)},Z(f.asn1.tsp.FixedTSAAdapter,f.asn1.tsp.AbstractTSAAdapter),f.asn1.tsp.TSPUtil=new function(){},f.asn1.tsp.TSPUtil.newTimeStampToken=function(r){return new f.asn1.tsp.TimeStampToken(r)},f.asn1.tsp.TSPUtil.parseTimeStampReq=function(r){var n=new f.asn1.tsp.TSPParser;return n.getTimeStampReq(r)},f.asn1.tsp.TSPUtil.parseMessageImprint=function(r){var n=new f.asn1.tsp.TSPParser;return n.getMessageImprint(r)},f.asn1.tsp.TSPParser=function(){var r=Pe,n=new r,s=ue,o=s.getV,c=s.getTLV,l=s.getIdxbyList;s.getTLVbyListEx;var g=s.getChildIdx,p=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],x={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(v){var F=g(v,0);if(F.length==1)return this.getPKIStatusInfo(c(v,F[0]));if(F.length>1){var b=this.getPKIStatusInfo(c(v,F[0])),d=c(v,F[1]),w=this.getToken(d);return w.statusinfo=b,w}},this.getToken=function(v){var F=new f.asn1.cms.CMSParser,b=F.getCMSSignedData(v);return this.setTSTInfo(b),b},this.setTSTInfo=function(v){var F=v.econtent;if(F.type=="tstinfo"){var b=F.content.hex,d=this.getTSTInfo(b);F.content=d}},this.getTSTInfo=function(v){var F={},b=g(v,0),d=o(v,b[1]);F.policy=es(d);var w=c(v,b[2]);F.messageImprint=this.getMessageImprint(w);var m=o(v,b[3]);F.serial={hex:m};var S=o(v,b[4]);F.genTime={str:ze(S)};var E=0;if(b.length>5&&v.substr(b[5],2)=="30"){var P=c(v,b[5]);F.accuracy=this.getAccuracy(P),E++}if(b.length>5+E&&v.substr(b[5+E],2)=="01"){var H=o(v,b[5+E]);H=="ff"&&(F.ordering=!0),E++}if(b.length>5+E&&v.substr(b[5+E],2)=="02"){var K=o(v,b[5+E]);F.nonce={hex:K},E++}if(b.length>5+E&&v.substr(b[5+E],2)=="a0"){var k=c(v,b[5+E]);k="30"+k.substr(2),pGeneralNames=n.getGeneralNames(k);var U=pGeneralNames[0].dn;F.tsa=U,E++}if(b.length>5+E&&v.substr(b[5+E],2)=="a1"){var I=c(v,b[5+E]);I="30"+I.substr(2);var _=n.getExtParamArray(I);F.ext=_,E++}return F},this.getAccuracy=function(v){for(var F={},b=g(v,0),d=0;d<b.length;d++){var w=v.substr(b[d],2),m=o(v,b[d]),S=parseInt(m,16);w=="02"?F.seconds=S:w=="80"?F.millis=S:w=="81"&&(F.micros=S)}return F},this.getMessageImprint=function(v){if(v.substr(0,2)!="30")throw new Error("head of messageImprint hex shall be x30");var F={};g(v,0);var b=l(v,0,[0,0]),d=o(v,b),w=s.hextooidstr(d),m=f.asn1.x509.OID.oid2name(w);if(m=="")throw new Error("hashAlg name undefined: "+w);var S=m,E=l(v,0,[1]);return F.alg=S,F.hash=o(v,E),F},this.getPKIStatusInfo=function(v){var F={},b=g(v,0),d=0;try{var w=o(v,b[0]),m=parseInt(w,16);F.status=p[m]}catch{}if(b.length>1&&v.substr(b[1],2)=="30"){var S=c(v,b[1]);F.statusstr=this.getPKIFreeText(S),d++}if(b.length>d&&v.substr(b[1+d],2)=="03"){var E=c(v,b[1+d]);F.failinfo=this.getPKIFailureInfo(E)}return F},this.getPKIFreeText=function(v){for(var F=[],b=g(v,0),d=0;d<b.length;d++)F.push(s.getString(v,b[d]));return F},this.getPKIFailureInfo=function(v){var F=s.getInt(v,0);return x[F]!=null?x[F]:F},this.getTimeStampReq=function(v){var F={};F.certreq=!1;var b=g(v,0);if(b.length<2)throw new Error("TimeStampReq must have at least 2 items");var d=c(v,b[1]);F.messageImprint=f.asn1.tsp.TSPUtil.parseMessageImprint(d);for(var w=2;w<b.length;w++){var m=b[w],S=v.substr(m,2);if(S=="06"){var E=o(v,m);F.policy=s.hextooidstr(E)}S=="02"&&(F.nonce=o(v,m)),S=="01"&&(F.certreq=!0)}return F}},(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),(typeof f.asn1.cades>"u"||!f.asn1.cades)&&(f.asn1.cades={}),f.asn1.cades.SignaturePolicyIdentifier=function(r){var n=f,s=n.asn1,o=s.cades,c=o.SignaturePolicyId;o.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new c(this.params)]},this.setByParam=function(l){this.params=l},r!=null&&this.setByParam(r)},Z(f.asn1.cades.SignaturePolicyIdentifier,f.asn1.cms.Attribute),f.asn1.cades.SignaturePolicyId=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.DERObjectIdentifier,l=s.x509;l.AlgorithmIdentifier;var g=s.cades,p=g.SignaturePolicyId,x=g.OtherHashAlgAndValue;p.superclass.constructor.call(this),this.params=null,this.tohex=function(){var v=this.params,F=[];F.push(new c(v.oid)),F.push(new x(v));var b=new o({array:F});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(v){this.params=v},r!=null&&this.setByParam(r)},Z(f.asn1.cades.SignaturePolicyId,f.asn1.ASN1Object),f.asn1.cades.OtherHashAlgAndValue=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.DEROctetString,g=o.x509,p=g.AlgorithmIdentifier,x=o.cades,v=x.OtherHashAlgAndValue;v.superclass.constructor.call(this),this.params=null,this.tohex=function(){var F=this.params;if(F.alg==null)throw new n("property 'alg' not specified");if(F.hash==null&&F.cert==null)throw new n("property 'hash' nor 'cert' not specified");var b=null;if(F.hash!=null)b=F.hash;else if(F.cert!=null){if(typeof F.cert!="string")throw new n("cert not string");var d=F.cert;F.cert.indexOf("-----BEGIN")!=-1&&(d=yt(F.cert)),b=f.crypto.Util.hashHex(d,F.alg)}var w=[];w.push(new p({name:F.alg})),w.push(new l({hex:b}));var m=new c({array:w});return m.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cades.OtherHashAlgAndValue,f.asn1.ASN1Object),f.asn1.cades.OtherHashValue=function(r){f.asn1.cades.OtherHashValue.superclass.constructor.call(this);var n=Error,s=f;s.lang.String.isHex;var o=s.asn1,c=o.DEROctetString;s.crypto.Util.hashHex,this.params=null,this.tohex=function(){var l=this.params;if(l.hash==null&&l.cert==null)throw new n("hash or cert not specified");var g=null;if(l.hash!=null)g=l.hash;else if(l.cert!=null){if(typeof l.cert!="string")throw new n("cert not string");var p=l.cert;l.cert.indexOf("-----BEGIN")!=-1&&(p=yt(l.cert)),g=f.crypto.Util.hashHex(p,"sha1")}return new c({hex:g}).tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cades.OtherHashValue,f.asn1.ASN1Object),f.asn1.cades.SignatureTimeStamp=function(r){var n=Error,s=f,o=s.lang.String.isHex,c=s.asn1,l=c.ASN1Object;c.x509;var g=c.cades;g.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var p=this.params;if(p.tst!=null)if(o(p.tst)){var x=new l;return x.hTLV=p.tst,[x]}else{if(p.tst instanceof l)return[p.tst];throw new n("params.tst has wrong value")}else if(p.res!=null){var v=p.res;if(v instanceof l&&(v=v.tohex()),typeof v!="string"||!o(v))throw new n("params.res has wrong value");ue.getTLVbyList(v,0,[1]);var x=new l;return x.hTLV=p.tst,[x]}},r!=null&&this.setByParam(r)},Z(f.asn1.cades.SignatureTimeStamp,f.asn1.cms.Attribute),f.asn1.cades.CompleteCertificateRefs=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.cades,g=l.OtherCertID,p=s.lang.String.isHex;l.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var x=this.params,v=[],F=0;F<x.array.length;F++){var b=x.array[F];if(typeof b=="string")if(b.indexOf("-----BEGIN")!=-1)b={cert:b};else if(p(b))b={hash:b};else throw new n("unsupported value: "+b);x.alg!=null&&b.alg==null&&(b.alg=x.alg),x.hasis!=null&&b.hasis==null&&(b.hasis=x.hasis);var d=new g(b);v.push(d)}var w=new c({array:v});return[w]},r!=null&&this.setByParam(r)},Z(f.asn1.cades.CompleteCertificateRefs,f.asn1.cms.Attribute),f.asn1.cades.OtherCertID=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.cms,l=c.IssuerSerial,g=s.cades,p=g.OtherHashValue,x=g.OtherHashAlgAndValue;g.OtherCertID.superclass.constructor.call(this),this.params=r,this.tohex=function(){var v=this.params;typeof v=="string"&&(v.indexOf("-----BEGIN")!=-1?v={cert:v}:_isHex(v)&&(v={hash:v}));var F=[],b=null;if(v.alg!=null?b=new x(v):b=new p(v),F.push(b),v.cert!=null&&v.hasis==!0||v.issuer!=null&&v.serial!=null){var d=new l(v);F.push(d)}var w=new o({array:F});return w.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cades.OtherCertID,f.asn1.ASN1Object),f.asn1.cades.OtherHash=function(r){var n=f,s=n.asn1;s.cms;var o=s.cades,c=o.OtherHashAlgAndValue,l=o.OtherHashValue;n.crypto.Util.hashHex;var g=n.lang.String.isHex;o.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var p=this.params;typeof p=="string"&&(p.indexOf("-----BEGIN")!=-1?p={cert:p}:g(p)&&(p={hash:p}));var x=null;return p.alg!=null?x=new c(p):x=new l(p),x.tohex()},this.getEncodedHex=function(){return this.tohex()},r!=null&&this.setByParam(r)},Z(f.asn1.cades.OtherHash,f.asn1.ASN1Object),f.asn1.cades.CAdESUtil=new function(){},f.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(r){var n=new f.asn1.cms.CMSParser,s=n.getCMSSignedData(r);return s},f.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(r,n,s){var o=ue,c=o.getChildIdx,l=o.getTLV,g=o.getV,p=f,x=p.asn1,v=x.ASN1Object,F=x.cms,b=F.AttributeList,d=F.SignerInfo,w={},m=c(r,n);if(m.length!=6)throw"not supported items for SignerInfo (!=6)";var S=m.shift();w.version=l(r,S);var E=m.shift();w.si=l(r,E);var P=m.shift();w.digalg=l(r,P);var H=m.shift();w.sattrs=l(r,H);var K=m.shift();w.sigalg=l(r,K);var k=m.shift();w.sig=l(r,k),w.sigval=g(r,k);var U=null;return w.obj=new d,U=new v,U.hTLV=w.version,w.obj.dCMSVersion=U,U=new v,U.hTLV=w.si,w.obj.dSignerIdentifier=U,U=new v,U.hTLV=w.digalg,w.obj.dDigestAlgorithm=U,U=new v,U.hTLV=w.sattrs,w.obj.dSignedAttrs=U,U=new v,U.hTLV=w.sigalg,w.obj.dSigAlg=U,U=new v,U.hTLV=w.sig,w.obj.dSig=U,w.obj.dUnsignedAttrs=new b,w},(typeof f.asn1.csr>"u"||!f.asn1.csr)&&(f.asn1.csr={}),f.asn1.csr.CertificationRequest=function(r){var n=f,s=n.asn1,o=s.DERBitString,c=s.DERSequence,l=s.csr;s.x509;var g=l.CertificationRequestInfo;l.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(p){this.params=p},this.sign=function(){var p=new g(this.params).tohex(),x=new f.crypto.Signature({alg:this.params.sigalg});x.init(this.params.sbjprvkey),x.updateHex(p);var v=x.sign();this.params.sighex=v},this.getPEM=function(){return Bt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var p=this.params,x=new f.asn1.csr.CertificationRequestInfo(this.params),v=new f.asn1.x509.AlgorithmIdentifier({name:p.sigalg});if(p.sighex==null&&p.sbjprvkey!=null&&this.sign(),p.sighex==null)throw new Error("sighex or sbjprvkey parameter not defined");var F=new o({hex:"00"+p.sighex}),b=new c({array:[x,v,F]});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.csr.CertificationRequest,f.asn1.ASN1Object),f.asn1.csr.CertificationRequestInfo=function(r){var n=f,s=n.asn1;s.DERBitString;var o=s.DERSequence,c=s.DERInteger,l=s.DERUTF8String,g=s.DERTaggedObject,p=s.ASN1Util.newObject,x=s.csr,v=s.x509,F=v.X500Name,b=v.Extensions,d=v.SubjectPublicKeyInfo;x.AttributeList,x.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(m){m!=null&&(this.params=m)},this.tohex=function(){var m=this.params,S=[];if(S.push(new c({int:0})),S.push(new F(m.subject)),S.push(new d(He.getKey(m.sbjpubkey))),m.attrs!=null){var E=w(m.attrs),P=p({tag:{tage:"a0",obj:E}});S.push(P)}else if(m.extreq!=null){var H=new b(m.extreq),P=p({tag:{tage:"a0",obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[H]}]}}});S.push(P)}else S.push(new g({tag:"a0",explicit:!1,obj:new l({str:""})}));var K=new o({array:S});return K.tohex()},this.getEncodedHex=function(){return this.tohex()};function w(m){for(var S=Error,E=f.asn1.x509.Extensions,P=[],H=0;H<m.length;H++){var K=m[H],k=K.attr;if(k=="extensionRequest"){var U=new E(K.ext),I={seq:[{oid:"1.2.840.113549.1.9.14"},{set:[U]}]};P.push(I)}else if(k=="unstructuredName"){var I={seq:[{oid:"1.2.840.113549.1.9.2"},{set:K.names}]};P.push(I)}else if(k=="challengePassword"){var I={seq:[{oid:"1.2.840.113549.1.9.7"},{set:[{utf8str:K.password}]}]};P.push(I)}else throw new S("unknown CSR attribute")}return{set:P}}r!=null&&this.setByParam(r)},Z(f.asn1.csr.CertificationRequestInfo,f.asn1.ASN1Object),f.asn1.csr.AttributeList=function(r){},Z(f.asn1.csr.AttributeList,f.asn1.ASN1Object),f.asn1.csr.CSRUtil=new function(){},f.asn1.csr.CSRUtil.newCSRPEM=function(r){var n=f.asn1.csr,s=new n.CertificationRequest(r),o=s.getPEM();return o},f.asn1.csr.CSRUtil.getParam=function(r,n){var s=ue,o=s.getV,c=s.getIdxbyList,l=s.getTLVbyList,g=s.getTLVbyListEx,p=s.getVbyListEx,x=function(H){var K=c(H,0,[0,3,0,0],"06");return o(H,K)!="2a864886f70d01090e"?null:l(H,0,[0,3,0,1,0],"30")},v={};if(r.indexOf("-----BEGIN CERTIFICATE REQUEST")==-1)throw new Error("argument is not PEM file");var F=yt(r,"CERTIFICATE REQUEST");n&&(v.tbs=l(F,0,[0]));try{var b=g(F,0,[0,1]);if(b=="3000")v.subject={};else{var S=new Pe;v.subject=S.getX500Name(b)}}catch{}var d=g(F,0,[0,2]),w=He.getKey(d,null,"pkcs8pub");v.sbjpubkey=He.getPEM(w,"PKCS8PUB");var m=x(F),S=new Pe;m!=null&&(v.extreq=S.getExtParamArray(m));try{var E=g(F,0,[1],"30"),S=new Pe;v.sigalg=S.getAlgorithmIdentifierName(E)}catch{}try{var P=p(F,0,[2]);v.sighex=P}catch{}return v},f.asn1.csr.CSRUtil.verifySignature=function(r){try{var n=null;if(typeof r=="string"&&r.indexOf("-----BEGIN CERTIFICATE REQUEST")!=-1?n=f.asn1.csr.CSRUtil.getParam(r,!0):typeof r=="object"&&r.sbjpubkey!=null&&r.sigalg!=null&&r.sighex!=null&&r.tbs!=null&&(n=r),n==null)return!1;var s=new f.crypto.Signature({alg:n.sigalg});return s.init(n.sbjpubkey),s.updateHex(n.tbs),s.verify(n.sighex)}catch(o){return alert(o),!1}},(typeof f>"u"||!f)&&(f={}),(typeof f.asn1>"u"||!f.asn1)&&(f.asn1={}),(typeof f.asn1.ocsp>"u"||!f.asn1.ocsp)&&(f.asn1.ocsp={}),f.asn1.ocsp.DEFAULT_HASH="sha1",f.asn1.ocsp.OCSPResponse=function(r){f.asn1.ocsp.OCSPResponse.superclass.constructor.call(this),f.asn1.DEREnumerated;var n=f.asn1.ASN1Util.newObject,s=f.asn1.ocsp.ResponseBytes,o=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var c=this.params.resstatus;return typeof c=="number"?c:typeof c!="string"?-1:o.indexOf(c)},this.setByParam=function(c){this.params=c},this.tohex=function(){var c=this.params,l=this._getStatusCode();if(l==-1)throw new Error("responseStatus not supported: "+c.resstatus);if(l!=0)return n({seq:[{enum:{int:l}}]}).tohex();var g=new s(c);return n({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:g}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.OCSPResponse,f.asn1.ASN1Object),f.asn1.ocsp.ResponseBytes=function(r){f.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var n=f.asn1,s=n.DERSequence,o=n.DERObjectIdentifier,c=n.DEROctetString,l=n.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(g){this.params=g},this.tohex=function(){var g=this.params;if(g.restype!="ocspBasic")throw new Error("not supported responseType: "+g.restype);var p=new l(g),x=[];x.push(new o({name:"ocspBasic"})),x.push(new c({hex:p.tohex()}));var v=new s({array:x});return v.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.ResponseBytes,f.asn1.ASN1Object),f.asn1.ocsp.BasicOCSPResponse=function(r){f.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var n=Error,s=f.asn1,o=s.ASN1Object,c=s.DERSequence;s.DERGeneralizedTime;var l=s.DERTaggedObject,g=s.DERBitString;s.x509.Extensions;var p=s.x509.AlgorithmIdentifier,x=s.ocsp;x.ResponderID,_SingleResponseList=x.SingleResponseList,_ResponseData=x.ResponseData,this.params=null,this.setByParam=function(v){this.params=v},this.sign=function(){var v=this.params,F=v.tbsresp.tohex(),b=new f.crypto.Signature({alg:v.sigalg});b.init(v.reskey),b.updateHex(F),v.sighex=b.sign()},this.tohex=function(){var v=this.params;v.tbsresp==null&&(v.tbsresp=new _ResponseData(v)),v.sighex==null&&v.reskey!=null&&this.sign();var F=[];if(F.push(v.tbsresp),F.push(new p({name:v.sigalg})),F.push(new g({hex:"00"+v.sighex})),v.certs!=null&&v.certs.length!=null){for(var b=[],d=0;d<v.certs.length;d++){var w=v.certs[d],m=null;if(ue.isASN1HEX(w))m=w;else if(w.match(/-----BEGIN/))m=yt(w);else throw new n("certs["+d+"] not hex or PEM");b.push(new o({tlv:m}))}var S=new c({array:b});F.push(new l({tag:"a0",explicit:!0,obj:S}))}var E=new c({array:F});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.BasicOCSPResponse,f.asn1.ASN1Object),f.asn1.ocsp.ResponseData=function(r){f.asn1.ocsp.ResponseData.superclass.constructor.call(this);var n=f.asn1,s=n.DERSequence,o=n.DERGeneralizedTime,c=n.DERTaggedObject,l=n.x509.Extensions,g=n.ocsp,p=g.ResponderID;_SingleResponseList=g.SingleResponseList,this.params=null,this.tohex=function(){var x=this.params;x.respid!=null,x.prodat!=null,x.array!=null;var v=[];if(v.push(new p(x.respid)),v.push(new o(x.prodat)),v.push(new _SingleResponseList(x.array)),x.ext!=null){var F=new l(x.ext);v.push(new c({tag:"a1",explicit:!0,obj:F}))}var b=new s({array:v});return b.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(x){this.params=x},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.ResponseData,f.asn1.ASN1Object),f.asn1.ocsp.ResponderID=function(r){f.asn1.ocsp.ResponderID.superclass.constructor.call(this);var n=f,s=n.asn1,o=s.ASN1Util.newObject,c=s.x509.X500Name,l=n.lang.String.isHex,g=Error;this.params=null,this.tohex=function(){var p=this.params;if(p.key!=null){var x=null;if(typeof p.key=="string"){if(l(p.key)&&(x=p.key),p.key.match(/-----BEGIN CERTIFICATE/)){var v=new Pe(p.key),F=v.getExtSubjectKeyIdentifier();F!=null&&(x=F.kid.hex)}}else if(p.key instanceof Pe){var F=p.key.getExtSubjectKeyIdentifier();F!=null&&(x=F.kid.hex)}if(x==null)throw new g("wrong key member value");var b=o({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:x}}}});return b.tohex()}else if(p.name!=null){var d=null;if(typeof p.name=="string"&&p.name.match(/-----BEGIN CERTIFICATE/)){var v=new Pe(p.name);d=v.getSubject()}else p.name instanceof Pe?d=p.name.getSubject():typeof p.name=="object"&&(p.name.array!=null||p.name.str!=null)&&(d=p.name);if(d==null)throw new g("wrong name member value");var b=o({tag:{tag:"a1",explicit:!0,obj:new c(d)}});return b.tohex()}throw new g("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(p){this.params=p},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.ResponderID,f.asn1.ASN1Object),f.asn1.ocsp.SingleResponseList=function(r){f.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var n=f.asn1,s=n.DERSequence,o=n.ocsp.SingleResponse;this.params=null,this.tohex=function(){var c=this.params;if(typeof c!="object"||c.length==null)throw new Error("params not specified properly");for(var l=[],g=0;g<c.length;g++)l.push(new o(c[g]));var p=new s({array:l});return p.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(c){this.params=c},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.SingleResponseList,f.asn1.ASN1Object),f.asn1.ocsp.SingleResponse=function(r){var n=Error,s=f,o=s.asn1,c=o.DERSequence,l=o.DERGeneralizedTime,g=o.DERTaggedObject,p=o.ocsp,x=p.CertID,v=p.CertStatus,F=o.x509,b=F.Extensions;p.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var d=this.params,w=[];if(d.certid==null)throw new n("certid unspecified");if(d.status==null)throw new n("status unspecified");if(d.thisupdate==null)throw new n("thisupdate unspecified");if(w.push(new x(d.certid)),w.push(new v(d.status)),w.push(new l(d.thisupdate)),d.nextupdate!=null){var m=new l(d.nextupdate);w.push(new g({tag:"a0",explicit:!0,obj:m}))}if(d.ext!=null){var S=new b(d.ext);w.push(new g({tag:"a1",explicit:!0,obj:S}))}var E=new c({array:w});return E.tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(d){this.params=d},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.SingleResponse,f.asn1.ASN1Object),f.asn1.ocsp.CertID=function(r){var n=f,s=n.asn1,o=s.DEROctetString,c=s.DERInteger,l=s.DERSequence,g=s.x509,p=g.AlgorithmIdentifier,x=s.ocsp;x.DEFAULT_HASH;var v=n.crypto,F=v.Util.hashHex,b=Pe,d=ue,w=d.getVbyList;x.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(m,S,E,P){P==null&&(P=this.DEFAULT_HASH),this.params={alg:P,issname:m,isskey:S,sbjsn:E}},this.setByCert=function(m,S,E){E==null&&(E=this.DEFAULT_HASH),this.params={alg:E,issuerCert:m,subjectCert:S}},this.getParamByCerts=function(m,S,E){E==null&&(E=this.DEFAULT_HASH);var P=new b(m),H=new b(S),K=F(P.getSubjectHex(),E),k=P.getPublicKeyHex(),U=F(w(k,0,[1],"03",!0),E),I=H.getSerialNumberHex(),_={alg:E,issname:K,isskey:U,sbjsn:I};return _},this.tohex=function(){if(typeof this.params!="object")throw new Error("params not set");var m=this.params,S,E,P,H;if(m.alg==null?H=this.DEFAULT_HASH:H=m.alg,m.issuerCert!=null&&m.subjectCert!=null){var K=this.getParamByCerts(m.issuerCert,m.subjectCert,H);S=K.issname,E=K.isskey,P=K.sbjsn}else if(m.issname!=null&&m.isskey!=null&&m.sbjsn!=null)S=m.issname,E=m.isskey,P=m.sbjsn;else throw new Error("required param members not defined");var k=new p({name:H}),U=new o({hex:S}),I=new o({hex:E}),_=new c({hex:P}),N=new l({array:[k,U,I,_]});return this.hTLV=N.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.CertID,f.asn1.ASN1Object),f.asn1.ocsp.CertStatus=function(r){f.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var n=this.params;if(n.status=="good")return"8000";if(n.status=="unknown")return"8200";if(n.status=="revoked"){var s=[{gentime:{str:n.time}}];n.reason!=null&&s.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:n.reason}}}});var o={tag:"a1",explicit:!1,obj:{seq:s}};return f.asn1.ASN1Util.newObject({tag:o}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(n){this.params=n},r!==void 0&&this.setByParam(r)},Z(f.asn1.ocsp.CertStatus,f.asn1.ASN1Object),f.asn1.ocsp.Request=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.ocsp;if(c.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var g=[];if(this.dReqCert===null)throw"reqCert not set";g.push(this.dReqCert);var p=new o({array:g});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},typeof r<"u"){var l=new c.CertID(r);this.dReqCert=l}},Z(f.asn1.ocsp.Request,f.asn1.ASN1Object),f.asn1.ocsp.TBSRequest=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.ocsp;c.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(l){for(var g=[],p=0;p<l.length;p++){var x=new c.Request(l[0]);g.push(x)}this.dRequestList=g},this.tohex=function(){var l=[];if(this.version!==0)throw"not supported version: "+this.version;if(this.dRequestorName!==null)throw"requestorName not supported";var g=new o({array:this.dRequestList});if(l.push(g),this.dRequestExt!==null)throw"requestExtensions not supported";var p=new o({array:l});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&r.reqList!==void 0&&this.setRequestListByParam(r.reqList)},Z(f.asn1.ocsp.TBSRequest,f.asn1.ASN1Object),f.asn1.ocsp.OCSPRequest=function(r){var n=f,s=n.asn1,o=s.DERSequence,c=s.ocsp;if(c.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var g=[];if(this.dTbsRequest!==null)g.push(this.dTbsRequest);else throw"tbsRequest not set";if(this.dOptionalSignature!==null)throw"optionalSignature not supported";var p=new o({array:g});return this.hTLV=p.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},r!==void 0&&r.reqList!==void 0){var l=new c.TBSRequest(r);this.dTbsRequest=l}},Z(f.asn1.ocsp.OCSPRequest,f.asn1.ASN1Object),f.asn1.ocsp.OCSPUtil={},f.asn1.ocsp.OCSPUtil.getRequestHex=function(r,n,s){var o=f,c=o.asn1,l=c.ocsp;s===void 0&&(s=l.DEFAULT_HASH);var g={alg:s,issuerCert:r,subjectCert:n},p=new l.OCSPRequest({reqList:[g]});return p.tohex()},f.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(r){var n=ue,s=n.getVbyList,o=n.getVbyListEx,c=n.getIdxbyList;n.getIdxbyListEx;var l=n.getV,g={};try{var p=o(r,0,[0],"0a");g.responseStatus=parseInt(p,16)}catch{}if(g.responseStatus!==0)return g;try{var x=c(r,0,[1,0,1,0,0,2,0,1]);r.substr(x,2)==="80"?g.certStatus="good":r.substr(x,2)==="a1"?(g.certStatus="revoked",g.revocationTime=ze(s(r,x,[0]))):r.substr(x,2)==="82"&&(g.certStatus="unknown")}catch{}try{var v=c(r,0,[1,0,1,0,0,2,0,2]);g.thisUpdate=ze(l(r,v))}catch{}try{var F=c(r,0,[1,0,1,0,0,2,0,3]);r.substr(F,2)==="a0"&&(g.nextUpdate=ze(s(r,F,[0])))}catch{}return g},f.asn1.ocsp.OCSPParser=function(){var r=Error,n=Pe,s=new n,o=ue,c=o.getV,l=o.getTLV,g=o.getIdxbyList,p=o.getVbyList,x=o.getTLVbyList,v=o.getVbyListEx,F=o.getTLVbyListEx,b=o.getChildIdx;this.getOCSPRequest=function(d){var w=b(d,0);if(w.length!=1&&w.length!=2)throw new r("wrong number elements: "+w.length);var m=this.getTBSRequest(l(d,w[0]));return m},this.getTBSRequest=function(d){var w={},m=F(d,0,[0],"30");w.array=this.getRequestList(m);var S=F(d,0,["[2]",0],"30");return S!=null&&(w.ext=s.getExtParamArray(S)),w},this.getRequestList=function(d){for(var w=[],m=b(d,0),S=0;S<m.length;S++){var d=l(d,m[S]);w.push(this.getRequest(d))}return w},this.getRequest=function(d){var w=b(d,0);if(w.length!=1&&w.length!=2)throw new r("wrong number elements: "+w.length);var m=this.getCertID(l(d,w[0]));if(w.length==2){var S=g(d,0,[1,0]);m.ext=s.getExtParamArray(l(d,S))}return m},this.getCertID=function(d){var w=b(d,0);if(w.length!=4)throw new r("wrong number elements: "+w.length);var m=new n,S={};return S.alg=m.getAlgorithmIdentifierName(l(d,w[0])),S.issname=c(d,w[1]),S.isskey=c(d,w[2]),S.sbjsn=c(d,w[3]),S},this.getOCSPResponse=function(d){var w=b(d,0),m,S=c(d,w[0]),E=parseInt(S);if(w.length==1)return{resstatus:E};var P=x(d,0,[1,0]);return m=this.getResponseBytes(P),m.resstatus=E,m},this.getResponseBytes=function(d){var w=b(d,0),m,S=x(d,0,[1,0]);m=this.getBasicOCSPResponse(S);var E=c(d,w[0]);return m.restype=f.asn1.x509.OID.oid2name(es(E)),m},this.getBasicOCSPResponse=function(d){var w=b(d,0),m;m=this.getResponseData(l(d,w[0]));var S=new Pe;m.alg=S.getAlgorithmIdentifierName(l(d,w[1]));var E=c(d,w[2]);m.sighex=E.substr(2);var P=v(d,0,["[0]"]);if(P!=null){for(var H=b(P,0),K=[],k=0;k<H.length;k++){var U=l(P,H[k]);K.push(U)}m.certs=K}return m},this.getResponseData=function(d){var w=b(d,0),m=w.length,S={},E=0;d.substr(w[0],2)=="a0"&&E++,S.respid=this.getResponderID(l(d,w[E++]));var P=c(d,w[E++]);if(S.prodat=ze(P),S.array=this.getSingleResponseList(l(d,w[E++])),d.substr(w[m-1],2)=="a1"){var H=x(d,w[m-1],[0]),K=new Pe;S.ext=K.getExtParamArray(H)}return S},this.getResponderID=function(d){var w={};if(d.substr(0,2)=="a2"){var m=p(d,0,[0]);w.key=m}if(d.substr(0,2)=="a1"){var S=x(d,0,[0]),E=new Pe;w.name=E.getX500Name(S)}return w},this.getSingleResponseList=function(d){for(var w=b(d,0),m=[],S=0;S<w.length;S++){var E=this.getSingleResponse(l(d,w[S]));m.push(E)}return m},this.getSingleResponse=function(d){var w=b(d,0),m={},S=this.getCertID(l(d,w[0]));m.certid=S;var E=this.getCertStatus(l(d,w[1]));if(m.status=E,d.substr(w[2],2)=="18"){var P=c(d,w[2]);m.thisupdate=ze(P)}for(var H=3;H<w.length;H++){if(d.substr(w[H],2)=="a0"){var K=p(d,w[H],[0],"18");m.nextupdate=ze(K)}if(d.substr(w[H],2)=="a1"){var k=new Pe,U=x(d,0,[H,0]);m.ext=k.getExtParamArray(U)}}return m},this.getCertStatus=function(d){var w={};if(d=="8000")return{status:"good"};if(d=="8200")return{status:"unknown"};if(d.substr(0,2)=="a1"){w.status="revoked";var m=p(d,0,[0]),S=ze(m);w.time=S}return w}};var f;(typeof f>"u"||!f)&&(f={}),(typeof f.lang>"u"||!f.lang)&&(f.lang={}),f.lang.String=function(){};function zo(r){for(var n=new Array,s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}function Go(r){for(var n="",s=0;s<r.length;s++)n=n+String.fromCharCode(r[s]);return n}function zi(r){for(var n="",s=0;s<r.length;s++){var o=r[s].toString(16);o.length==1&&(o="0"+o),n=n+o}return n}function Qt(r){return zi(zo(r))}function hd(r){return A(Qt(r))}function dd(r){return On(A(Qt(r)))}function pd(r){return Go(O(ii(r)))}function On(r){return r=r.replace(/\=/g,""),r=r.replace(/\+/g,"-"),r=r.replace(/\//g,"_"),r}function ii(r){return r.length%4==2?r=r+"==":r.length%4==3&&(r=r+"="),r=r.replace(/-/g,"+"),r=r.replace(/_/g,"/"),r}function Ft(r){return r.length%2==1&&(r="0"+r),On(A(r))}function ht(r){return T(ii(r))}var si,Sr;typeof Buffer=="function"?(si=function(r){return On(Buffer.from(r,"utf8").toString("base64"))},Sr=function(r){return Buffer.from(ii(r),"base64").toString("utf8")}):(si=function(r){return Ft(Ji(Zi(r)))},Sr=function(r){return decodeURIComponent(Xi(ht(r)))});function gd(r){return A(Ji(Zi(r)))}function md(r){return decodeURIComponent(Xi(T(r)))}function Gi(r){return Ji(Zi(r)).toLowerCase()}function ze(r){try{return decodeURIComponent(Xi(r))}catch{return null}}function vd(r){return ze(yd(r))}function yd(r){for(var n=r.match(/.{1,2}/g),s=[],o=0;o<n.length;o++){var c=parseInt(n[o],16);161<=c&&c<=191?(s.push("c2"),s.push(n[o])):192<=c&&c<=255?(s.push("c3"),s.push((c-64).toString(16))):s.push(n[o])}return s.join("")}function Zt(r){for(var n="",s=0;s<r.length-1;s+=2)n+=String.fromCharCode(parseInt(r.substr(s,2),16));return n}function Pr(r){for(var n="",s=0;s<r.length;s++)n+=("0"+r.charCodeAt(s).toString(16)).slice(-2);return n}function ua(r){return A(r)}function wd(r){return Yi(ua(r),64)}function Yi(r,n){return r=r.replace(new RegExp("(.{"+n+"})","g"),`$1\r
`),r=r.replace(/\s+$/,""),r}function Yo(r){var n=r.replace(/[^0-9A-Za-z\/+=]*/g,""),s=T(n);return s}function Sd(r,n){return"-----BEGIN "+n+`-----\r
`+Yi(r,64)+`\r
-----END `+n+`-----\r
`}function Bt(r,n){return"-----BEGIN "+n+`-----\r
`+Yi(ua(r),64)+`\r
-----END `+n+`-----\r
`}function yt(r,n){if(r.indexOf("-----BEGIN ")==-1)throw new Error("can't find PEM header");return n!==void 0?(r=r.replace(new RegExp("^[^]*-----BEGIN "+n+"-----"),""),r=r.replace(new RegExp("-----END "+n+"-----[^]*$"),"")):(r=r.replace(/^[^]*-----BEGIN [^-]+-----/,""),r=r.replace(/-----END [^-]+-----[^]*$/,"")),Yo(r)}function xd(r){return r.indexOf("-----BEGIN ")==-1||r.indexOf("-----END ")==-1?null:(r=r.replace(/^[\s\S]*?-----BEGIN [^-]+-----/m,""),r=r.replace(/-----END [\s\S]+$/m,""),r=r.replace(/\s+/g,""),r.match(/^[0-9a-zA-Z+/=]+$/)?r:null)}function bd(r){if(r.length%2!=0)throw"input is not even length";if(r.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var n=new ArrayBuffer(r.length/2),s=new DataView(n),o=0;o<r.length/2;o++)s.setUint8(o,parseInt(r.substr(o*2,2),16));return n}function Ed(r){for(var n="",s=new DataView(r),o=0;o<r.byteLength;o++)n+=("00"+s.getUint8(o).toString(16)).slice(-2);return n}function la(r){var n,s,o,c,l,g,p,x,v,F;if(r=Xo(r),F=r.match(/^(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/),F)return n=parseInt(F[1]),s=parseInt(F[2])-1,o=parseInt(F[3]),c=parseInt(F[4]),l=parseInt(F[5]),g=parseInt(F[6]),p=0,x=F[7],x!==""&&(v=(x.substr(1)+"00").substr(0,3),p=parseInt(v)),Date.UTC(n,s,o,c,l,g,p);throw new Error("unsupported zulu format: "+r)}function Fd(r){var n=new Date(r),s=("0000"+n.getUTCFullYear()).slice(-4),o=("00"+(n.getUTCMonth()+1)).slice(-2),c=("00"+n.getUTCDate()).slice(-2),l=("00"+n.getUTCHours()).slice(-2),g=("00"+n.getUTCMinutes()).slice(-2),p=("00"+n.getUTCSeconds()).slice(-2),x=("000"+n.getUTCMilliseconds()).slice(-3);return x=x.replace(/0+$/,""),x=x!=""?"."+x:x,s+o+c+l+g+p+x+"Z"}function Jo(r){return Math.round(la(r)/1e3)}function Ad(r){return new Date(la(r))}function Cd(r,n,s){var o,c=r.getUTCFullYear();if(n){if(c<1950||2049<c)throw"not proper year for UTCTime: "+c;o=(""+c).slice(-2)}else o=("000"+c).slice(-4);if(o+=("0"+(r.getUTCMonth()+1)).slice(-2),o+=("0"+r.getUTCDate()).slice(-2),o+=("0"+r.getUTCHours()).slice(-2),o+=("0"+r.getUTCMinutes()).slice(-2),o+=("0"+r.getUTCSeconds()).slice(-2),s){var l=r.getUTCMilliseconds();l!==0&&(l=("00"+l).slice(-3),l=l.replace(/0+$/g,""),o+="."+l)}return o+="Z",o}function Xo(r){return r.match(/^[0-9]{12}Z$/)||r.match(/^[0-9]{12}[.][0-9]*Z$/)?r.match(/^[0-4]/)?"20"+r:"19"+r:r}function Ji(r){return r.replace(/%/g,"")}function Xi(r){return r.replace(/(..)/g,"%$1")}function ca(r){var n="malformed IPv6 address";if(!r.match(/^[0-9A-Fa-f:]+$/))throw n;r=r.toLowerCase();var s=r.split(":").length-1;if(s<2)throw n;var o=":".repeat(7-s+2);r=r.replace("::",o);var c=r.split(":");if(c.length!=8)throw n;for(var l=0;l<8;l++)c[l]=("0000"+c[l]).slice(-4);return c.join("")}function fa(r){if(!r.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+r);r=r.toLowerCase();var n=r.match(/.{1,4}/g);n=n.map(function(c){return c.replace(/^0+/,"")}),n=n.map(function(c){return c==""?"0":c}),r=":"+n.join(":")+":";var s=r.match(/:(0:){2,}/g);if(s==null)return r.slice(1,-1);var o=s.sort().slice(-1)[0];return r=r.replace(o.substr(0,o.length-1),":"),r.substr(0,2)!="::"&&(r=r.substr(1)),r.substr(-2,2)!="::"&&(r=r.substr(0,r.length-1)),r}function Qi(r){var n=new Error("malformed hex value");if(!r.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw n;if(r.length==8){var s;try{return s=parseInt(r.substr(0,2),16)+"."+parseInt(r.substr(2,2),16)+"."+parseInt(r.substr(4,2),16)+"."+parseInt(r.substr(6,2),16),s}catch{throw n}}else if(r.length==16)try{return Qi(r.substr(0,8))+"/"+Qo(r.substr(8))}catch{throw n}else{if(r.length==32)return fa(r);if(r.length==64){try{return fa(r.substr(0,32))+"/"+Qo(r.substr(32))}catch{throw n}return}else return r}}function Qo(r){var n=new Error("malformed mask"),s;try{s=new C(r,16).toString(2)}catch{throw n}if(!s.match(/^1*0*$/))throw n;return s.replace(/0+$/,"").length}function ha(r){var n=new Error("malformed IP address");if(r=r.toLowerCase(r),!r.match(/^[0-9a-f.:/]+$/))throw n;if(r.match(/^[0-9.]+$/)){var s=r.split(".");if(s.length!==4)throw n;var o="";try{for(var c=0;c<4;c++){var l=parseInt(s[c]);o+=("0"+l.toString(16)).slice(-2)}return o}catch{throw n}}else if(r.match(/^[0-9.]+\/[0-9]+$/)){var g=r.split("/");return ha(g[0])+Zo(parseInt(g[1]),32)}else{if(r.match(/^[0-9a-f:]+$/)&&r.indexOf(":")!==-1)return ca(r);if(r.match(/^[0-9a-f:]+\/[0-9]+$/)&&r.indexOf(":")!==-1){var g=r.split("/");return ca(g[0])+Zo(parseInt(g[1]),128)}else throw n}}function Zo(r,n){if(n==32&&r==0)return"00000000";if(n==128&&r==0)return"00000000000000000000000000000000";var s=Array(r+1).join("1")+Array(n-r+1).join("0");return new C(s,2).toString(16)}function da(r){function n(c){var l=parseInt(c.substr(0,2),16),g=parseInt(c.substr(2),16);if(l==0&g<128)return String.fromCharCode(g);if(l<8){var p=192|(l&7)<<3|(g&192)>>6,x=128|g&63;return ze(p.toString(16)+x.toString(16))}var p=224|(l&240)>>4,x=128|(l&15)<<2|(g&192)>>6,v=128|g&63;return ze(p.toString(16)+x.toString(16)+v.toString(16))}var s=r.match(/.{4}/g),o=s.map(n);return o.join("")}function Zi(r){for(var n=encodeURIComponent(r),s="",o=0;o<n.length;o++)n[o]=="%"?(s=s+n.substr(o,3),o=o+2):s=s+"%"+Qt(n[o]);return s}function Pd(r){return r=r.replace(/\r\n/mg,`
`),r}function Td(r){return r=r.replace(/\r\n/mg,`
`),r=r.replace(/\n/mg,`\r
`),r}f.lang.String.isInteger=function(r){return r.match(/^[0-9]+$/)?!0:!!r.match(/^-[0-9]+$/)},f.lang.String.isHex=function(r){return eu(r)};function eu(r){return!!(r.length%2==0&&(r.match(/^[0-9a-f]+$/)||r.match(/^[0-9A-F]+$/)))}f.lang.String.isBase64=function(r){return r=r.replace(/\s+/g,""),!!(r.match(/^[0-9A-Za-z+\/]+={0,3}$/)&&r.length%4==0)},f.lang.String.isBase64URL=function(r){return r.match(/[+/=]/)?!1:(r=ii(r),f.lang.String.isBase64(r))};function pa(r){return!!r.match(/^[0-9A-Za-z-_.]+$/)}f.lang.String.isIntegerArray=function(r){return r=r.replace(/\s+/g,""),!!r.match(/^\[[0-9,]+\]$/)},f.lang.String.isPrintable=function(r){return r.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},f.lang.String.isIA5=function(r){return r.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},f.lang.String.isMail=function(r){return r.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};function ga(r){return r.length%2==1?"0"+r:r.substr(0,1)>"7"?"00"+r:r}function Id(r){r=r.replace(/^\s*\[\s*/,""),r=r.replace(/\s*\]\s*$/,""),r=r.replace(/\s*/g,"");try{var n=r.split(/,/).map(function(s,o,c){var l=parseInt(s);if(l<0||255<l)throw"integer not in range 0-255";var g=("00"+l.toString(16)).slice(-2);return g}).join("");return n}catch(s){throw"malformed integer array string: "+s}}var Rd=function(r,n){var s=r.length;r.length>n.length&&(s=n.length);for(var o=0;o<s;o++)if(r.charCodeAt(o)!=n.charCodeAt(o))return o;return r.length!=n.length?s:-1};function tu(r){var n=function(p){var x=p.toString(16);return x.length==1&&(x="0"+x),x},s=function(p){var x="",v=parseInt(p,10),F=v.toString(2),b=7-F.length%7;b==7&&(b=0);for(var d="",w=0;w<b;w++)d+="0";F=d+F;for(var w=0;w<F.length-1;w+=7){var m=F.substr(w,7);w!=F.length-7&&(m="1"+m),x+=n(parseInt(m,2))}return x};try{if(!r.match(/^[0-9.]+$/))return null;var o="",c=r.split("."),l=parseInt(c[0],10)*40+parseInt(c[1],10);o+=n(l),c.splice(0,2);for(var g=0;g<c.length;g++)o+=s(c[g]);return o}catch{return null}}function es(r){if(!eu(r))return null;try{var n=[],s=r.substr(0,2),o=parseInt(s,16);n[0]=new String(Math.floor(o/40)),n[1]=new String(o%40);for(var c=r.substr(2),l=[],g=0;g<c.length/2;g++)l.push(parseInt(c.substr(g*2,2),16));for(var p=[],x="",g=0;g<l.length;g++)l[g]&128?x=x+ts((l[g]&127).toString(2),7):(x=x+ts((l[g]&127).toString(2),7),p.push(new String(parseInt(x,2))),x="");var v=n.join(".");return p.length>0&&(v=v+"."+p.join(".")),v}catch{return null}}function ru(r){var n=new C(String(r),10);return ai(n)}function ai(r){var n=r.toString(16);if(n.substr(0,1)!="-")return n.length%2==1?n="0"+n:n.match(/^[0-7]/)||(n="00"+n),n;var s=n.substr(1),o=s.length;o%2==1?o+=1:n.match(/^[0-7]/)||(o+=2);for(var c="",l=0;l<o;l++)c+="f";var g=new C(c,16),p=g.xor(r).add(C.ONE);return n=p.toString(16).replace(/^-/,""),n}var ts=function(r,n,s){return s==null&&(s="0"),r.length>=n?r:new Array(n-r.length+1).join(s)+r};function nu(r){if(r.length%2!=0||(r=r.toLowerCase(),r.match(/^[0-9a-f]+$/)==null))return-1;try{var n=r.substr(0,2);if(n=="00")return parseInt(r.substr(2),16);var s=parseInt(n,16);if(s>7)return-1;var o=r.substr(2),c=parseInt(o,16).toString(2);c=="0"&&(c="00000000"),c=c.slice(0,0-s);var l=parseInt(c,2);return l==NaN?-1:l}catch{return-1}}function iu(r){if(typeof r!="number"||r<0)return null;var n=Number(r).toString(2),s=8-n.length%8;s==8&&(s=0),n=n+ts("",s,"0");var o=parseInt(n,2).toString(16);o.length%2==1&&(o="0"+o);var c="0"+s;return c+o}function su(r){if(typeof r!="string"||r.length%2!=0||!r.match(/^[0-9a-f]+$/))return null;try{var n=parseInt(r.substr(0,2),16);if(n<0||7<n)return null;for(var s=r.substr(2),o="",c=0;c<s.length;c+=2){var l=s.substr(c,2),g=parseInt(l,16).toString(2);g=("0000000"+g).slice(-8),o+=g}return o.substr(0,o.length-n)}catch{return null}}function Dd(r){if(typeof r!="string"||r.match(/^[01]+$/)==null)return null;try{var n=parseInt(r,2);return iu(n)}catch{return null}}function rs(r,n){for(var s=0,o=0;o<r.length;o++)s|=1<<n[r[o]];for(var c=s.toString(2),l="",o=c.length-1;o>=0;o--)l+=c[o];return l}function tt(r,o,s){if(typeof r=="object"){for(var o=String(o).split("."),c=0;c<o.length&&r;c++){var l=o[c];l.match(/^[0-9]+$/)&&(l=parseInt(l)),r=r[l]}return r||r===!1?r:s}}function Z(r,n){var s=function(){};s.prototype=n.prototype,r.prototype=new s,r.prototype.constructor=r,r.superclass=n.prototype,n.prototype.constructor==Object.prototype.constructor&&(n.prototype.constructor=n)}(typeof f>"u"||!f)&&(f={}),(typeof f.crypto>"u"||!f.crypto)&&(f.crypto={}),f.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:u.algo.MD5,sha1:u.algo.SHA1,sha224:u.algo.SHA224,sha256:u.algo.SHA256,sha384:u.algo.SHA384,sha512:u.algo.SHA512,ripemd160:u.algo.RIPEMD160},this.getDigestInfoHex=function(r,n){if(typeof this.DIGESTINFOHEAD[n]>"u")throw"alg not supported in Util.DIGESTINFOHEAD: "+n;return this.DIGESTINFOHEAD[n]+r},this.getPaddedDigestInfoHex=function(r,n,s){var o=this.getDigestInfoHex(r,n),c=s/4;if(o.length+22>c)throw"key is too short for SigAlg: keylen="+s+","+n;for(var l="0001",g="00"+o,p="",x=c-l.length-g.length,v=0;v<x;v+=2)p+="ff";var F=l+p+g;return F},this.hashString=function(r,n){var s=new f.crypto.MessageDigest({alg:n});return s.digestString(r)},this.hashHex=function(r,n){var s=new f.crypto.MessageDigest({alg:n});return s.digestHex(r)},this.sha1=function(r){return this.hashString(r,"sha1")},this.sha256=function(r){return this.hashString(r,"sha256")},this.sha256Hex=function(r){return this.hashHex(r,"sha256")},this.sha512=function(r){return this.hashString(r,"sha512")},this.sha512Hex=function(r){return this.hashHex(r,"sha512")},this.isKey=function(r){return r instanceof Ie||r instanceof f.crypto.DSA||r instanceof f.crypto.ECDSA}},f.crypto.Util.md5=function(r){var n=new f.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return n.digestString(r)},f.crypto.Util.ripemd160=function(r){var n=new f.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return n.digestString(r)},f.crypto.Util.SECURERANDOMGEN=new Nn,f.crypto.Util.getRandomHexOfNbytes=function(r){var n=new Array(r);return f.crypto.Util.SECURERANDOMGEN.nextBytes(n),zi(n)},f.crypto.Util.getRandomBigIntegerOfNbytes=function(r){return new C(f.crypto.Util.getRandomHexOfNbytes(r),16)},f.crypto.Util.getRandomHexOfNbits=function(r){var n=r%8,s=(r-n)/8,o=new Array(s+1);return f.crypto.Util.SECURERANDOMGEN.nextBytes(o),o[0]=(255<<n&255^255)&o[0],zi(o)},f.crypto.Util.getRandomBigIntegerOfNbits=function(r){return new C(f.crypto.Util.getRandomHexOfNbits(r),16)},f.crypto.Util.getRandomBigIntegerZeroToMax=function(r){for(var n=r.bitLength();;){var s=f.crypto.Util.getRandomBigIntegerOfNbits(n);if(r.compareTo(s)!=-1)return s}},f.crypto.Util.getRandomBigIntegerMinToMax=function(r,n){var s=r.compareTo(n);if(s==1)throw"biMin is greater than biMax";if(s==0)return r;var o=n.subtract(r),c=f.crypto.Util.getRandomBigIntegerZeroToMax(o);return c.add(r)},f.crypto.MessageDigest=function(r){this.setAlgAndProvider=function(n,s){if(n=f.crypto.MessageDigest.getCanonicalAlgName(n),n!==null&&s===void 0&&(s=f.crypto.Util.DEFAULTPROVIDER[n]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)!=-1&&s=="cryptojs"){try{this.md=f.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n].create()}catch(o){throw"setAlgAndProvider hash alg set fail alg="+n+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var c=u.enc.Hex.parse(o);this.md.update(c)},this.digest=function(){var o=this.md.finalize();return o.toString(u.enc.Hex)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}if(":sha256:".indexOf(n)!=-1&&s=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(o){throw"setAlgAndProvider hash alg set fail alg="+n+"/"+o}this.updateString=function(o){this.md.update(o)},this.updateHex=function(o){var c=sjcl.codec.hex.toBits(o);this.md.update(c)},this.digest=function(){var o=this.md.finalize();return sjcl.codec.hex.fromBits(o)},this.digestString=function(o){return this.updateString(o),this.digest()},this.digestHex=function(o){return this.updateHex(o),this.digest()}}},this.updateString=function(n){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(n){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(n){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},r!==void 0&&r.alg!==void 0&&(this.algName=r.alg,r.prov===void 0&&(this.provName=f.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},f.crypto.MessageDigest.getCanonicalAlgName=function(r){return typeof r=="string"&&(r=r.toLowerCase(),r=r.replace(/-/,"")),r},f.crypto.MessageDigest.getHashLength=function(r){var n=f.crypto.MessageDigest,s=n.getCanonicalAlgName(r);if(n.HASHLENGTH[s]===void 0)throw"not supported algorithm: "+r;return n.HASHLENGTH[s]},f.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},f.crypto.Mac=function(r){this.setAlgAndProvider=function(n,s){if(n=n.toLowerCase(),n==null&&(n="hmacsha1"),n=n.toLowerCase(),n.substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+n;s===void 0&&(s=f.crypto.Util.DEFAULTPROVIDER[n]),this.algProv=n+"/"+s;var o=n.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(o)!=-1&&s=="cryptojs"){try{var c=f.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[o];this.mac=u.algo.HMAC.create(c,this.pass)}catch(l){throw"setAlgAndProvider hash alg set fail hashAlg="+o+"/"+l}this.updateString=function(l){this.mac.update(l)},this.updateHex=function(l){var g=u.enc.Hex.parse(l);this.mac.update(g)},this.doFinal=function(){var l=this.mac.finalize();return l.toString(u.enc.Hex)},this.doFinalString=function(l){return this.updateString(l),this.doFinal()},this.doFinalHex=function(l){return this.updateHex(l),this.doFinal()}}},this.updateString=function(n){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(n){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(n){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(n){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(n){if(typeof n=="string"){var s=n;(n.length%2==1||!n.match(/^[0-9A-Fa-f]+$/))&&(s=Pr(n)),this.pass=u.enc.Hex.parse(s);return}if(typeof n!="object")throw"KJUR.crypto.Mac unsupported password type: "+n;var s=null;if(n.hex!==void 0){if(n.hex.length%2!=0||!n.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+n.hex;s=n.hex}if(n.utf8!==void 0&&(s=Gi(n.utf8)),n.rstr!==void 0&&(s=Pr(n.rstr)),n.b64!==void 0&&(s=T(n.b64)),n.b64u!==void 0&&(s=ht(n.b64u)),s==null)throw"KJUR.crypto.Mac unsupported password type: "+n;this.pass=u.enc.Hex.parse(s)},r!==void 0&&(r.pass!==void 0&&this.setPassword(r.pass),r.alg!==void 0&&(this.algName=r.alg,r.prov===void 0&&(this.provName=f.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},f.crypto.Signature=function(r){var n=null;if(this._setAlgNames=function(){var s=this.algName.match(/^(.+)with(.+)$/);s&&(this.mdAlgName=s[1].toLowerCase(),this.pubkeyAlgName=s[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(s,o){for(var c="",l=o/4-s.length,g=0;g<l;g++)c=c+"0";return c+s},this.setAlgAndProvider=function(s,o){if(this._setAlgNames(),o!="cryptojs/jsrsa")throw new Error("provider not supported: "+o);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new f.crypto.MessageDigest({alg:this.mdAlgName})}catch(c){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+c)}this.init=function(c,l){var g=null;try{l===void 0?g=He.getKey(c):g=He.getKey(c,l)}catch(p){throw"init failed:"+p}if(g.isPrivate===!0)this.prvKey=g,this.state="SIGN";else if(g.isPublic===!0)this.pubKey=g,this.state="VERIFY";else throw"init failed.:"+g},this.updateString=function(c){this.md.updateString(c)},this.updateHex=function(c){this.md.updateHex(c)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&f.crypto.ECDSA!==void 0&&(this.prvKey=new f.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Ie&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Ie&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof f.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else if(this.prvKey instanceof f.crypto.DSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;return this.hSign},this.signString=function(c){return this.updateString(c),this.sign()},this.signHex=function(c){return this.updateHex(c),this.sign()},this.verify=function(c){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&f.crypto.ECDSA!==void 0&&(this.pubKey=new f.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Ie&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,c,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Ie&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,c);if(f.crypto.ECDSA!==void 0&&this.pubKey instanceof f.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,c);if(f.crypto.DSA!==void 0&&this.pubKey instanceof f.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,c);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(s,o){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(s){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(s){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(s){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(s){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(s){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=r,r!==void 0&&(r.alg!==void 0&&(this.algName=r.alg,r.prov===void 0?this.provName=f.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=r.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),r.psssaltlen!==void 0&&(this.pssSaltLen=r.psssaltlen),r.prvkeypem!==void 0)){if(r.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{var n=He.getKey(r.prvkeypem);this.init(n)}catch(s){throw"fatal error to load pem private key: "+s}}},f.crypto.Cipher=function(r){},f.crypto.Cipher.encrypt=function(r,n,s,o){if(tt(o,"enclag")!=null&&(s=o.encalg),typeof s=="string"&&s.substr(-4)=="-CBC"){var c=n,l=r;tt(o,"key")!=null&&(c=o.key),tt(o,"enc")!=null&&(hEnc=o.enc);var g=u.enc.Hex.parse(c),p=u.enc.Hex.parse(l),x=u.enc.Hex.parse(o.iv),v;if(s=="des-EDE3-CBC")v=u.TripleDES.encrypt(p,g,{iv:x});else if(s=="aes128-CBC"||s=="aes256-CBC")v=u.AES.encrypt(p,g,{iv:x});else throw new Error("unsupported algorithm: "+s);return v+""}else throw new Error("Cipher.encrypt: unsupported key or algorithm")},f.crypto.Cipher.decrypt=function(r,n,s,o){if(tt(o,"enclag")!=null&&(s=o.encalg),typeof s=="string"&&s.substr(-4)=="-CBC"){var c=n,l=r;tt(o,"key")!=null&&(c=o.key),tt(o,"enc")!=null&&(l=o.enc);var g=u.enc.Hex.parse(c),p=u.enc.Hex.parse(l),x=u.enc.Hex.parse(o.iv),v;if(s=="des-EDE3-CBC")v=u.TripleDES.decrypt({ciphertext:p},g,{iv:x});else if(s=="aes128-CBC"||s=="aes256-CBC")v=u.AES.decrypt({ciphertext:p},g,{iv:x});else throw new Error("unsupported algorithm: "+s);return u.enc.Hex.stringify(v)}else throw new Error("Cipher.decrypt: unsupported key or algorithm")},f.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},(typeof f>"u"||!f)&&(f={}),(typeof f.crypto>"u"||!f.crypto)&&(f.crypto={}),f.crypto.ECDSA=function(r){var n="secp256r1",s=Error,o=C,c=Ve,l=f.crypto.ECDSA,g=f.crypto.ECParameterDB,p=l.getName,x=ue,v=x.getVbyListEx,F=x.isASN1HEX,b=new Nn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(d){return new o(d.bitLength(),b).mod(d.subtract(o.ONE)).add(o.ONE)},this.setNamedCurve=function(d){this.ecparams=g.getByName(d),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=d},this.setPrivateKeyHex=function(d){this.isPrivate=!0,this.prvKeyHex=d},this.setPublicKeyHex=function(d){this.isPublic=!0,this.pubKeyHex=d},this.getPublicKeyXYHex=function(){var d=this.pubKeyHex;if(d.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var w=this.ecparams.keycharlen;if(d.length!==2+w*2)throw"malformed public key hex length";var m={};return m.x=d.substr(2,w),m.y=d.substr(2+w),m},this.getShortNISTPCurveName=function(){var d=this.curveName;return d==="secp256r1"||d==="NIST P-256"||d==="P-256"||d==="prime256v1"?"P-256":d==="secp384r1"||d==="NIST P-384"||d==="P-384"?"P-384":d==="secp521r1"||d==="NIST P-521"||d==="P-521"?"P-521":null},this.generateKeyPairHex=function(){var d=this.ecparams.n,w=this.getBigRandom(d),m=this.ecparams.keycharlen,S=("0000000000"+w.toString(16)).slice(-m);this.setPrivateKeyHex(S);var E=this.generatePublicKeyHex();return{ecprvhex:S,ecpubhex:E}},this.generatePublicKeyHex=function(){var d=new o(this.prvKeyHex,16),w=this.ecparams.G.multiply(d),m=w.getX().toBigInteger(),S=w.getY().toBigInteger(),E=this.ecparams.keycharlen,P=("0000000000"+m.toString(16)).slice(-E),H=("0000000000"+S.toString(16)).slice(-E),K="04"+P+H;return this.setPublicKeyHex(K),K},this.signWithMessageHash=function(d){return this.signHex(d,this.prvKeyHex)},this.signHex=function(d,w){var m=new o(w,16),S=this.ecparams.n,E=new o(d.substring(0,this.ecparams.keycharlen),16);do var P=this.getBigRandom(S),H=this.ecparams.G,K=H.multiply(P),k=K.getX().toBigInteger().mod(S);while(k.compareTo(o.ZERO)<=0);var U=P.modInverse(S).multiply(E.add(m.multiply(k))).mod(S);return l.biRSSigToASN1Sig(k,U)},this.sign=function(d,w){var m=w,S=this.ecparams.n,E=o.fromByteArrayUnsigned(d);do var P=this.getBigRandom(S),H=this.ecparams.G,K=H.multiply(P),k=K.getX().toBigInteger().mod(S);while(k.compareTo(C.ZERO)<=0);var U=P.modInverse(S).multiply(E.add(m.multiply(k))).mod(S);return this.serializeSig(k,U)},this.verifyWithMessageHash=function(d,w){return this.verifyHex(d,w,this.pubKeyHex)},this.verifyHex=function(d,w,m){try{var S,E,P=l.parseSigHex(w);S=P.r,E=P.s;var H=c.decodeFromHex(this.ecparams.curve,m),K=new o(d.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(K,S,E,H)}catch{return!1}},this.verify=function(d,w,m){var S,E;if(Bitcoin.Util.isArray(w)){var P=this.parseSig(w);S=P.r,E=P.s}else if(typeof w=="object"&&w.r&&w.s)S=w.r,E=w.s;else throw"Invalid value for signature";var H;if(m instanceof Ve)H=m;else if(Bitcoin.Util.isArray(m))H=c.decodeFrom(this.ecparams.curve,m);else throw"Invalid format for pubkey value, must be byte array or ECPointFp";var K=o.fromByteArrayUnsigned(d);return this.verifyRaw(K,S,E,H)},this.verifyRaw=function(d,w,m,S){var E=this.ecparams.n,P=this.ecparams.G;if(w.compareTo(o.ONE)<0||w.compareTo(E)>=0||m.compareTo(o.ONE)<0||m.compareTo(E)>=0)return!1;var H=m.modInverse(E),K=d.multiply(H).mod(E),k=w.multiply(H).mod(E),U=P.multiply(K).add(S.multiply(k)),I=U.getX().toBigInteger().mod(E);return I.equals(w)},this.serializeSig=function(d,w){var m=d.toByteArraySigned(),S=w.toByteArraySigned(),E=[];return E.push(2),E.push(m.length),E=E.concat(m),E.push(2),E.push(S.length),E=E.concat(S),E.unshift(E.length),E.unshift(48),E},this.parseSig=function(d){var w;if(d[0]!=48)throw new Error("Signature not a valid DERSequence");if(w=2,d[w]!=2)throw new Error("First element in signature must be a DERInteger");var m=d.slice(w+2,w+2+d[w+1]);if(w+=2+d[w+1],d[w]!=2)throw new Error("Second element in signature must be a DERInteger");var S=d.slice(w+2,w+2+d[w+1]);w+=2+d[w+1];var E=o.fromByteArrayUnsigned(m),P=o.fromByteArrayUnsigned(S);return{r:E,s:P}},this.parseSigCompact=function(d){if(d.length!==65)throw"Signature has the wrong length";var w=d[0]-27;if(w<0||w>7)throw"Invalid signature type";var m=this.ecparams.n,S=o.fromByteArrayUnsigned(d.slice(1,33)).mod(m),E=o.fromByteArrayUnsigned(d.slice(33,65)).mod(m);return{r:S,s:E,i:w}},this.readPKCS5PrvKeyHex=function(d){if(F(d)===!1)throw new Error("not ASN.1 hex string");var w,m,S;try{w=v(d,0,["[0]",0],"06"),m=v(d,0,[1],"04");try{S=v(d,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=p(w),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(S),this.setPrivateKeyHex(m),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(d){if(F(d)===!1)throw new s("not ASN.1 hex string");var w,m,S,E;try{w=v(d,0,[1,0],"06"),m=v(d,0,[1,1],"06"),S=v(d,0,[2,0,1],"04");try{E=v(d,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new s("malformed PKCS#8 plain ECC private key")}if(this.curveName=p(m),this.curveName===void 0)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(E),this.setPrivateKeyHex(S),this.isPublic=!1},this.readPKCS8PubKeyHex=function(d){if(F(d)===!1)throw new s("not ASN.1 hex string");var w,m,S;try{w=v(d,0,[0,0],"06"),m=v(d,0,[0,1],"06"),S=v(d,0,[1],"03")}catch{throw new s("malformed PKCS#8 ECC public key")}if(this.curveName=p(m),this.curveName===null)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(S)},this.readCertPubKeyHex=function(d,w){if(F(d)===!1)throw new s("not ASN.1 hex string");var m,S;try{m=v(d,0,[0,5,0,1],"06"),S=v(d,0,[0,5,1],"03")}catch{throw new s("malformed X.509 certificate ECC public key")}if(this.curveName=p(m),this.curveName===null)throw new s("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(S)},r!==void 0&&r.curve!==void 0&&(this.curveName=r.curve),this.curveName===void 0&&(this.curveName=n),this.setNamedCurve(this.curveName),r!==void 0&&(r.prv!==void 0&&this.setPrivateKeyHex(r.prv),r.pub!==void 0&&this.setPublicKeyHex(r.pub))},f.crypto.ECDSA.parseSigHex=function(r){var n=f.crypto.ECDSA.parseSigHexInHexRS(r),s=new C(n.r,16),o=new C(n.s,16);return{r:s,s:o}},f.crypto.ECDSA.parseSigHexInHexRS=function(r){var n=ue,s=n.getChildIdx,o=n.getV;if(n.checkStrictDER(r,0),r.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var c=s(r,0);if(c.length!=2)throw new Error("signature shall have two elements");var l=c[0],g=c[1];if(r.substr(l,2)!="02")throw new Error("1st item not ASN.1 integer");if(r.substr(g,2)!="02")throw new Error("2nd item not ASN.1 integer");var p=o(r,l),x=o(r,g);return{r:p,s:x}},f.crypto.ECDSA.asn1SigToConcatSig=function(r){var n=f.crypto.ECDSA.parseSigHexInHexRS(r),s=n.r,o=n.s;if(s.length>=130&&s.length<=134){if(s.length%2!=0)throw Error("unknown ECDSA sig r length error");if(o.length%2!=0)throw Error("unknown ECDSA sig s length error");s.substr(0,2)=="00"&&(s=s.substr(2)),o.substr(0,2)=="00"&&(o=o.substr(2));var c=Math.max(s.length,o.length);return s=("000000"+s).slice(-c),o=("000000"+o).slice(-c),s+o}if(s.substr(0,2)=="00"&&s.length%32==2&&(s=s.substr(2)),o.substr(0,2)=="00"&&o.length%32==2&&(o=o.substr(2)),s.length%32==30&&(s="00"+s),o.length%32==30&&(o="00"+o),s.length%32!=0)throw Error("unknown ECDSA sig r length error");if(o.length%32!=0)throw Error("unknown ECDSA sig s length error");return s+o},f.crypto.ECDSA.concatSigToASN1Sig=function(r){if(r.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var n=r.substr(0,r.length/2),s=r.substr(r.length/2);return f.crypto.ECDSA.hexRSSigToASN1Sig(n,s)},f.crypto.ECDSA.hexRSSigToASN1Sig=function(r,n){var s=new C(r,16),o=new C(n,16);return f.crypto.ECDSA.biRSSigToASN1Sig(s,o)},f.crypto.ECDSA.biRSSigToASN1Sig=function(r,n){var s=f.asn1,o=new s.DERInteger({bigint:r}),c=new s.DERInteger({bigint:n}),l=new s.DERSequence({array:[o,c]});return l.tohex()},f.crypto.ECDSA.getName=function(r){return r==="2b8104001f"?"secp192k1":r==="2a8648ce3d030107"?"secp256r1":r==="2b8104000a"?"secp256k1":r==="2b81040021"?"secp224r1":r==="2b81040022"?"secp384r1":r==="2b81040023"?"secp521r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(r)!==-1?"secp256r1":"|secp256k1|".indexOf(r)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(r)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(r)!==-1?"secp384r1":"|secp521r1|NIST P-521|P-521|".indexOf(r)!==-1?"secp521r1":null},(typeof f>"u"||!f)&&(f={}),(typeof f.crypto>"u"||!f.crypto)&&(f.crypto={}),f.crypto.ECParameterDB=new function(){var r={},n={};function s(o){return new C(o,16)}this.getByName=function(o){var c=o;if(typeof n[c]<"u"&&(c=n[o]),typeof r[c]<"u")return r[c];throw"unregistered EC curve name: "+c},this.regist=function(o,c,l,g,p,x,v,F,b,d,w,m){r[o]={};var S=s(l),E=s(g),P=s(p),H=s(x),K=s(v),k=new Kr(S,E,P),U=k.decodePointHex("04"+F+b);r[o].name=o,r[o].keylen=c,r[o].keycharlen=Math.ceil(c/8)*2,r[o].curve=k,r[o].G=U,r[o].n=H,r[o].h=K,r[o].oid=w,r[o].info=m;for(var I=0;I<d.length;I++)n[d[I]]=o}},f.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),f.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),f.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),f.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),f.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),f.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),f.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),f.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),f.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),f.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),(typeof f>"u"||!f)&&(f={}),(typeof f.crypto>"u"||!f.crypto)&&(f.crypto={}),f.crypto.DSA=function(){var r=ue;r.getVbyList;var n=r.getVbyListEx,s=r.isASN1HEX,o=C;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(c,l,g,p,x){this.isPrivate=!0,this.p=c,this.q=l,this.g=g,this.y=p,this.x=x},this.setPrivateHex=function(c,l,g,p,x){var v,F,b,d,w;v=new C(c,16),F=new C(l,16),b=new C(g,16),typeof p=="string"&&p.length>1?d=new C(p,16):d=null,w=new C(x,16),this.setPrivate(v,F,b,d,w)},this.setPublic=function(c,l,g,p){this.isPublic=!0,this.p=c,this.q=l,this.g=g,this.y=p,this.x=null},this.setPublicHex=function(c,l,g,p){var x,v,F,b;x=new C(c,16),v=new C(l,16),F=new C(g,16),b=new C(p,16),this.setPublic(x,v,F,b)},this.signWithMessageHash=function(c){var l=this.p,g=this.q,p=this.g;this.y;var x=this.x,v=f.crypto.Util.getRandomBigIntegerMinToMax(C.ONE.add(C.ONE),g.subtract(C.ONE)),F=c.substr(0,g.bitLength()/4),b=new C(F,16),d=p.modPow(v,l).mod(g),w=v.modInverse(g).multiply(b.add(x.multiply(d))).mod(g),m=f.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:d}},{int:{bigint:w}}]});return m},this.verifyWithMessageHash=function(c,l){var g=this.p,p=this.q,x=this.g,v=this.y,F=this.parseASN1Signature(l),b=F[0],d=F[1],w=c.substr(0,p.bitLength()/4),m=new C(w,16);if(C.ZERO.compareTo(b)>0||b.compareTo(p)>0||C.ZERO.compareTo(d)>=0||d.compareTo(p)>0)throw"invalid DSA signature";var S=d.modInverse(p),E=m.multiply(S).mod(p),P=b.multiply(S).mod(p),H=x.modPow(E,g).multiply(v.modPow(P,g)).mod(g).mod(p);return H.compareTo(b)==0},this.parseASN1Signature=function(c){try{var l=new o(n(c,0,[0],"02"),16),g=new o(n(c,0,[1],"02"),16);return[l,g]}catch{throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(c){var l,g,p,x,v;if(s(c)===!1)throw new Error("not ASN.1 hex string");try{l=n(c,0,[1],"02"),g=n(c,0,[2],"02"),p=n(c,0,[3],"02"),x=n(c,0,[4],"02"),v=n(c,0,[5],"02")}catch{throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(l,g,p,x,v)},this.readPKCS8PrvKeyHex=function(c){var l,g,p,x;if(s(c)===!1)throw new Error("not ASN.1 hex string");try{l=n(c,0,[1,1,0],"02"),g=n(c,0,[1,1,1],"02"),p=n(c,0,[1,1,2],"02"),x=n(c,0,[2,0],"02")}catch{throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(l,g,p,null,x)},this.readPKCS8PubKeyHex=function(c){var l,g,p,x;if(s(c)===!1)throw new Error("not ASN.1 hex string");try{l=n(c,0,[0,1,0],"02"),g=n(c,0,[0,1,1],"02"),p=n(c,0,[0,1,2],"02"),x=n(c,0,[1,0],"02")}catch{throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(l,g,p,x)},this.readCertPubKeyHex=function(c,l){var g,p,x,v;if(s(c)===!1)throw new Error("not ASN.1 hex string");try{g=n(c,0,[0,5,0,1,0],"02"),p=n(c,0,[0,5,0,1,1],"02"),x=n(c,0,[0,5,0,1,2],"02"),v=n(c,0,[0,5,1,0],"02")}catch{throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(g,p,x,v)}};var He=function(){var r=function(m,S,E){return o(u.AES,m,S,E)},n=function(m,S,E){return o(u.TripleDES,m,S,E)},s=function(m,S,E){return o(u.DES,m,S,E)},o=function(m,S,E,P){var H=u.enc.Hex.parse(S),K=u.enc.Hex.parse(E),k=u.enc.Hex.parse(P),U={};U.key=K,U.iv=k,U.ciphertext=H;var I=m.decrypt(U,K,{iv:k});return u.enc.Hex.stringify(I)},c=function(m,S,E){return p(u.AES,m,S,E)},l=function(m,S,E){return p(u.TripleDES,m,S,E)},g=function(m,S,E){return p(u.DES,m,S,E)},p=function(m,S,E,P){var H=u.enc.Hex.parse(S),K=u.enc.Hex.parse(E),k=u.enc.Hex.parse(P),U=m.encrypt(H,K,{iv:k}),I=u.enc.Hex.parse(U.toString()),_=u.enc.Base64.stringify(I);return _},x={"AES-256-CBC":{proc:r,eproc:c,keylen:32,ivlen:16},"AES-192-CBC":{proc:r,eproc:c,keylen:24,ivlen:16},"AES-128-CBC":{proc:r,eproc:c,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:n,eproc:l,keylen:24,ivlen:8},"DES-CBC":{proc:s,eproc:g,keylen:8,ivlen:8}},v=function(m){var S=u.lib.WordArray.random(m),E=u.enc.Hex.stringify(S);return E},F=function(m){var S={},E=m.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));E&&(S.cipher=E[1],S.ivsalt=E[2]);var P=m.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));P&&(S.type=P[1]);var H=-1,K=0;m.indexOf(`\r
\r
`)!=-1&&(H=m.indexOf(`\r
\r
`),K=2),m.indexOf(`

`)!=-1&&(H=m.indexOf(`

`),K=1);var k=m.indexOf("-----END");if(H!=-1&&k!=-1){var U=m.substring(H+K*2,k-K);U=U.replace(/\s+/g,""),S.data=U}return S},b=function(m,S,E){for(var P=E.substring(0,16),H=u.enc.Hex.parse(P),K=u.enc.Utf8.parse(S),k=x[m].keylen+x[m].ivlen,U="",I=null;;){var _=u.algo.MD5.create();if(I!=null&&_.update(I),_.update(K),_.update(H),I=_.finalize(),U=U+u.enc.Hex.stringify(I),U.length>=k*2)break}var N={};return N.keyhex=U.substr(0,x[m].keylen*2),N.ivhex=U.substr(x[m].keylen*2,x[m].ivlen*2),N},d=function(m,S,E,P){var H=u.enc.Base64.parse(m),K=u.enc.Hex.stringify(H),k=x[S].proc,U=k(K,E,P);return U},w=function(m,S,E,P){var H=x[S].eproc,K=H(m,E,P);return K};return{version:"1.0.0",parsePKCS5PEM:function(m){return F(m)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(m,S,E){return b(m,S,E)},decryptKeyB64:function(m,S,E,P){return d(m,S,E,P)},getDecryptedKeyHex:function(m,S){var E=F(m),P=E.cipher,H=E.ivsalt,K=E.data,k=b(P,S,H),U=k.keyhex,I=d(K,P,U,H);return I},getEncryptedPKCS5PEMFromPrvKeyHex:function(m,S,E,P,H){var R="";if((typeof P>"u"||P==null)&&(P="AES-256-CBC"),typeof x[P]>"u")throw new Error("KEYUTIL unsupported algorithm: "+P);if(typeof H>"u"||H==null){var K=x[P].ivlen,k=v(K);H=k.toUpperCase()}var U=b(P,E,H),I=U.keyhex,_=w(S,P,I,H),N=_.replace(/(.{64})/g,`$1\r
`),R="-----BEGIN "+m+` PRIVATE KEY-----\r
`;return R+=`Proc-Type: 4,ENCRYPTED\r
`,R+="DEK-Info: "+P+","+H+`\r
`,R+=`\r
`,R+=N,R+=`\r
-----END `+m+` PRIVATE KEY-----\r
`,R},getEncryptedPKCS8PEM:function(m,S,E){var P=this.getEncryptedPKCS8Hex(m,S,E);return Bt(P,"ENCRYPTED PRIVATE KEY")},getEncryptedPKCS8Hex:function(m,S,E){var P;E==null||E==null?P={}:P=JSON.parse(JSON.stringify(E)),P.plain=m,this.initPBES2Param(P),this.encryptPBES2Param(P,S);var H=this.generatePBES2ASN1Param(P);return f.asn1.ASN1Util.newObject(H).tohex()},initPBES2Param:function(m){if(tt(m,"encalg")==null&&(m.encalg="aes256-CBC"),tt(m,"iter")==null&&(m.iter=2048),tt(m,"prf")==null&&(m.prf="hmacWithSHA256"),tt(m,"salt")==null&&(m.salt=u.enc.Hex.stringify(u.lib.WordArray.random(8))),tt(m,"enciv")==null){var S;m.encalg=="des-EDE3-CBC"&&(S=8),m.encalg=="aes128-CBC"&&(S=16),m.encalg=="aes256-CBC"&&(S=16),m.enciv=u.enc.Hex.stringify(u.lib.WordArray.random(S))}},encryptPBES2Param:function(m,S){var E=He.getDKFromPBES2Param(m,S);try{var P=f.crypto.Cipher.encrypt(m.plain,E,m.encalg,{iv:m.enciv})}catch{throw new Error("encrypt error: "+m.plain+" "+E+" "+m.encalg+" "+m.enciv)}m.enc=P},generatePBES2ASN1Param:function(m){var S={seq:[{seq:[{oid:"pkcs5PBES2"},{seq:[{seq:[{oid:"pkcs5PBKDF2"},{seq:[{octstr:{hex:m.salt}},{int:{hex:ru(m.iter)}}]}]},{seq:[{oid:m.encalg},{octstr:{hex:m.enciv}}]}]}]},{octstr:{hex:m.enc}}]};return m.prf!="hmacWithSHA1"&&S.seq[0].seq[1].seq[0].seq[1].seq.push({seq:[{oid:m.prf},{null:""}]}),S},parseHexOfEncryptedPKCS8:function(m){var S=ue,E=S.getChildIdx,P=S.getV,H={},K=E(m,0);if(K.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+K.length);H.ciphertext=P(m,K[1]);var k=E(m,K[0]);if(k.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+k.length);if(P(m,k[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var U=E(m,k[1]);if(k.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+U.length);var I=E(m,U[1]);if(I.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+I.length);if(P(m,I[0])!="2a864886f70d0307")throw"this only supports TripleDES";H.encryptionSchemeAlg="TripleDES",H.encryptionSchemeIV=P(m,I[1]);var _=E(m,U[0]);if(_.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+_.length);if(P(m,_[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var N=E(m,_[1]);if(N.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+N.length);H.pbkdf2Salt=P(m,N[0]);var R=P(m,N[1]);try{H.pbkdf2Iter=parseInt(R,16)}catch{throw new Error("malformed format pbkdf2Iter: "+R)}return H},getPBKDF2KeyHexFromParam:function(m,S){var E=u.enc.Hex.parse(m.pbkdf2Salt),P=m.pbkdf2Iter,H=u.PBKDF2(S,E,{keySize:192/32,iterations:P}),K=u.enc.Hex.stringify(H);return K},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(m,S){var E=yt(m,"ENCRYPTED PRIVATE KEY"),P=this.parseHexOfEncryptedPKCS8(E),H=He.getPBKDF2KeyHexFromParam(P,S),K={};K.ciphertext=u.enc.Hex.parse(P.ciphertext);var k=u.enc.Hex.parse(H),U=u.enc.Hex.parse(P.encryptionSchemeIV),I=u.TripleDES.decrypt(K,k,{iv:U}),_=u.enc.Hex.stringify(I);return _},parsePBES2:function(m){var S=ue.parse(m);if(tt(S,"seq.0.seq.0.oid")!="pkcs5PBES2"||tt(S,"seq.0.seq.1.seq.0.seq.0.oid")!="pkcs5PBKDF2")throw new Error("not pkcs5PBES2 and pkcs5PBKDF2 used");var E=tt(S,"seq.0.seq.1.seq.0.seq.1.seq");if(E==null)throw new Error("PBKDF2 parameter not found");var P=tt(E,"0.octstr.hex"),H=tt(E,"1.int.hex"),K=tt(E,"2.seq.0.oid","hmacWithSHA1"),k=-1;try{k=parseInt(H,16)}catch{throw new Error("iter not proper value")}var U=tt(S,"seq.0.seq.1.seq.1.seq.0.oid"),I=tt(S,"seq.0.seq.1.seq.1.seq.1.octstr.hex"),_=tt(S,"seq.1.octstr.hex");if(U==null||I==null||_==null)throw new Error("encalg, enciv or enc is undefined");var N={salt:P,iter:k,prf:K,encalg:U,enciv:I,enc:_};return N},getDKFromPBES2Param:function(m,S){var E={hmacWithSHA1:u.algo.SHA1,hmacWithSHA224:u.algo.SHA224,hmacWithSHA256:u.algo.SHA256,hmacWithSHA384:u.algo.SHA384,hmacWithSHA512:u.algo.SHA512},P={"des-EDE3-CBC":192/32,"aes128-CBC":128/32,"aes256-CBC":256/32},H=E[m.prf];if(H==null)throw new Error("unsupported prf");var K=P[m.encalg];if(K==null)throw new Error("unsupported encalg");var k=u.enc.Hex.parse(m.salt),U=m.iter;try{var I=u.PBKDF2(S,k,{keySize:K,iterations:U,hasher:H});return u.enc.Hex.stringify(I)}catch(_){throw new Error("PBKDF2 error: "+_+" "+JSON.stringify(m)+" "+S)}},getPlainHexFromEncryptedPKCS8PEM:function(m,S){if(m.indexOf("BEGIN ENCRYPTED PRIVATE KEY")==-1)throw new Error("not Encrypted PKCS#8 PEM string");var E=yt(m),P;try{P=He.parsePBES2(E)}catch(K){throw new Error("malformed PBES2 format: "+K.message)}var H=He.getDKFromPBES2Param(P,S);return f.crypto.Cipher.decrypt(P.enc,H,P.encalg,{iv:P.enciv})},getKeyFromEncryptedPKCS8PEM:function(m,S){var E=this.getPlainHexFromEncryptedPKCS8PEM(m,S),P=this.getKeyFromPlainPrivatePKCS8Hex(E);return P},parsePlainPrivatePKCS8Hex:function(m){var S=ue,E=S.getChildIdx,P=S.getV,H={};if(H.algparam=null,m.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var K=E(m,0);if(K.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(m.substr(K[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var k=E(m,K[1]);if(k.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(m.substr(k[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(H.algoid=P(m,k[0]),m.substr(k[1],2)=="06"&&(H.algparam=P(m,k[1])),m.substr(K[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return H.keyidx=S.getVidx(m,K[2]),H},getKeyFromPlainPrivatePKCS8PEM:function(m){var S=yt(m,"PRIVATE KEY"),E=this.getKeyFromPlainPrivatePKCS8Hex(S);return E},getKeyFromPlainPrivatePKCS8Hex:function(m){var S=this.parsePlainPrivatePKCS8Hex(m),E;if(S.algoid=="2a864886f70d010101")E=new Ie;else if(S.algoid=="2a8648ce380401")E=new f.crypto.DSA;else if(S.algoid=="2a8648ce3d0201")E=new f.crypto.ECDSA;else throw new Error("unsupported private key algorithm");return E.readPKCS8PrvKeyHex(m),E},_getKeyFromPublicPKCS8Hex:function(m){var S,E=ue.getVbyList(m,0,[0,0],"06");if(E==="2a864886f70d010101")S=new Ie;else if(E==="2a8648ce380401")S=new f.crypto.DSA;else if(E==="2a8648ce3d0201")S=new f.crypto.ECDSA;else throw new Error("unsupported PKCS#8 public key hex");return S.readPKCS8PubKeyHex(m),S},parsePublicRawRSAKeyHex:function(m){var S=ue,E=S.getChildIdx,P=S.getV,H={};if(m.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var K=E(m,0);if(K.length!=2)throw new Error("malformed RSA key(code:002)");if(m.substr(K[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(H.n=P(m,K[0]),m.substr(K[1],2)!="02")throw new Error("malformed RSA key(code:004)");return H.e=P(m,K[1]),H},parsePublicPKCS8Hex:function(m){var S=ue,E=S.getChildIdx,P=S.getV,H={};H.algparam=null;var K=E(m,0);if(K.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+K.length);var k=K[0];if(m.substr(k,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var U=E(m,k);if(U.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(m.substr(U[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(H.algoid=P(m,U[0]),m.substr(U[1],2)=="06"?H.algparam=P(m,U[1]):m.substr(U[1],2)=="30"&&(H.algparam={},H.algparam.p=S.getVbyList(m,U[1],[0],"02"),H.algparam.q=S.getVbyList(m,U[1],[1],"02"),H.algparam.g=S.getVbyList(m,U[1],[2],"02")),m.substr(K[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return H.key=P(m,K[1]).substr(2),H}}}();He.getKey=function(r,n,s){var o=ue,c=o.getChildIdx;o.getV;var l=o.getVbyList,g=f.crypto,p=g.ECDSA,x=g.DSA,v=Ie,F=yt,b=He;if(typeof v<"u"&&r instanceof v||typeof p<"u"&&r instanceof p||typeof x<"u"&&r instanceof x)return r;if(r.curve!==void 0&&r.xy!==void 0&&r.d===void 0)return new p({pub:r.xy,curve:r.curve});if(r.curve!==void 0&&r.d!==void 0)return new p({prv:r.d,curve:r.curve});if(r.kty===void 0&&r.n!==void 0&&r.e!==void 0&&r.d===void 0){var d=new v;return d.setPublic(r.n,r.e),d}if(r.kty===void 0&&r.n!==void 0&&r.e!==void 0&&r.d!==void 0&&r.p!==void 0&&r.q!==void 0&&r.dp!==void 0&&r.dq!==void 0&&r.co!==void 0&&r.qi===void 0){var d=new v;return d.setPrivateEx(r.n,r.e,r.d,r.p,r.q,r.dp,r.dq,r.co),d}if(r.kty===void 0&&r.n!==void 0&&r.e!==void 0&&r.d!==void 0&&r.p===void 0){var d=new v;return d.setPrivate(r.n,r.e,r.d),d}if(r.p!==void 0&&r.q!==void 0&&r.g!==void 0&&r.y!==void 0&&r.x===void 0){var d=new x;return d.setPublic(r.p,r.q,r.g,r.y),d}if(r.p!==void 0&&r.q!==void 0&&r.g!==void 0&&r.y!==void 0&&r.x!==void 0){var d=new x;return d.setPrivate(r.p,r.q,r.g,r.y,r.x),d}if(r.kty==="RSA"&&r.n!==void 0&&r.e!==void 0&&r.d===void 0){var d=new v;return d.setPublic(ht(r.n),ht(r.e)),d}if(r.kty==="RSA"&&r.n!==void 0&&r.e!==void 0&&r.d!==void 0&&r.p!==void 0&&r.q!==void 0&&r.dp!==void 0&&r.dq!==void 0&&r.qi!==void 0){var d=new v;return d.setPrivateEx(ht(r.n),ht(r.e),ht(r.d),ht(r.p),ht(r.q),ht(r.dp),ht(r.dq),ht(r.qi)),d}if(r.kty==="RSA"&&r.n!==void 0&&r.e!==void 0&&r.d!==void 0){var d=new v;return d.setPrivate(ht(r.n),ht(r.e),ht(r.d)),d}if(r.kty==="EC"&&r.crv!==void 0&&r.x!==void 0&&r.y!==void 0&&r.d===void 0){var w=new p({curve:r.crv}),m=w.ecparams.keycharlen,S=("0000000000"+ht(r.x)).slice(-m),E=("0000000000"+ht(r.y)).slice(-m),P="04"+S+E;return w.setPublicKeyHex(P),w}if(r.kty==="EC"&&r.crv!==void 0&&r.x!==void 0&&r.y!==void 0&&r.d!==void 0){var w=new p({curve:r.crv}),m=w.ecparams.keycharlen,S=("0000000000"+ht(r.x)).slice(-m),E=("0000000000"+ht(r.y)).slice(-m),P="04"+S+E,H=("0000000000"+ht(r.d)).slice(-m);return w.setPublicKeyHex(P),w.setPrivateKeyHex(H),w}if(s==="pkcs5prv"){var K=r,o=ue,k,d;if(k=c(K,0),k.length===9)d=new v,d.readPKCS5PrvKeyHex(K);else if(k.length===6)d=new x,d.readPKCS5PrvKeyHex(K);else if(k.length>2&&K.substr(k[1],2)==="04")d=new p,d.readPKCS5PrvKeyHex(K);else throw new Error("unsupported PKCS#1/5 hexadecimal key");return d}if(s==="pkcs8prv"){var d=b.getKeyFromPlainPrivatePKCS8Hex(r);return d}if(s==="pkcs8pub")return b._getKeyFromPublicPKCS8Hex(r);if(s==="x509pub")return Pe.getPublicKeyFromCertHex(r);if(r.indexOf("-END CERTIFICATE-",0)!=-1||r.indexOf("-END X509 CERTIFICATE-",0)!=-1||r.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Pe.getPublicKeyFromCertPEM(r);if(r.indexOf("-END PUBLIC KEY-")!=-1){var U=yt(r,"PUBLIC KEY");return b._getKeyFromPublicPKCS8Hex(U)}if(r.indexOf("-END RSA PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")==-1){var I=F(r,"RSA PRIVATE KEY");return b.getKey(I,null,"pkcs5prv")}if(r.indexOf("-END DSA PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")==-1){var _=F(r,"DSA PRIVATE KEY"),N=l(_,0,[1],"02"),R=l(_,0,[2],"02"),B=l(_,0,[3],"02"),V=l(_,0,[4],"02"),$=l(_,0,[5],"02"),d=new x;return d.setPrivate(new C(N,16),new C(R,16),new C(B,16),new C(V,16),new C($,16)),d}if(r.indexOf("-END EC PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")==-1){var I=F(r,"EC PRIVATE KEY");return b.getKey(I,null,"pkcs5prv")}if(r.indexOf("-END PRIVATE KEY-")!=-1)return b.getKeyFromPlainPrivatePKCS8PEM(r);if(r.indexOf("-END RSA PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")!=-1){var ee=b.getDecryptedKeyHex(r,n),q=new Ie;return q.readPKCS5PrvKeyHex(ee),q}if(r.indexOf("-END EC PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")!=-1){var _=b.getDecryptedKeyHex(r,n),d=l(_,0,[1],"04"),z=l(_,0,[2,0],"06"),te=l(_,0,[3,0],"03").substr(2),ne="";if(f.crypto.OID.oidhex2name[z]!==void 0)ne=f.crypto.OID.oidhex2name[z];else throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+z);var w=new p({curve:ne});return w.setPublicKeyHex(te),w.setPrivateKeyHex(d),w.isPublic=!1,w}if(r.indexOf("-END DSA PRIVATE KEY-")!=-1&&r.indexOf("4,ENCRYPTED")!=-1){var _=b.getDecryptedKeyHex(r,n),N=l(_,0,[1],"02"),R=l(_,0,[2],"02"),B=l(_,0,[3],"02"),V=l(_,0,[4],"02"),$=l(_,0,[5],"02"),d=new x;return d.setPrivate(new C(N,16),new C(R,16),new C(B,16),new C(V,16),new C($,16)),d}if(r.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return b.getKeyFromEncryptedPKCS8PEM(r,n);throw new Error("not supported argument")},He.generateKeypair=function(r,n){if(r=="RSA"){var s=n,o=new Ie;o.generate(s,"10001"),o.isPrivate=!0,o.isPublic=!0;var c=new Ie,l=o.n.toString(16),g=o.e.toString(16);c.setPublic(l,g),c.isPrivate=!1,c.isPublic=!0;var p={};return p.prvKeyObj=o,p.pubKeyObj=c,p}else if(r=="EC"){var x=n,v=new f.crypto.ECDSA({curve:x}),F=v.generateKeyPairHex(),o=new f.crypto.ECDSA({curve:x});o.setPublicKeyHex(F.ecpubhex),o.setPrivateKeyHex(F.ecprvhex),o.isPrivate=!0,o.isPublic=!1;var c=new f.crypto.ECDSA({curve:x});c.setPublicKeyHex(F.ecpubhex),c.isPrivate=!1,c.isPublic=!0;var p={};return p.prvKeyObj=o,p.pubKeyObj=c,p}else throw new Error("unknown algorithm: "+r)},He.getPEM=function(r,n,s,o,c,l){var g=f,p=g.asn1,x=p.DERObjectIdentifier,v=p.DERInteger,F=p.ASN1Util.newObject,b=p.x509,d=b.SubjectPublicKeyInfo,w=g.crypto,m=w.DSA,S=w.ECDSA,E=Ie;function P(z){var te=F({seq:[{int:0},{int:{bigint:z.n}},{int:z.e},{int:{bigint:z.d}},{int:{bigint:z.p}},{int:{bigint:z.q}},{int:{bigint:z.dmp1}},{int:{bigint:z.dmq1}},{int:{bigint:z.coeff}}]});return te}function H(z){var te=F({seq:[{int:1},{octstr:{hex:z.prvKeyHex}},{tag:["a0",!0,{oid:{name:z.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+z.pubKeyHex}}]}]});return te}function K(z){var te=F({seq:[{int:0},{int:{bigint:z.p}},{int:{bigint:z.q}},{int:{bigint:z.g}},{int:{bigint:z.y}},{int:{bigint:z.x}}]});return te}if((E!==void 0&&r instanceof E||m!==void 0&&r instanceof m||S!==void 0&&r instanceof S)&&r.isPublic==!0&&(n===void 0||n=="PKCS8PUB")){var k=new d(r),U=k.tohex();return Bt(U,"PUBLIC KEY")}if(n=="PKCS1PRV"&&E!==void 0&&r instanceof E&&(s===void 0||s==null)&&r.isPrivate==!0){var k=P(r),U=k.tohex();return Bt(U,"RSA PRIVATE KEY")}if(n=="PKCS1PRV"&&S!==void 0&&r instanceof S&&(s===void 0||s==null)&&r.isPrivate==!0){var I=new x({name:r.curveName}),_=I.tohex(),N=H(r),R=N.tohex(),B="";return B+=Bt(_,"EC PARAMETERS"),B+=Bt(R,"EC PRIVATE KEY"),B}if(n=="PKCS1PRV"&&m!==void 0&&r instanceof m&&(s===void 0||s==null)&&r.isPrivate==!0){var k=K(r),U=k.tohex();return Bt(U,"DSA PRIVATE KEY")}if(n=="PKCS5PRV"&&E!==void 0&&r instanceof E&&s!==void 0&&s!=null&&r.isPrivate==!0){var k=P(r),U=k.tohex();return o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",U,s,o,l)}if(n=="PKCS5PRV"&&S!==void 0&&r instanceof S&&s!==void 0&&s!=null&&r.isPrivate==!0){var k=H(r),U=k.tohex();return o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",U,s,o,l)}if(n=="PKCS5PRV"&&m!==void 0&&r instanceof m&&s!==void 0&&s!=null&&r.isPrivate==!0){var k=K(r),U=k.tohex();return o===void 0&&(o="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",U,s,o,l)}var V=function(z,te){if(typeof te=="string")return He.getEncryptedPKCS8PEM(z,te);if(typeof te=="object"&&tt(te,"passcode")!=null){var ne=JSON.parse(JSON.stringify(te)),Ht=ne.passcode;return delete ne.passcode,He.getEncryptedPKCS8PEM(z,Ht,ne)}};if(n=="PKCS8PRV"&&E!=null&&r instanceof E&&r.isPrivate==!0){var $=P(r),ee=$.tohex(),k=F({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:ee}}]}),U=k.tohex();return s===void 0||s==null?Bt(U,"PRIVATE KEY"):V(U,s)}if(n=="PKCS8PRV"&&S!==void 0&&r instanceof S&&r.isPrivate==!0){var q={seq:[{int:1},{octstr:{hex:r.prvKeyHex}}]};typeof r.pubKeyHex=="string"&&q.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+r.pubKeyHex}}]});var $=new F(q),ee=$.tohex(),k=F({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:r.curveName}}]},{octstr:{hex:ee}}]}),U=k.tohex();return s===void 0||s==null?Bt(U,"PRIVATE KEY"):V(U,s)}if(n=="PKCS8PRV"&&m!==void 0&&r instanceof m&&r.isPrivate==!0){var $=new v({bigint:r.x}),ee=$.tohex(),k=F({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:r.p}},{int:{bigint:r.q}},{int:{bigint:r.g}}]}]},{octstr:{hex:ee}}]}),U=k.tohex();return s===void 0||s==null?Bt(U,"PRIVATE KEY"):V(U,s)}throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(r){var n=yt(r,"CERTIFICATE REQUEST"),s=He.getKeyFromCSRHex(n);return s},He.getKeyFromCSRHex=function(r){var n=He.parseCSRHex(r),s=He.getKey(n.p8pubkeyhex,null,"pkcs8pub");return s},He.parseCSRHex=function(r){var n=ue,s=n.getChildIdx,o=n.getTLV,c={},l=r;if(l.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var g=s(l,0);if(g.length<1)throw new Error("malformed CSR(code:002)");if(l.substr(g[0],2)!="30")throw new Error("malformed CSR(code:003)");var p=s(l,g[0]);if(p.length<3)throw new Error("malformed CSR(code:004)");return c.p8pubkeyhex=o(l,p[2]),c},He.getKeyID=function(r){var n=He,s=ue;typeof r=="string"&&r.indexOf("BEGIN ")!=-1&&(r=n.getKey(r));var o=yt(n.getPEM(r)),c=s.getIdxbyList(o,0,[1]),l=s.getV(o,c).substring(2);return f.crypto.Util.hashHex(l,"sha1")},He.getJWK=function(r,n,s,o,c){var l,g={},p,x=f.crypto.Util.hashHex;if(typeof r=="string")l=He.getKey(r),r.indexOf("CERTIFICATE")!=-1&&(p=yt(r));else if(typeof r=="object")r instanceof Pe?(l=r.getPublicKey(),p=r.hex):l=r;else throw new Error("unsupported keyinfo type");if(l instanceof Ie&&l.isPrivate)g.kty="RSA",g.n=Ft(l.n.toString(16)),g.e=Ft(l.e.toString(16)),g.d=Ft(l.d.toString(16)),g.p=Ft(l.p.toString(16)),g.q=Ft(l.q.toString(16)),g.dp=Ft(l.dmp1.toString(16)),g.dq=Ft(l.dmq1.toString(16)),g.qi=Ft(l.coeff.toString(16));else if(l instanceof Ie&&l.isPublic)g.kty="RSA",g.n=Ft(l.n.toString(16)),g.e=Ft(l.e.toString(16));else if(l instanceof f.crypto.ECDSA&&l.isPrivate){var v=l.getShortNISTPCurveName();if(v!=="P-256"&&v!=="P-384"&&v!=="P-521")throw new Error("unsupported curve name for JWT: "+v);var F=l.getPublicKeyXYHex();g.kty="EC",g.crv=v,g.x=Ft(F.x),g.y=Ft(F.y),g.d=Ft(l.prvKeyHex)}else if(l instanceof f.crypto.ECDSA&&l.isPublic){var v=l.getShortNISTPCurveName();if(v!=="P-256"&&v!=="P-384"&&v!=="P-521")throw new Error("unsupported curve name for JWT: "+v);var F=l.getPublicKeyXYHex();g.kty="EC",g.crv=v,g.x=Ft(F.x),g.y=Ft(F.y)}if(g.kty==null)throw new Error("unsupported keyinfo");return!l.isPrivate&&n!=!0&&(g.kid=f.jws.JWS.getJWKthumbprint(g)),p!=null&&s!=!0&&(g.x5c=[A(p)]),p!=null&&o!=!0&&(g.x5t=On(A(x(p,"sha1")))),p!=null&&c!=!0&&(g["x5t#S256"]=On(A(x(p,"sha256")))),g},He.getJWKFromKey=function(r){return He.getJWK(r,!0,!0,!0,!0)},Ie.getPosArrayOfChildrenFromHex=function(r){return ue.getChildIdx(r,0)},Ie.getHexValueArrayOfChildrenFromHex=function(r){var n=ue,s=n.getV,d=Ie.getPosArrayOfChildrenFromHex(r),o=s(r,d[0]),c=s(r,d[1]),l=s(r,d[2]),g=s(r,d[3]),p=s(r,d[4]),x=s(r,d[5]),v=s(r,d[6]),F=s(r,d[7]),b=s(r,d[8]),d=new Array;return d.push(o,c,l,g,p,x,v,F,b),d},Ie.prototype.readPrivateKeyFromPEMString=function(r){var n=yt(r),s=Ie.getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8])},Ie.prototype.readPKCS5PrvKeyHex=function(r){var n=Ie.getHexValueArrayOfChildrenFromHex(r);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},Ie.prototype.readPKCS8PrvKeyHex=function(r){var n,s,o,c,l,g,p,x,v=ue,F=v.getVbyListEx;if(v.isASN1HEX(r)===!1)throw new Error("not ASN.1 hex string");try{n=F(r,0,[2,0,1],"02"),s=F(r,0,[2,0,2],"02"),o=F(r,0,[2,0,3],"02"),c=F(r,0,[2,0,4],"02"),l=F(r,0,[2,0,5],"02"),g=F(r,0,[2,0,6],"02"),p=F(r,0,[2,0,7],"02"),x=F(r,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(n,s,o,c,l,g,p,x)},Ie.prototype.readPKCS5PubKeyHex=function(r){var n=ue,s=n.getV;if(n.isASN1HEX(r)===!1)throw new Error("keyHex is not ASN.1 hex string");var o=n.getChildIdx(r,0);if(o.length!==2||r.substr(o[0],2)!=="02"||r.substr(o[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var c=s(r,o[0]),l=s(r,o[1]);this.setPublic(c,l)},Ie.prototype.readPKCS8PubKeyHex=function(r){var n=ue;if(n.isASN1HEX(r)===!1)throw new Error("not ASN.1 hex string");if(n.getTLVbyListEx(r,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var s=n.getTLVbyListEx(r,0,[1,0]);this.readPKCS5PubKeyHex(s)},Ie.prototype.readCertPubKeyHex=function(r,n){var s,o;s=new Pe,s.readCertHex(r),o=s.getPublicKeyHex(),this.readPKCS8PubKeyHex(o)};function au(r,n){for(var s="",o=n/4-r.length,c=0;c<o;c++)s=s+"0";return s+r}Ie.prototype.sign=function(r,n){var s=function(c){return f.crypto.Util.hashString(c,n)},o=s(r);return this.signWithMessageHash(o,n)},Ie.prototype.signWithMessageHash=function(r,n){var s=f.crypto.Util.getPaddedDigestInfoHex(r,n,this.n.bitLength()),o=Xt(s,16),c=this.doPrivate(o),l=c.toString(16);return au(l,this.n.bitLength())};function ou(r,n,s){for(var o="",c=0;o.length<n;)o+=Zt(s(Pr(r+String.fromCharCode.apply(String,[(c&4278190080)>>24,(c&16711680)>>16,(c&65280)>>8,c&255])))),c+=1;return o}Ie.prototype.signPSS=function(r,n,s){var o=function(l){return f.crypto.Util.hashHex(l,n)},c=o(Pr(r));return s===void 0&&(s=-1),this.signWithMessageHashPSS(c,n,s)},Ie.prototype.signWithMessageHashPSS=function(r,n,s){var o=Zt(r),c=o.length,l=this.n.bitLength()-1,g=Math.ceil(l/8),p,x=function(E){return f.crypto.Util.hashHex(E,n)};if(s===-1||s===void 0)s=c;else if(s===-2)s=g-c-2;else if(s<-2)throw new Error("invalid salt length");if(g<c+s+2)throw new Error("data too long");var v="";s>0&&(v=new Array(s),new Nn().nextBytes(v),v=String.fromCharCode.apply(String,v));var F=Zt(x(Pr("\0\0\0\0\0\0\0\0"+o+v))),b=[];for(p=0;p<g-s-c-2;p+=1)b[p]=0;var d=String.fromCharCode.apply(String,b)+""+v,w=ou(F,d.length,x),m=[];for(p=0;p<d.length;p+=1)m[p]=d.charCodeAt(p)^w.charCodeAt(p);var S=65280>>8*g-l&255;for(m[0]&=~S,p=0;p<c;p++)m.push(F.charCodeAt(p));return m.push(188),au(this.doPrivate(new C(m)).toString(16),this.n.bitLength())};function uu(r){for(var n in f.crypto.Util.DIGESTINFOHEAD){var s=f.crypto.Util.DIGESTINFOHEAD[n],o=s.length;if(r.substring(0,o)==s){var c=[n,r.substring(o)];return c}}return[]}Ie.prototype.verify=function(r,n){if(n=n.toLowerCase(),n.match(/^[0-9a-f]+$/)==null)return!1;var s=Xt(n,16),o=this.n.bitLength();if(s.bitLength()>o)return!1;var c=this.doPublic(s),l=c.toString(16);if(l.length+3!=o/4)return!1;var g=l.replace(/^1f+00/,""),p=uu(g);if(p.length==0)return!1;var x=p[0],v=p[1],F=function(d){return f.crypto.Util.hashString(d,x)},b=F(r);return v==b},Ie.prototype.verifyWithMessageHash=function(r,n){if(n.length!=Math.ceil(this.n.bitLength()/4))return!1;var s=Xt(n,16);if(s.bitLength()>this.n.bitLength())return 0;var o=this.doPublic(s),c=o.toString(16).replace(/^1f+00/,""),l=uu(c);if(l.length==0)return!1;l[0];var g=l[1];return g==r},Ie.prototype.verifyPSS=function(r,n,s,o){var c=function(g){return f.crypto.Util.hashHex(g,s)},l=c(Pr(r));return o===void 0&&(o=-1),this.verifyWithMessageHashPSS(l,n,s,o)},Ie.prototype.verifyWithMessageHashPSS=function(r,n,s,o){if(n.length!=Math.ceil(this.n.bitLength()/4))return!1;var c=new C(n,16),l=function(H){return f.crypto.Util.hashHex(H,s)},g=Zt(r),p=g.length,x=this.n.bitLength()-1,v=Math.ceil(x/8),F;if(o===-1||o===void 0)o=p;else if(o===-2)o=v-p-2;else if(o<-2)throw new Error("invalid salt length");if(v<p+o+2)throw new Error("data too long");var b=this.doPublic(c).toByteArray();for(F=0;F<b.length;F+=1)b[F]&=255;for(;b.length<v;)b.unshift(0);if(b[v-1]!==188)throw new Error("encoded message does not end in 0xbc");b=String.fromCharCode.apply(String,b);var d=b.substr(0,v-p-1),w=b.substr(d.length,p),m=65280>>8*v-x&255;if((d.charCodeAt(0)&m)!==0)throw new Error("bits beyond keysize not zero");var S=ou(w,d.length,l),E=[];for(F=0;F<d.length;F+=1)E[F]=d.charCodeAt(F)^S.charCodeAt(F);E[0]&=~m;var P=v-p-o-2;for(F=0;F<P;F+=1)if(E[F]!==0)throw new Error("leftmost octets not zero");if(E[P]!==1)throw new Error("0x01 marker not found");return w===Zt(l(Pr("\0\0\0\0\0\0\0\0"+g+String.fromCharCode.apply(String,E.slice(-o)))))},Ie.SALT_LEN_HLEN=-1,Ie.SALT_LEN_MAX=-2,Ie.SALT_LEN_RECOVER=-2;function Pe(r){var n=ue,s=n.getChildIdx,o=n.getV;n.dump;var c=n.parse,l=n.getTLV,g=n.getVbyList,p=n.getVbyListEx,x=n.getTLVbyList,v=n.getTLVbyListEx,F=n.getIdxbyList,b=n.getIdxbyListEx,d=n.getVidx,w=n.getInt,m=n.oidname,S=n.hextooidstr,E=yt,P,H=Error;try{P=f.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var I=x(this.hex,0,[0,0]);if(I.substr(0,2)=="a0"){var _=x(I,0,[0]),N=w(_,0);if(N<0||2<N)throw new Error("malformed version field");return this.version=N+1,this.version}else return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return p(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var I=v(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(I)},this.getAlgorithmIdentifierName=function(I){for(var _ in P)if(I===P[_])return _;return m(p(I,0,[0],"06"))},this.getIssuer=function(I,_){return this.getX500Name(this.getIssuerHex(),I,_)},this.getIssuerHex=function(){return x(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){var I=this.getIssuer();return I.str},this.getSubject=function(I,_){return this.getX500Name(this.getSubjectHex(),I,_)},this.getSubjectHex=function(){return x(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){var I=this.getSubject();return I.str},this.getNotBefore=function(){var I=g(this.hex,0,[0,4+this.foffset,0]);return I=I.replace(/(..)/g,"%$1"),I=decodeURIComponent(I),I},this.getNotAfter=function(){var I=g(this.hex,0,[0,4+this.foffset,1]);return I=I.replace(/(..)/g,"%$1"),I=decodeURIComponent(I),I},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return x(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var I=this.getSPKI();return I==null?null:g(I,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return F(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var I=this.getPublicKeyIdx();return F(this.hex,I,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var I=x(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(I)},this.getSignatureValueHex=function(){return g(this.hex,0,[2],"03",!0)},this.verifySignature=function(I){var _=this.getSignatureAlgorithmField(),N=this.getSignatureValueHex(),R=x(this.hex,0,[0],"30"),B=new f.crypto.Signature({alg:_});return B.init(I),B.updateHex(R),B.verify(N)},this.parseExt=function(I){var _,N,R;if(I===void 0){if(R=this.hex,this.version!==3)return-1;_=F(R,0,[0,7,0],"30"),N=s(R,_)}else{R=yt(I);var B=F(R,0,[0,3,0,0],"06");if(o(R,B)!="2a864886f70d01090e"){this.aExtInfo=new Array;return}_=F(R,0,[0,3,0,1,0],"30"),N=s(R,_),this.hex=R}this.aExtInfo=new Array;for(var V=0;V<N.length;V++){var $={};$.critical=!1;var ee=s(R,N[V]),q=0;ee.length===3&&($.critical=!0,q=1),$.oid=n.hextooidstr(g(R,N[V],[0],"06"));var z=F(R,N[V],[1+q]);$.vidx=d(R,z),this.aExtInfo.push($)}},this.getExtInfo=function(I){var _=this.aExtInfo,N=I;if(I.match(/^[0-9.]+$/)||(N=f.asn1.x509.OID.name2oid(I)),N!==""){for(var R=0;R<_.length;R++)if(_[R].oid===N)return _[R]}},this.getCriticalExtV=function(I,_,N){if(_!=null)return[_,N];var R=this.getExtInfo(I);return R==null?[null,null]:[l(this.hex,R.vidx),R.critical]},this.getExtBasicConstraints=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("basicConstraints");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"basicConstraints"};if(_&&(R.critical=!0),I==="3000")return R;if(I==="30030101ff")return R.cA=!0,R;if(I.substr(0,12)==="30060101ff02"){var B=o(I,10),V=parseInt(B,16);return R.cA=!0,R.pathLen=V,R}throw new Error("hExtV parse error: "+I)},this.getExtNameConstraints=function(I,_){var N=this.getCriticalExtV("nameConstraints",I,_);if(I=N[0],_=N[1],I!=null){var R={extname:"nameConstraints"};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++){for(var $=[],ee=s(I,B[V]),q=0;q<ee.length;q++){var z=l(I,ee[q]),te=this.getGeneralSubtree(z);$.push(te)}var ne=I.substr(B[V],2);ne=="a0"?R.permit=$:ne=="a1"&&(R.exclude=$)}return R}},this.getGeneralSubtree=function(I){var _=s(I,0),N=_.length;if(N<1||2<N)throw new Error("wrong num elements");for(var R=this.getGeneralName(l(I,_[0])),B=1;B<N;B++){var V=I.substr(_[B],2),$=o(I,_[B]),ee=parseInt($,16);V=="80"&&(R.min=ee),V=="81"&&(R.max=ee)}return R},this.getExtKeyUsage=function(I,_){var N=this.getCriticalExtV("keyUsage",I,_);if(I=N[0],_=N[1],I!=null){var R={extname:"keyUsage"};return _&&(R.critical=!0),R.names=this.getExtKeyUsageString(I).split(","),R}},this.getExtKeyUsageBin=function(I){if(I===void 0){var _=this.getExtInfo("keyUsage");if(_===void 0)return"";I=l(this.hex,_.vidx)}if(I.length!=8&&I.length!=10)throw new Error("malformed key usage value: "+I);var N="000000000000000"+parseInt(I.substr(6),16).toString(2);return I.length==8&&(N=N.slice(-8)),I.length==10&&(N=N.slice(-16)),N=N.replace(/0+$/,""),N==""&&(N="0"),N},this.getExtKeyUsageString=function(I){for(var _=this.getExtKeyUsageBin(I),N=new Array,R=0;R<_.length;R++)_.substr(R,1)=="1"&&N.push(Pe.KEYUSAGE_NAME[R]);return N.join(",")},this.getExtSubjectKeyIdentifier=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("subjectKeyIdentifier");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"subjectKeyIdentifier"};_&&(R.critical=!0);var B=o(I,0);return R.kid={hex:B},R},this.getExtAuthorityKeyIdentifier=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("authorityKeyIdentifier");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"authorityKeyIdentifier"};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++){var $=I.substr(B[V],2);if($==="80"&&(R.kid={hex:o(I,B[V])}),$==="a1"){var ee=l(I,B[V]),q=this.getGeneralNames(ee);R.issuer=q[0].dn}$==="82"&&(R.sn={hex:o(I,B[V])})}return R},this.getExtExtKeyUsage=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("extKeyUsage");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"extKeyUsage",array:[]};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++)R.array.push(m(o(I,B[V])));return R},this.getExtExtKeyUsageName=function(){var I=this.getExtInfo("extKeyUsage");if(I===void 0)return I;var _=new Array,N=l(this.hex,I.vidx);if(N==="")return _;for(var R=s(N,0),B=0;B<R.length;B++)_.push(m(o(N,R[B])));return _},this.getExtSubjectAltName=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("subjectAltName");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"subjectAltName",array:[]};return _&&(R.critical=!0),R.array=this.getGeneralNames(I),R},this.getExtIssuerAltName=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("issuerAltName");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"issuerAltName",array:[]};return _&&(R.critical=!0),R.array=this.getGeneralNames(I),R},this.getGeneralNames=function(I){for(var _=s(I,0),N=[],R=0;R<_.length;R++){var B=this.getGeneralName(l(I,_[R]));B!==void 0&&N.push(B)}return N},this.getGeneralName=function(I){var _=I.substr(0,2),N=o(I,0),R=Zt(N);if(_=="81")return{rfc822:R};if(_=="82")return{dns:R};if(_=="86")return{uri:R};if(_=="87")return{ip:Qi(N)};if(_=="a4")return{dn:this.getX500Name(N)};if(_=="a0")return{other:this.getOtherName(I)}},this.getExtSubjectAltName2=function(){var I,_,N,R=this.getExtInfo("subjectAltName");if(R===void 0)return R;for(var B=new Array,V=l(this.hex,R.vidx),$=s(V,0),ee=0;ee<$.length;ee++)N=V.substr($[ee],2),I=o(V,$[ee]),N==="81"&&(_=ze(I),B.push(["MAIL",_])),N==="82"&&(_=ze(I),B.push(["DNS",_])),N==="84"&&(_=Pe.hex2dn(I,0),B.push(["DN",_])),N==="86"&&(_=ze(I),B.push(["URI",_])),N==="87"&&(_=Qi(I),B.push(["IP",_]));return B},this.getExtCRLDistributionPoints=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("cRLDistributionPoints");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"cRLDistributionPoints",array:[]};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++){var $=l(I,B[V]);R.array.push(this.getDistributionPoint($))}return R},this.getDistributionPoint=function(I){for(var _={},N=s(I,0),R=0;R<N.length;R++){var B=I.substr(N[R],2),V=l(I,N[R]);B=="a0"&&(_.dpname=this.getDistributionPointName(V))}return _},this.getDistributionPointName=function(I){for(var _={},N=s(I,0),R=0;R<N.length;R++){var B=I.substr(N[R],2),V=l(I,N[R]);B=="a0"&&(_.full=this.getGeneralNames(V))}return _},this.getExtCRLDistributionPointsURI=function(){var I=this.getExtCRLDistributionPoints();if(I==null)return I;for(var _=I.array,N=[],R=0;R<_.length;R++)try{_[R].dpname.full[0].uri!=null&&N.push(_[R].dpname.full[0].uri)}catch{}return N},this.getExtAIAInfo=function(){var I=this.getExtInfo("authorityInfoAccess");if(I===void 0)return I;for(var _={ocsp:[],caissuer:[]},N=s(this.hex,I.vidx),R=0;R<N.length;R++){var B=g(this.hex,N[R],[0],"06"),V=g(this.hex,N[R],[1],"86");B==="2b06010505073001"&&_.ocsp.push(ze(V)),B==="2b06010505073002"&&_.caissuer.push(ze(V))}return _},this.getExtAuthorityInfoAccess=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("authorityInfoAccess");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"authorityInfoAccess",array:[]};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++){var $=p(I,B[V],[0],"06"),ee=g(I,B[V],[1],"86"),q=ze(ee);if($=="2b06010505073001")R.array.push({ocsp:q});else if($=="2b06010505073002")R.array.push({caissuer:q});else throw new Error("unknown method: "+$)}return R},this.getExtCertificatePolicies=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("certificatePolicies");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"certificatePolicies",array:[]};_&&(R.critical=!0);for(var B=s(I,0),V=0;V<B.length;V++){var $=l(I,B[V]),ee=this.getPolicyInformation($);R.array.push(ee)}return R},this.getPolicyInformation=function(I){var _={},N=g(I,0,[0],"06");_.policyoid=m(N);var R=b(I,0,[1],"30");if(R!=-1){_.array=[];for(var B=s(I,R),V=0;V<B.length;V++){var $=l(I,B[V]),ee=this.getPolicyQualifierInfo($);_.array.push(ee)}}return _},this.getOtherName=function(I){var _={},N=s(I,0),R=g(I,N[0],[],"06"),B=g(I,N[1],[]);return _.oid=m(R),_.value=c(B),_},this.getPolicyQualifierInfo=function(I){var _={},N=g(I,0,[0],"06");if(N==="2b06010505070201"){var R=p(I,0,[1],"16");_.cps=Zt(R)}else if(N==="2b06010505070202"){var B=x(I,0,[1],"30");_.unotice=this.getUserNotice(B)}return _},this.getUserNotice=function(I){var _=null;try{_=n.parse(I);var N=this._asn1ToUnotice(_);return N}catch{return}},this._asn1ToUnotice=function(I){try{for(var _={},N=tt(I,"seq"),R=0;R<N.length;R++){var B=this._asn1ToNoticeRef(N[R]);B!=null&&(_.noticeref=B);var V=this.asn1ToDisplayText(N[R]);V!=null&&(_.exptext=V)}return Object.keys(_).length>0?_:void 0}catch{return}},this._asn1ToNoticeRef=function(I){try{for(var _={},N=tt(I,"seq"),R=0;R<N.length;R++){var B=this._asn1ToNoticeNum(N[R]);B!=null&&(_.noticenum=B);var V=this.asn1ToDisplayText(N[R]);V!=null&&(_.org=V)}return Object.keys(_).length>0?_:void 0}catch{return}},this._asn1ToNoticeNum=function(I){try{for(var _=tt(I,"seq"),N=[],R=0;R<_.length;R++){var B=_[R];N.push(parseInt(tt(B,"int.hex"),16))}return N}catch{return}},this.getDisplayText=function(I){var _={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"},N={};return N.type=_[I.substr(0,2)],N.str=Zt(o(I,0)),N},this.asn1ToDisplayText=function(I){if(I.utf8str!=null)return{type:"utf8",str:I.utf8str.str};if(I.ia5str!=null)return{type:"ia5",str:I.ia5str.str};if(I.visstr!=null)return{type:"vis",str:I.visstr.str};if(I.bmpstr!=null)return{type:"bmp",str:I.bmpstr.str};if(I.prnstr!=null)return{type:"prn",str:I.prnstr.str}},this.getExtPolicyMappings=function(I,_){var N=this.getCriticalExtV("policyMappings",I,_);if(I=N[0],_=N[1],I!=null){var R={extname:"policyMappings"};_&&(R.critical=!0);try{for(var B=c(I),V=B.seq,$=[],ee=0;ee<V.length;ee++){var q=V[ee].seq;$.push([q[0].oid,q[1].oid])}R.array=$}catch{throw new H("malformed policyMappings")}return R}},this.getExtPolicyConstraints=function(I,_){var N=this.getCriticalExtV("policyConstraints",I,_);if(I=N[0],_=N[1],I!=null){var R={extname:"policyConstraints"};_&&(R.critical=!0);var B=c(I);try{for(var V=B.seq,$=0;$<V.length;$++){var ee=V[$].tag;ee.explicit==!1&&(ee.tag=="80"&&(R.reqexp=parseInt(ee.hex,16)),ee.tag=="81"&&(R.inhibit=parseInt(ee.hex,16)))}}catch{return new H("malformed policyConstraints value")}return R}},this.getExtInhibitAnyPolicy=function(I,_){var N=this.getCriticalExtV("inhibitAnyPolicy",I,_);if(I=N[0],_=N[1],I!=null){var R={extname:"inhibitAnyPolicy"};_&&(R.critical=!0);var B=w(I,0);return B==-1?new H("wrong value"):(R.skip=B,R)}},this.getExtCRLNumber=function(I,_){var N={extname:"cRLNumber"};if(_&&(N.critical=!0),I.substr(0,2)=="02")return N.num={hex:o(I,0)},N;throw new H("hExtV parse error: "+I)},this.getExtCRLReason=function(I,_){var N={extname:"cRLReason"};if(_&&(N.critical=!0),I.substr(0,2)=="0a")return N.code=parseInt(o(I,0),16),N;throw new Error("hExtV parse error: "+I)},this.getExtOcspNonce=function(I,_){var N={extname:"ocspNonce"};_&&(N.critical=!0);var R=o(I,0);return N.hex=R,N},this.getExtOcspNoCheck=function(I,_){var N={extname:"ocspNoCheck"};return _&&(N.critical=!0),N},this.getExtAdobeTimeStamp=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("adobeTimeStamp");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"adobeTimeStamp"};_&&(R.critical=!0);var B=s(I,0);if(B.length>1){var V=l(I,B[1]),$=this.getGeneralName(V);$.uri!=null&&(R.uri=$.uri)}if(B.length>2){var ee=l(I,B[2]);ee=="0101ff"&&(R.reqauth=!0),ee=="010100"&&(R.reqauth=!1)}return R},this.getExtSubjectDirectoryAttributes=function(I,_){if(I===void 0&&_===void 0){var N=this.getExtInfo("subjectDirectoryAttributes");if(N===void 0)return;I=l(this.hex,N.vidx),_=N.critical}var R={extname:"subjectDirectoryAttributes"};_&&(R.critical=!0);try{for(var B=c(I),V=[],$=0;$<B.seq.length;$++){var ee=B.seq[$],q=tt(ee,"seq.0.oid"),z=tt(ee,"seq.1.set");if(q==null||z==null)throw"error";V.push({attr:q,array:z})}return R.array=V,R}catch{throw new Error("malformed subjectDirectoryAttributes extension value")}};var K=function(I){var _={};try{var N=I.seq[0].oid,R=f.asn1.x509.OID.name2oid(N);_.type=f.asn1.x509.OID.oid2atype(R);var B=I.seq[1];if(B.utf8str!=null)_.ds="utf8",_.value=B.utf8str.str;else if(B.numstr!=null)_.ds="num",_.value=B.numstr.str;else if(B.telstr!=null)_.ds="tel",_.value=B.telstr.str;else if(B.prnstr!=null)_.ds="prn",_.value=B.prnstr.str;else if(B.ia5str!=null)_.ds="ia5",_.value=B.ia5str.str;else if(B.visstr!=null)_.ds="vis",_.value=B.visstr.str;else if(B.bmpstr!=null)_.ds="bmp",_.value=B.bmpstr.str;else throw"error";return _}catch{throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},k=function(I){try{return I.set.map(function(_){return K(_)})}catch(_){throw new Error("improper ASN.1 parsed RDN: "+_)}},U=function(I){try{return I.seq.map(function(_){return k(_)})}catch(_){throw new Error("improper ASN.1 parsed X500Name: "+_)}};this.getX500NameRule=function(I){for(var _=null,N=[],R=0;R<I.length;R++)for(var B=I[R],V=0;V<B.length;V++)N.push(B[V]);for(var R=0;R<N.length;R++){var $=N[R],ee=$.ds,q=$.value,z=$.type;if(ee!="prn"&&ee!="utf8"&&ee!="ia5")return"mixed";if(ee=="ia5"){if(z!="CN")return"mixed";if(f.lang.String.isMail(q))continue;return"mixed"}if(z=="C"){if(ee=="prn")continue;return"mixed"}if(_==null)_=ee;else if(_!==ee)return"mixed"}return _??"prn"},this.getAttrTypeAndValue=function(I){var _=c(I);return K(_)},this.getRDN=function(I){var _=c(I);return k(_)},this.getX500NameArray=function(I){var _=c(I);return U(_)},this.getX500Name=function(I,_,N){var R=this.getX500NameArray(I),B=this.dnarraytostr(R),V={str:B};return V.array=R,N==!0&&(V.hex=I),_==!0&&(V.canon=this.c14nRDNArray(R)),V},this.readCertPEM=function(I){this.readCertHex(E(I))},this.readCertHex=function(I){this.hex=I,this.getVersion();try{F(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(I){var _={};return I==null&&(I={}),_.version=this.getVersion(),_.serial={hex:this.getSerialNumberHex()},_.sigalg=this.getSignatureAlgorithmField(),_.issuer=this.getIssuer(I.dncanon,I.dnhex),_.notbefore=this.getNotBefore(),_.notafter=this.getNotAfter(),_.subject=this.getSubject(I.dncanon,I.dnhex),_.sbjpubkey=Bt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo!=null&&this.aExtInfo.length>0&&(_.ext=this.getExtParamArray()),_.sighex=this.getSignatureValueHex(),I.tbshex==!0&&(_.tbshex=x(this.hex,0,[0])),I.nodnarray==!0&&(delete _.issuer.array,delete _.subject.array),_},this.getExtParamArray=function(I){if(I==null){var _=b(this.hex,0,[0,"[3]"]);_!=-1&&(I=v(this.hex,0,[0,"[3]",0],"30"))}for(var N=[],R=s(I,0),B=0;B<R.length;B++){var V=l(I,R[B]),$=this.getExtParam(V);$!=null&&N.push($)}return N},this.getExtParam=function(I){var _=s(I,0),N=_.length;if(N!=2&&N!=3)throw new Error("wrong number elements in Extension: "+N+" "+I);var R=S(g(I,0,[0],"06")),B=!1;N==3&&x(I,0,[1])=="0101ff"&&(B=!0);var V=x(I,0,[N-1,0]),$=void 0;if(R=="2.5.29.14"?$=this.getExtSubjectKeyIdentifier(V,B):R=="2.5.29.15"?$=this.getExtKeyUsage(V,B):R=="2.5.29.17"?$=this.getExtSubjectAltName(V,B):R=="2.5.29.18"?$=this.getExtIssuerAltName(V,B):R=="2.5.29.19"?$=this.getExtBasicConstraints(V,B):R=="2.5.29.30"?$=this.getExtNameConstraints(V,B):R=="2.5.29.31"?$=this.getExtCRLDistributionPoints(V,B):R=="2.5.29.32"?$=this.getExtCertificatePolicies(V,B):R=="2.5.29.33"?$=this.getExtPolicyMappings(V,B):R=="2.5.29.35"?$=this.getExtAuthorityKeyIdentifier(V,B):R=="2.5.29.36"?$=this.getExtPolicyConstraints(V,B):R=="2.5.29.37"?$=this.getExtExtKeyUsage(V,B):R=="2.5.29.54"?$=this.getExtInhibitAnyPolicy(V,B):R=="1.3.6.1.5.5.7.1.1"?$=this.getExtAuthorityInfoAccess(V,B):R=="2.5.29.20"?$=this.getExtCRLNumber(V,B):R=="2.5.29.21"?$=this.getExtCRLReason(V,B):R=="2.5.29.9"?$=this.getExtSubjectDirectoryAttributes(V,B):R=="1.3.6.1.5.5.7.48.1.2"?$=this.getExtOcspNonce(V,B):R=="1.3.6.1.5.5.7.48.1.5"?$=this.getExtOcspNoCheck(V,B):R=="1.2.840.113583.1.1.9.1"?$=this.getExtAdobeTimeStamp(V,B):Pe.EXT_PARSER[R]!=null&&($=Pe.EXT_PARSER[R](R,B,V)),$!=null)return $;var ee={extname:R,extn:V};try{ee.extn=c(V)}catch{}return B&&(ee.critical=!0),ee},this.findExt=function(I,_){for(var N=0;N<I.length;N++)if(I[N].extname==_)return I[N];return null},this.updateExtCDPFullURI=function(I,_){var N=this.findExt(I,"cRLDistributionPoints");if(N!=null&&N.array!=null){for(var R=N.array,B=0;B<R.length;B++)if(R[B].dpname!=null&&R[B].dpname.full!=null)for(var V=R[B].dpname.full,$=0;$<V.length;$++){var ee=V[B];ee.uri!=null&&(ee.uri=_)}}},this.updateExtAIAOCSP=function(I,_){var N=this.findExt(I,"authorityInfoAccess");if(N!=null&&N.array!=null)for(var R=N.array,B=0;B<R.length;B++)R[B].ocsp!=null&&(R[B].ocsp=_)},this.updateExtAIACAIssuer=function(I,_){var N=this.findExt(I,"authorityInfoAccess");if(N!=null&&N.array!=null)for(var R=N.array,B=0;B<R.length;B++)R[B].caissuer!=null&&(R[B].caissuer=_)},this.dnarraytostr=function(I){function _(R){return R.map(function(B){return N(B).replace(/\+/,"\\+")}).join("+")}function N(R){return R.type+"="+R.value}return"/"+I.map(function(R){return _(R).replace(/\//,"\\/")}).join("/")},this.setCanonicalizedDN=function(I){var _;if(I.str!=null&&I.array==null){var N=new f.asn1.x509.X500Name({str:I.str}),R=N.tohex();_=this.getX500NameArray(R)}else _=I.array;I.canon==null&&(I.canon=this.c14nRDNArray(_))},this.c14nRDNArray=function(I){for(var _=[],N=0;N<I.length;N++){for(var R=I[N],B=[],V=0;V<R.length;V++){var $=R[V],ee=$.value;ee=ee.replace(/^\s*/,""),ee=ee.replace(/\s*$/,""),ee=ee.replace(/\s+/g," "),ee=ee.toLowerCase(),B.push($.type.toLowerCase()+"="+ee)}_.push(B.join("+"))}return"/"+_.join("/")},this.getInfo=function(){var I=function($t){for(var Le="",Qe="    ",mt=`
`,vt=$t.array,er=0;er<vt.length;er++){var wt=vt[er];if(wt.dn!=null&&(Le+=Qe+"dn: "+wt.dn.str+mt),wt.ip!=null&&(Le+=Qe+"ip: "+wt.ip+mt),wt.rfc822!=null&&(Le+=Qe+"rfc822: "+wt.rfc822+mt),wt.dns!=null&&(Le+=Qe+"dns: "+wt.dns+mt),wt.uri!=null&&(Le+=Qe+"uri: "+wt.uri+mt),wt.other!=null){var ui=wt.other.oid,vn=JSON.stringify(wt.other.value).replace(/\"/g,"");Le+=Qe+"other: "+ui+"="+vn+mt}}return Le=Le.replace(/\n$/,""),Le},_=function($t){for(var Le="",Qe=$t.array,mt=0;mt<Qe.length;mt++){var vt=Qe[mt];if(Le+="    policy oid: "+vt.policyoid+`
`,vt.array!==void 0)for(var er=0;er<vt.array.length;er++){var wt=vt.array[er];wt.cps!==void 0&&(Le+="    cps: "+wt.cps+`
`)}}return Le},N=function($t){for(var Le="",Qe=$t.array,mt=0;mt<Qe.length;mt++){var vt=Qe[mt];try{vt.dpname.full[0].uri!==void 0&&(Le+="    "+vt.dpname.full[0].uri+`
`)}catch{}try{vt.dname.full[0].dn.hex!==void 0&&(Le+="    "+Pe.hex2dn(vt.dpname.full[0].dn.hex)+`
`)}catch{}}return Le},R=function($t){for(var Le="",Qe=$t.array,mt=0;mt<Qe.length;mt++){var vt=Qe[mt];vt.caissuer!==void 0&&(Le+="    caissuer: "+vt.caissuer+`
`),vt.ocsp!==void 0&&(Le+="    ocsp: "+vt.ocsp+`
`)}return Le},B,V,$;if(B=`Basic Fields
`,B+="  serial number: "+this.getSerialNumberHex()+`
`,B+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,B+="  issuer: "+this.getIssuerString()+`
`,B+="  notBefore: "+this.getNotBefore()+`
`,B+="  notAfter: "+this.getNotAfter()+`
`,B+="  subject: "+this.getSubjectString()+`
`,B+=`  subject public key info: 
`,V=this.getPublicKey(),B+="    key algorithm: "+V.type+`
`,V.type==="RSA"&&(B+="    n="+ga(V.n.toString(16)).substr(0,16)+`...
`,B+="    e="+ga(V.e.toString(16))+`
`),$=this.aExtInfo,$!=null){B+=`X509v3 Extensions:
`;for(var ee=0;ee<$.length;ee++){var q=$[ee],z=f.asn1.x509.OID.oid2name(q.oid);z===""&&(z=q.oid);var te="";if(q.critical===!0&&(te="CRITICAL"),B+="  "+z+" "+te+`:
`,z==="basicConstraints"){var ne=this.getExtBasicConstraints();ne.cA===void 0?B+=`    {}
`:(B+="    cA=true",ne.pathLen!==void 0&&(B+=", pathLen="+ne.pathLen),B+=`
`)}else if(z=="policyMappings"){var Ht=this.getExtPolicyMappings().array,gt=Ht.map(function($t){var Le=$t;return Le[0]+":"+Le[1]}).join(", ");B+="    "+gt+`
`}else if(z=="policyConstraints"){var it=this.getExtPolicyConstraints();B+="    ",it.reqexp!=null&&(B+=" reqexp="+it.reqexp),it.inhibit!=null&&(B+=" inhibit="+it.inhibit),B+=`
`}else if(z=="inhibitAnyPolicy"){var it=this.getExtInhibitAnyPolicy();B+="    skip="+it.skip+`
`}else if(z=="keyUsage")B+="    "+this.getExtKeyUsageString()+`
`;else if(z=="subjectKeyIdentifier")B+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(z=="authorityKeyIdentifier"){var bt=this.getExtAuthorityKeyIdentifier();bt.kid!==void 0&&(B+="    kid="+bt.kid.hex+`
`)}else if(z=="extKeyUsage"){var Pt=this.getExtExtKeyUsage().array;B+="    "+Pt.join(", ")+`
`}else if(z=="subjectAltName"){var It=I(this.getExtSubjectAltName());B+=It+`
`}else if(z=="cRLDistributionPoints"){var Tt=this.getExtCRLDistributionPoints();B+=N(Tt)}else if(z=="authorityInfoAccess"){var oi=this.getExtAuthorityInfoAccess();B+=R(oi)}else z=="certificatePolicies"&&(B+=_(this.getExtCertificatePolicies()))}}return B+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,B+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`,B},typeof r=="string"&&(r.indexOf("-----BEGIN")!=-1?this.readCertPEM(r):f.lang.String.isHex(r)&&this.readCertHex(r))}Pe.EXT_PARSER={},Pe.registExtParser=function(r,n){Pe.EXT_PARSER[r]=n},Pe.hex2dn=function(r,n){n===void 0&&(n=0);var s=new Pe;ue.getTLV(r,n);var o=s.getX500Name(r);return o.str},Pe.hex2rdn=function(r,n){if(n===void 0&&(n=0),r.substr(n,2)!=="31")throw new Error("malformed RDN");for(var s=new Array,o=ue.getChildIdx(r,n),c=0;c<o.length;c++)s.push(Pe.hex2attrTypeValue(r,o[c]));return s=s.map(function(l){return l.replace("+","\\+")}),s.join("+")},Pe.hex2attrTypeValue=function(r,n){var s=ue,o=s.getV;if(n===void 0&&(n=0),r.substr(n,2)!=="30")throw new Error("malformed attribute type and value");var c=s.getChildIdx(r,n);c.length!==2||r.substr(c[0],2);var l=o(r,c[0]),g=f.asn1.ASN1Util.oidHexToInt(l),p=f.asn1.x509.OID.oid2atype(g),x=o(r,c[1]),v=Zt(x);return p+"="+v},Pe.getPublicKeyFromCertHex=function(r){var n=new Pe;return n.readCertHex(r),n.getPublicKey()},Pe.getPublicKeyFromCertPEM=function(r){var n=new Pe;return n.readCertPEM(r),n.getPublicKey()},Pe.getPublicKeyInfoPropOfCertPEM=function(r){var n=ue,s=n.getVbyList,o={},c,l;return o.algparam=null,c=new Pe,c.readCertPEM(r),l=c.getPublicKeyHex(),o.keyhex=s(l,0,[1],"03").substr(2),o.algoid=s(l,0,[0,0],"06"),o.algoid==="2a8648ce3d0201"&&(o.algparam=s(l,0,[0,1],"06")),o},Pe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];var _d=function(r){var n=f,s=n.lang.String.isHex,o=ue,c=o.getV,l=o.getTLV,g=o.getVbyList,p=o.getTLVbyList,x=o.getTLVbyListEx,v=o.getIdxbyList,F=o.getIdxbyListEx,b=o.getChildIdx,d=new Pe;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var w=v(this.hex,0,[0,0]),m=this.hex.substr(w,2);if(m=="02")this.posSigAlg=1;else if(m=="30")this.posSigAlg=0;else throw new Error("malformed 1st item of TBSCertList: "+m);var S=v(this.hex,0,[0,this.posSigAlg+3]),E=this.hex.substr(S,2);if(E=="17"||E=="18"){var P,H;P=v(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,P!=-1&&(H=this.hex.substr(P,2),H=="30"&&(this.posRevCert=this.posSigAlg+4))}else if(E=="30")this.posRevCert=this.posSigAlg+3;else if(E=="a0")this.posRevCert=null;else throw new Error("malformed nextUpdate or revCert tag: "+E)},this.getVersion=function(){return this.posSigAlg==0?null:parseInt(g(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var w=p(this.hex,0,[0,this.posSigAlg],"30");return d.getAlgorithmIdentifierName(w)},this.getIssuer=function(){return d.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return p(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var w=g(this.hex,0,[0,this.posSigAlg+2]);return result=Zt(w)},this.getNextUpdate=function(){var w=v(this.hex,0,[0,this.posSigAlg+3]),m=this.hex.substr(w,2);return m!="17"&&m!="18"?null:Zt(c(this.hex,w))},this.getRevCertArray=function(){if(this.posRevCert==null)return null;for(var w=[],m=v(this.hex,0,[0,this.posRevCert]),S=b(this.hex,m),E=0;E<S.length;E++){var P=l(this.hex,S[E]);w.push(this.getRevCert(P))}return w},this.getRevCert=function(w){var m={},S=b(w,0);return m.sn={hex:g(w,0,[0],"02")},m.date=Zt(g(w,0,[1])),S.length==3&&(m.ext=d.getExtParamArray(p(w,0,[2]))),m},this.findRevCert=function(w){var m=new Pe(w),S=m.getSerialNumberHex();return this.findRevCertBySN(S)},this.findRevCertBySN=function(w){if(this.parsed==null&&this.getParam(),this.parsed.revcert==null)return null;for(var m=this.parsed.revcert,S=0;S<m.length;S++)if(w==m[S].sn.hex)return m[S];return null},this.getSignatureValueHex=function(){return g(this.hex,0,[2],"03",!0)},this.verifySignature=function(w){var m=this.getSignatureAlgorithmField(),S=this.getSignatureValueHex(),E=p(this.hex,0,[0],"30"),P=new f.crypto.Signature({alg:m});return P.init(w),P.updateHex(E),P.verify(S)},this.getParam=function(w){var m={},S=this.getVersion();S!=null&&(m.version=S),m.sigalg=this.getSignatureAlgorithmField(),m.issuer=this.getIssuer(),m.thisupdate=this.getThisUpdate();var E=this.getNextUpdate();E!=null&&(m.nextupdate=E);var P=this.getRevCertArray();P!=null&&(m.revcert=P);var H=F(this.hex,0,[0,"[0]"]);if(H!=-1){var K=x(this.hex,0,[0,"[0]",0]);m.ext=d.getExtParamArray(K)}return m.sighex=this.getSignatureValueHex(),this.parsed=m,typeof w=="object"&&(w.tbshex==!0&&(m.tbshex=p(this.hex,0,[0])),w.nodnarray==!0&&delete m.issuer.array),m},typeof r=="string"&&(s(r)?this.hex=r:r.match(/-----BEGIN X509 CRL/)&&(this.hex=yt(r)),this._setPos())};return(typeof f>"u"||!f)&&(f={}),(typeof f.jws>"u"||!f.jws)&&(f.jws={}),f.jws.JWS=function(){var r=f,n=r.jws.JWS,s=n.isSafeJSONString;this.parseJWS=function(o,c){if(!(this.parsedJWS!==void 0&&(c||this.parsedJWS.sigvalH!==void 0))){var l=o.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(l==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var g=l[1],p=l[2],x=l[3],v=g+"."+p;if(this.parsedJWS={},this.parsedJWS.headB64U=g,this.parsedJWS.payloadB64U=p,this.parsedJWS.sigvalB64U=x,this.parsedJWS.si=v,!c){var F=ht(x),b=Xt(F,16);this.parsedJWS.sigvalH=F,this.parsedJWS.sigvalBI=b}var d=Sr(g),w=Sr(p);if(this.parsedJWS.headS=d,this.parsedJWS.payloadS=w,!s(d,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+d}}},f.jws.JWS.sign=function(r,n,s,o,c){var l=f,g=l.jws,p=g.JWS,x=p.readSafeJSONString,v=p.isSafeJSONString,F=l.crypto;F.ECDSA;var b=F.Mac,d=F.Signature,w=JSON,m,S,E;if(typeof n!="string"&&typeof n!="object")throw"spHeader must be JSON string or object: "+n;if(typeof n=="object"&&(S=n,m=w.stringify(S)),typeof n=="string"){if(m=n,!v(m))throw"JWS Head is not safe JSON string: "+m;S=x(m)}if(E=s,typeof s=="object"&&(E=w.stringify(s)),(r==""||r==null)&&S.alg!==void 0&&(r=S.alg),r!=""&&r!=null&&S.alg===void 0&&(S.alg=r,m=w.stringify(S)),r!==S.alg)throw"alg and sHeader.alg doesn't match: "+r+"!="+S.alg;var P=null;if(p.jwsalg2sigalg[r]===void 0)throw"unsupported alg name: "+r;P=p.jwsalg2sigalg[r];var H=si(m),K=si(E),k=H+"."+K,U="";if(P.substr(0,4)=="Hmac"){if(o===void 0)throw"mac key shall be specified for HS* alg";var I=new b({alg:P,prov:"cryptojs",pass:o});I.updateString(k),U=I.doFinal()}else if(P.indexOf("withECDSA")!=-1){var _=new d({alg:P});_.init(o,c),_.updateString(k);var N=_.sign();U=f.crypto.ECDSA.asn1SigToConcatSig(N)}else if(P!="none"){var _=new d({alg:P});_.init(o,c),_.updateString(k),U=_.sign()}var R=Ft(U);return k+"."+R},f.jws.JWS.verify=function(r,n,s){var o=f,c=o.jws,l=c.JWS,g=l.readSafeJSONString,p=o.crypto,x=p.ECDSA,v=p.Mac,F=p.Signature,b;if(typeof Ie!==void 0&&(b=Ie),!pa(r))return!1;var d=r.split(".");if(d.length!==3)return!1;var w=d[0],m=d[1],S=w+"."+m,E=ht(d[2]),P=g(Sr(d[0])),H=null,K=null;if(P.alg===void 0)throw"algorithm not specified in header";if(H=P.alg,K=H.substr(0,2),s!=null&&Object.prototype.toString.call(s)==="[object Array]"&&s.length>0){var k=":"+s.join(":")+":";if(k.indexOf(":"+H+":")==-1)throw"algorithm '"+H+"' not accepted in the list"}if(H!="none"&&n===null)throw"key shall be specified to verify.";if(typeof n=="string"&&n.indexOf("-----BEGIN ")!=-1&&(n=He.getKey(n)),(K=="RS"||K=="PS")&&!(n instanceof b))throw"key shall be a RSAKey obj for RS* and PS* algs";if(K=="ES"&&!(n instanceof x))throw"key shall be a ECDSA obj for ES* algs";var U=null;if(l.jwsalg2sigalg[P.alg]===void 0)throw"unsupported alg name: "+H;if(U=l.jwsalg2sigalg[H],U=="none")throw"not supported";if(U.substr(0,4)=="Hmac"){var I=null;if(n===void 0)throw"hexadecimal key shall be specified for HMAC";var _=new v({alg:U,pass:n});return _.updateString(S),I=_.doFinal(),E==I}else if(U.indexOf("withECDSA")!=-1){var N=null;try{N=x.concatSigToASN1Sig(E)}catch{return!1}var R=new F({alg:U});return R.init(n),R.updateString(S),R.verify(N)}else{var R=new F({alg:U});return R.init(n),R.updateString(S),R.verify(E)}},f.jws.JWS.parse=function(r){var n=r.split("."),s={},o,c,l;if(n.length!=2&&n.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return o=n[0],c=n[1],n.length==3&&(l=n[2]),s.headerObj=f.jws.JWS.readSafeJSONString(Sr(o)),s.payloadObj=f.jws.JWS.readSafeJSONString(Sr(c)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),s.payloadObj==null?s.payloadPP=Sr(c):s.payloadPP=JSON.stringify(s.payloadObj,null,"  "),l!==void 0&&(s.sigHex=ht(l)),s},f.jws.JWS.verifyJWT=function(r,n,s){var o=f,c=o.jws,l=c.JWS,g=l.readSafeJSONString,p=l.inArray,x=l.includedArray;if(!pa(r))return!1;var v=r.split(".");if(v.length!=3)return!1;var F=v[0],b=v[1];ht(v[2]);var d=g(Sr(F)),w=g(Sr(b));if(d.alg===void 0)return!1;if(s.alg===void 0)throw"acceptField.alg shall be specified";if(!p(d.alg,s.alg)||w.iss!==void 0&&typeof s.iss=="object"&&!p(w.iss,s.iss)||w.sub!==void 0&&typeof s.sub=="object"&&!p(w.sub,s.sub))return!1;if(w.aud!==void 0&&typeof s.aud=="object"){if(typeof w.aud=="string"){if(!p(w.aud,s.aud))return!1}else if(typeof w.aud=="object"&&!x(w.aud,s.aud))return!1}var m=c.IntDate.getNow();return s.verifyAt!==void 0&&typeof s.verifyAt=="number"&&(m=s.verifyAt),(s.gracePeriod===void 0||typeof s.gracePeriod!="number")&&(s.gracePeriod=0),!(w.exp!==void 0&&typeof w.exp=="number"&&w.exp+s.gracePeriod<m||w.nbf!==void 0&&typeof w.nbf=="number"&&m<w.nbf-s.gracePeriod||w.iat!==void 0&&typeof w.iat=="number"&&m<w.iat-s.gracePeriod||w.jti!==void 0&&s.jti!==void 0&&w.jti!==s.jti||!l.verify(r,n,s.alg))},f.jws.JWS.includedArray=function(r,n){var s=f.jws.JWS.inArray;if(r===null||typeof r!="object"||typeof r.length!="number")return!1;for(var o=0;o<r.length;o++)if(!s(r[o],n))return!1;return!0},f.jws.JWS.inArray=function(r,n){if(n===null||typeof n!="object"||typeof n.length!="number")return!1;for(var s=0;s<n.length;s++)if(n[s]==r)return!0;return!1},f.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},f.jws.JWS.isSafeJSONString=function(r,n,s){var o=null;try{return o=Wo(r),typeof o!="object"||o.constructor===Array?0:(n&&(n[s]=o),1)}catch{return 0}},f.jws.JWS.readSafeJSONString=function(r){var n=null;try{return n=Wo(r),typeof n!="object"||n.constructor===Array?null:n}catch{return null}},f.jws.JWS.getEncodedSignatureValueFromJWS=function(r){var n=r.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(n==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return n[1]},f.jws.JWS.getJWKthumbprint=function(r){if(r.kty!=="RSA"&&r.kty!=="EC"&&r.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var n="{";if(r.kty==="RSA"){if(typeof r.n!="string"||typeof r.e!="string")throw"wrong n and e value for RSA key";n+='"e":"'+r.e+'",',n+='"kty":"'+r.kty+'",',n+='"n":"'+r.n+'"}'}else if(r.kty==="EC"){if(typeof r.crv!="string"||typeof r.x!="string"||typeof r.y!="string")throw"wrong crv, x and y value for EC key";n+='"crv":"'+r.crv+'",',n+='"kty":"'+r.kty+'",',n+='"x":"'+r.x+'",',n+='"y":"'+r.y+'"}'}else if(r.kty==="oct"){if(typeof r.k!="string")throw"wrong k value for oct(symmetric) key";n+='"kty":"'+r.kty+'",',n+='"k":"'+r.k+'"}'}var s=Pr(n),o=f.crypto.Util.hashHex(s,"sha256"),c=Ft(o);return c},f.jws.IntDate={},f.jws.IntDate.get=function(r){var n=f.jws.IntDate,s=n.getNow,o=n.getZulu;if(r=="now")return s();if(r=="now + 1hour")return s()+60*60;if(r=="now + 1day")return s()+60*60*24;if(r=="now + 1month")return s()+60*60*24*30;if(r=="now + 1year")return s()+60*60*24*365;if(r.match(/Z$/))return o(r);if(r.match(/^[0-9]+$/))return parseInt(r);throw"unsupported format: "+r},f.jws.IntDate.getZulu=function(r){return Jo(r)},f.jws.IntDate.getNow=function(){var r=~~(new Date/1e3);return r},f.jws.IntDate.intDate2UTCString=function(r){var n=new Date(r*1e3);return n.toUTCString()},f.jws.IntDate.intDate2Zulu=function(r){var n=new Date(r*1e3),s=("0000"+n.getUTCFullYear()).slice(-4),o=("00"+(n.getUTCMonth()+1)).slice(-2),c=("00"+n.getUTCDate()).slice(-2),l=("00"+n.getUTCHours()).slice(-2),g=("00"+n.getUTCMinutes()).slice(-2),p=("00"+n.getUTCSeconds()).slice(-2);return s+o+c+l+g+p+"Z"},(typeof f>"u"||!f)&&(f={}),(typeof f.jws>"u"||!f.jws)&&(f.jws={}),f.jws.JWSJS=function(){var r=f,n=r.jws,s=n.JWS,o=s.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(c){this.init();var l=c.split(".");if(l.length!=3)throw"malformed input JWS";this.aHeader.push(l[0]),this.sPayload=l[1],this.aSignature.push(l[2])},this.addSignature=function(c,l,g,p){if(this.sPayload===void 0||this.sPayload===null)throw"there's no JSON-JS signature to add.";var x=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var v=f.jws.JWS.sign(c,l,this.sPayload,g,p),F=v.split("."),b=F[0],d=F[2];this.aHeader.push(F[0]),this.aSignature.push(F[2])}catch(w){throw this.aHeader.length>x&&this.aHeader.pop(),this.aSignature.length>x&&this.aSignature.pop(),"addSignature failed: "+w}},this.verifyAll=function(c){if(this.aHeader.length!==c.length||this.aSignature.length!==c.length)return!1;for(var l=0;l<c.length;l++){var g=c[l];if(g.length!==2)return!1;var p=this.verifyNth(l,g[0],g[1]);if(p===!1)return!1}return!0},this.verifyNth=function(c,l,g){if(this.aHeader.length<=c||this.aSignature.length<=c)return!1;var p=this.aHeader[c],x=this.aSignature[c],v=p+"."+this.sPayload+"."+x,F=!1;try{F=s.verify(v,l,g)}catch{return!1}return F},this.readJWSJS=function(c){if(typeof c=="string"){var l=o(c);if(l==null)throw"argument is not safe JSON object string";this.aHeader=l.headers,this.sPayload=l.payload,this.aSignature=l.signatures}else try{if(c.headers.length>0)this.aHeader=c.headers;else throw"malformed header";if(typeof c.payload=="string")this.sPayload=c.payload;else throw"malformed signatures";if(c.signatures.length>0)this.aSignature=c.signatures;else throw"malformed signatures"}catch(g){throw"malformed JWS-JS JSON object: "+g}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return this.aHeader.length==0?1:0}},de.SecureRandom=Nn,de.rng_seed_time=oa,de.BigInteger=C,de.RSAKey=Ie,de.ECDSA=f.crypto.ECDSA,de.DSA=f.crypto.DSA,de.Signature=f.crypto.Signature,de.MessageDigest=f.crypto.MessageDigest,de.Mac=f.crypto.Mac,de.KEYUTIL=He,de.ASN1HEX=ue,de.X509=Pe,de.X509CRL=_d,de.CryptoJS=u,de.b64tohex=T,de.b64toBA=O,de.ECFieldElementFp=Et,de.ECPointFp=Ve,de.ECCurveFp=Kr,de.stoBA=zo,de.BAtos=Go,de.BAtohex=zi,de.stohex=Qt,de.stob64=hd,de.stob64u=dd,de.b64utos=pd,de.b64tob64u=On,de.b64utob64=ii,de.hex2b64=A,de.hextob64u=Ft,de.b64utohex=ht,de.utf8tob64u=si,de.b64utoutf8=Sr,de.utf8tob64=gd,de.b64toutf8=md,de.utf8tohex=Gi,de.hextoutf8=ze,de.hextorstr=Zt,de.rstrtohex=Pr,de.hextob64=ua,de.hextob64nl=wd,de.b64nltohex=Yo,de.hextopem=Bt,de.pemtohex=yt,de.hextoArrayBuffer=bd,de.ArrayBuffertohex=Ed,de.zulutomsec=la,de.msectozulu=Fd,de.zulutosec=Jo,de.zulutodate=Ad,de.datetozulu=Cd,de.uricmptohex=Ji,de.hextouricmp=Xi,de.ipv6tohex=ca,de.hextoipv6=fa,de.hextoip=Qi,de.iptohex=ha,de.ucs2hextoutf8=da,de.encodeURIComponentAll=Zi,de.newline_toUnix=Pd,de.newline_toDos=Td,de.hextoposhex=ga,de.intarystrtohex=Id,de.strdiffidx=Rd,de.oidtohex=tu,de.hextooid=es,de.strpad=ts,de.bitstrtoint=nu,de.inttobitstr=iu,de.bitstrtobinstr=su,de.binstrtobitstr=Dd,de.isBase64URLDot=pa,de.namearraytobinstr=rs,de.extendClass=Z,de.foldnl=Yi,de.b64topem=Sd,de.pemtob64=xd,de.timeogen=Xo,de.aryval=tt,de.inttohex=ru,de.twoscompl=ai,de.KJUR=f,de.crypto=f.crypto,de.asn1=f.asn1,de.jws=f.jws,de.lang=f.lang,de.VERSION=i,de.VERSION_FULL=a,de}var Ba=$y();async function Af(e){const t=e.replace(/(-----BEGIN PUBLIC KEY-----)|(-----END PUBLIC KEY-----)|\n/g,""),i=Mo(t);return await window.crypto.subtle.importKey("spki",i,{name:"RSA-OAEP",hash:"SHA-256"},!0,["wrapKey"])}async function jo(e){const t=e.replace(/(-----BEGIN PRIVATE KEY-----)|(-----END PRIVATE KEY-----)|\n/g,""),i=Mo(t);return await window.crypto.subtle.importKey("pkcs8",i,{name:"RSA-OAEP",hash:"SHA-256"},!0,["unwrapKey"])}async function Wy(){const e=await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt"]),t=window.crypto.getRandomValues(new Uint8Array(12));return{aesKey:e,iv:t}}async function zy(){const e=await window.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"]),t=e.publicKey,i=e.privateKey,a=await window.crypto.subtle.exportKey("spki",t),u=new Uint8Array(a),y=`-----BEGIN PUBLIC KEY-----
${btoa(String.fromCharCode(...u)).match(/.{1,64}/g).join(`
`)}
-----END PUBLIC KEY-----`,A=await window.crypto.subtle.exportKey("pkcs8",i),T=new Uint8Array(A);return{privateKeyPEM:`-----BEGIN PRIVATE KEY-----
${btoa(String.fromCharCode(...T)).match(/.{1,64}/g).join(`
`)}
-----END PRIVATE KEY-----`,publicKeyPEM:y}}async function Gy(e){try{const t=await jo(e),i=await window.crypto.subtle.exportKey("jwk",t),{n:a,e:u,kty:h,alg:y}=i,A={kty:h,n:a,e:u,alg:y},T=await window.crypto.subtle.importKey("jwk",A,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),O=await window.crypto.subtle.exportKey("spki",T);console.log("Successfully exported public key (SPKI ArrayBuffer):",O);const D=new Uint8Array(O);return`-----BEGIN PUBLIC KEY-----
${btoa(String.fromCharCode(...D)).match(/.{1,64}/g).join(`
`)}
-----END PUBLIC KEY-----`}catch(t){throw console.error("提取公鑰時發生錯誤:",t),t}}function Fl(e,t,i){try{const a=Ba.KEYUTIL.getKey(e),u=Ba.KEYUTIL.getKey(t);return Ba.KJUR.asn1.csr.CSRUtil.newCSRPEM({subject:{str:`/C=TW/CN=${i.commonName}`},sbjpubkey:u,sbjprvkey:a,sigalg:"SHA256withRSA"})}catch(a){throw console.error("生成 CSR 時發生錯誤:",a),a}}async function Yy(e,t,i){const a=await e.arrayBuffer(),u=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},t,a);return new Blob([u])}async function Jy(e,t,i){return crypto.subtle.decrypt({name:"AES-GCM",iv:i},t,e)}async function Cf(e,t){return await window.crypto.subtle.wrapKey("raw",e,t,{name:"RSA-OAEP"})}async function Pf(e,t){return await window.crypto.subtle.unwrapKey("raw",new Uint8Array(e),t,{name:"RSA-OAEP"},{name:"AES-GCM",length:256},!0,["decrypt"])}async function Tf(e){try{const t=new FormData;t.append("allowedUsers",e),t.append("certificate",localStorage.getItem("userCertificate"));const i=await ke.post(Jm,t,{headers:{"Content-Type":"multipart/form-data"}});return localStorage.setItem("userCertificate",i.data.data.certificate),i.data.data}catch(t){throw console.error("請求金鑰失敗:",t),t}}async function If(e){try{const t=new FormData;t.append("keyId",e),t.append("certificate",localStorage.getItem("userCertificate"));const i=await ke.post(Xm,t,{headers:{"Content-Type":"multipart/form-data"}});return localStorage.setItem("userCertificate",i.data.data.certificate),i.data.data}catch(t){throw console.error("請求金鑰失敗:",t),t}}async function Al(e){const t=new FormData;t.append("timeStamp",Math.round(Date.now()/1e3)),t.append("userCSR",e);const i=localStorage.getItem("userCertificate");return i&&t.append("certificate",i),(await ke.post(Ym,t,{headers:{"Content-Type":"application/form-data"}})).data.data.certificate}async function Xy(e,t,i){try{const{aesKey:a,iv:u}=await Wy(),h=await Tf(localStorage.getItem("username")),y=h.keyID,A=await Af(h.key),T=await Yy(e,a,u),O=await Cf(a,A),D=new FormData;D.append("username",localStorage.getItem("username")),D.append("filename",e.name),D.append("kmsKeyID",y),D.append("iv",new Blob([u])),D.append("encryptedKey",new Blob([O])),D.append("encryptedFile",T);const C=localStorage.getItem("accessToken");return await ke.post(zm,D,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${C}`},onUploadProgress:G=>{const W=Math.round(G.loaded*100/G.total);t&&t(W)}})}catch(a){throw console.error("檔案加密上傳失敗:",a),a}}const Qy={name:"FileUpload",data(){return{selectedFile:null,uploading:!1,uploadProgress:0,uploadStatus:null,uploadStatusMessage:null,uploadStatusTimeout:null}},methods:{setUploadStatus(e,t){this.uploadStatus=e,this.uploadStatusMessage=t,this.uploadStatusTimeout=setTimeout(()=>{this.uploadStatus=null,this.uploadStatusMessage=null},2e3)},clearUploadStatus(){this.uploadStatus=null,this.uploadStatusMessage=null,clearTimeout(this.uploadStatusTimeout)},handleMainButtonClick(){this.$refs.fileInput.click(),this.clearUploadStatus(),this.uploadProgress=0},handleFileSelected(e){const t=e.target.files[0];t?(this.selectedFile=t,this.clearUploadStatus(),this.uploadEncryptedFile()):(this.selectedFile=null,this.setUploadStatus(!1,"未選擇任何檔案。"))},updateUploadProgress(e){this.uploadProgress=e},async uploadEncryptedFile(){if(!this.selectedFile){this.setUploadStatus(!1,"沒有可上傳的檔案。");return}if(!localStorage.getItem("userCertificate")){this.setUploadStatus(!1,"沒有憑證。");return}this.uploading=!0,this.uploadProgress=0,this.resetMessages();try{const e=await Xy(this.selectedFile,this.updateUploadProgress,this.$router);this.uploading=!1,this.setUploadStatus(!0,"檔案上傳成功！"),this.$emit("file-uploaded"),this.selectedFile=null,console.log("檔案上傳成功:",e.data)}catch(e){this.uploading=!1,console.error("檔案上傳失敗:",e),this.setUploadStatus(!1,"檔案上傳失敗，請稍後再試。"),e.response&&e.response.data&&e.response.data.message&&this.setUploadStatus(!1,e.response.data.message)}},resetMessages(){this.clearUploadStatus()},formatFileSize:Ff}},Zy={class:"file-upload-container"},e2={class:"upload-area"},t2=["disabled"],r2={key:0,class:"main-upload-button-text"},n2={key:1,class:"main-upload-button-text"},i2={key:0,class:"progress-bar-container"};function s2(e,t,i,a,u,h){return be(),Ae("div",Zy,[Y("div",e2,[Y("input",{type:"file",id:"fileInput",ref:"fileInput",onChange:t[0]||(t[0]=(...y)=>h.handleFileSelected&&h.handleFileSelected(...y)),class:"hidden-file-input"},null,544),Y("button",{onClick:t[1]||(t[1]=(...y)=>h.handleMainButtonClick&&h.handleMainButtonClick(...y)),disabled:u.uploading,class:"main-upload-button"},[u.uploading?(be(),Ae("span",n2,"上傳中...")):(be(),Ae("span",r2,"新增檔案"))],8,t2),u.uploadProgress>0&&u.uploading?(be(),Ae("div",i2,[Y("div",{class:"progress-bar",style:js({width:u.uploadProgress+"%"})},rt(u.uploadProgress)+"%",5)])):St("",!0),u.uploadStatusMessage?(be(),Ae("div",{key:1,class:Or({"success-message":u.uploadStatus,"error-message":!u.uploadStatus})},rt(u.uploadStatusMessage),3)):St("",!0)])])}const a2=Er(Qy,[["render",s2],["__scopeId","data-v-5b3d2f2d"]]);async function Rf(e){const t=localStorage.getItem("accessToken");if(!t)throw new Error("未找到登入憑證。");const i=await ke.get($m,{headers:{Authorization:`Bearer ${t}`},params:{fileID:e}});return{kmsKeyId:i.data.data.kmsKeyID,iv:qy(i.data.data.iv),encryptedKey:Mo(i.data.data.encryptedKey)}}async function o2(e){const t=localStorage.getItem("accessToken");if(!t)throw new Error("未找到登入憑證。");return(await ke.get(Vm,{headers:{Authorization:`Bearer ${t}`},params:{fileID:e},responseType:"blob"})).data}async function u2(e){const t=await Rf(e),i=await If(t.kmsKeyId),a=await jo(i.key),u=await Pf(t.encryptedKey,a),h=await o2(e),y=t.iv,A=await h.arrayBuffer(),T=await Jy(A,u,y);return new Blob([T])}const l2={name:"EncryptedFileDownloader",props:{fileId:{type:Number,required:!0},filename:{type:String,required:!0}},data(){return{isDownloading:!1}},methods:{async downloadFile(){this.isDownloading=!0;try{const e=await u2(this.fileId),t=window.URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.setAttribute("download",this.filename),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(t),console.log(`檔案 ID: ${this.fileId} 下載並解密完成！`)}catch(e){console.error("下載和解密檔案失敗:",e),this.$emit("download-error",e)}finally{this.isDownloading=!1}}}},c2=["disabled"];function f2(e,t,i,a,u,h){return be(),Ae("div",null,[Y("button",{onClick:t[0]||(t[0]=(...y)=>h.downloadFile&&h.downloadFile(...y)),disabled:u.isDownloading,class:"download-action-button"},rt(u.isDownloading?"下載解密中...":"下載"),9,c2)])}const h2=Er(l2,[["render",f2],["__scopeId","data-v-5d64427a"]]),Vi={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Xn={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Jt={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},d2={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom",NONE:"none"},p2={dangerouslyHTMLString:!1,multiple:!0,position:Vi.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},g2={rtl:!1,newestOnTop:!1,toastClassName:""},Df={...p2,...g2};Jt.DEFAULT;var Ye=(e=>(e[e.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",e[e.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",e.CSS_NAMESPACE="Toastify",e))(Ye||{}),so=(e=>(e.ENTRANCE_ANIMATION_END="d",e))(so||{});const m2={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},v2={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},y2={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},w2={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"},Cl="Toastify--animate Toastify__none-enter";function _f(e,t=!1){var i;let a=m2;if(!e||typeof e=="string")switch(e){case"flip":a=w2;break;case"zoom":a=y2;break;case"slide":a=v2;break}else a=e;if(t)a.enter=Cl;else if(a.enter===Cl){const u=(i=a.exit.split("__")[1])==null?void 0:i.split("-")[0];a.enter=`Toastify--animate Toastify__${u}-enter`}return a}function S2(e){return e.containerId||String(e.position)}const ta="will-unmount";function x2(e=Vi.TOP_RIGHT){return!!document.querySelector(`.${Ye.CSS_NAMESPACE}__toast-container--${e}`)}function b2(e=Vi.TOP_RIGHT){return`${Ye.CSS_NAMESPACE}__toast-container--${e}`}function E2(e,t,i=!1){const a=[`${Ye.CSS_NAMESPACE}__toast-container`,`${Ye.CSS_NAMESPACE}__toast-container--${e}`,i?`${Ye.CSS_NAMESPACE}__toast-container--rtl`:null].filter(Boolean).join(" ");return zn(t)?t({position:e,rtl:i,defaultClassName:a}):`${a} ${t||""}`}function F2(e){var t;const{position:i,containerClassName:a,rtl:u=!1,style:h={}}=e,y=Ye.CSS_NAMESPACE,A=b2(i),T=document.querySelector(`.${y}`),O=document.querySelector(`.${A}`),D=!!O&&!((t=O.className)!=null&&t.includes(ta)),C=T||document.createElement("div"),j=document.createElement("div");j.className=E2(i,a,u),j.dataset.testid=`${Ye.CSS_NAMESPACE}__toast-container--${i}`,j.id=S2(e);for(const G in h)if(Object.prototype.hasOwnProperty.call(h,G)){const W=h[G];j.style[G]=W}return T||(C.className=Ye.CSS_NAMESPACE,document.body.appendChild(C)),D||C.appendChild(j),j}function ao(e){var t,i,a;const u=typeof e=="string"?e:((t=e.currentTarget)==null?void 0:t.id)||((i=e.target)==null?void 0:i.id),h=document.getElementById(u);h&&h.removeEventListener("animationend",ao,!1);try{Hi[u].unmount(),(a=document.getElementById(u))==null||a.remove(),delete Hi[u],delete Rt[u]}catch{}}const Hi=yr({});function A2(e,t){const i=document.getElementById(String(t));i&&(Hi[i.id]=e)}function oo(e,t=!0){const i=String(e);if(!Hi[i])return;const a=document.getElementById(i);a&&a.classList.add(ta),t?(P2(e),a&&a.addEventListener("animationend",ao,!1)):ao(i),jr.items=jr.items.filter(u=>u.containerId!==e)}function C2(e){for(const t in Hi)oo(t,e);jr.items=[]}function Nf(e,t){const i=document.getElementById(e.toastId);if(i){let a=e;a={...a,..._f(a.transition)};const u=a.appendPosition?`${a.exit}--${a.position}`:a.exit;i.className+=` ${u}`,t&&t(i)}}function P2(e){for(const t in Rt)if(t===e)for(const i of Rt[t]||[])Nf(i)}function T2(e){const t=Qn().find(i=>i.toastId===e);return t==null?void 0:t.containerId}function Lo(e){return document.getElementById(e)}function I2(e){const t=Lo(e.containerId);return t&&t.classList.contains(ta)}function Pl(e){var t;const i=Gn(e.content)?Oe(e.content.props):null;return i??Oe((t=e.data)!=null?t:{})}function R2(e){return e?jr.items.filter(t=>t.containerId===e).length>0:jr.items.length>0}function D2(){if(jr.items.length>0){const e=jr.items.shift();vs(e==null?void 0:e.toastContent,e==null?void 0:e.toastProps)}}const Rt=yr({}),jr=yr({items:[]});function Qn(){const e=Oe(Rt);return Object.values(e).reduce((t,i)=>[...t,...i],[])}function _2(e){return Qn().find(t=>t.toastId===e)}function vs(e,t={}){if(I2(t)){const i=Lo(t.containerId);i&&i.addEventListener("animationend",uo.bind(null,e,t),!1)}else uo(e,t)}function uo(e,t={}){const i=Lo(t.containerId);i&&i.removeEventListener("animationend",uo.bind(null,e,t),!1);const a=Rt[t.containerId]||[],u=a.length>0;if(!u&&!x2(t.position)){const h=F2(t),y=Dc(Q2,t);t.useHandler&&t.useHandler(y),y.mount(h),A2(y,h.id)}u&&!t.updateId&&(t.position=a[0].position),ji(()=>{t.updateId?ur.update(t):ur.add(e,t)})}const ur={add(e,t){const{containerId:i=""}=t;i&&(Rt[i]=Rt[i]||[],Rt[i].find(a=>a.toastId===t.toastId)||setTimeout(()=>{var a,u;t.newestOnTop?(a=Rt[i])==null||a.unshift(t):(u=Rt[i])==null||u.push(t),t.onOpen&&t.onOpen(Pl(t))},t.delay||0))},remove(e){if(e){const t=T2(e);if(t){const i=Rt[t];let a=i.find(u=>u.toastId===e);Rt[t]=i.filter(u=>u.toastId!==e),!Rt[t].length&&!R2(t)&&oo(t,!1),D2(),ji(()=>{a!=null&&a.onClose&&(a.onClose(Pl(a)),a=void 0)})}}},update(e={}){const{containerId:t=""}=e;if(t&&e.updateId){Rt[t]=Rt[t]||[];const i=Rt[t].find(h=>h.toastId===e.toastId),a=(i==null?void 0:i.position)!==e.position||(i==null?void 0:i.transition)!==e.transition,u={...e,disabledEnterTransition:!a,updateId:void 0};ur.dismissForce(e==null?void 0:e.toastId),setTimeout(()=>{ot(u.content,u)},e.delay||0)}},clear(e,t=!0){e?oo(e,t):C2(t)},dismissCallback(e){var t;const i=(t=e.currentTarget)==null?void 0:t.id,a=document.getElementById(i);a&&(a.removeEventListener("animationend",ur.dismissCallback,!1),setTimeout(()=>{ur.remove(i)}))},dismiss(e){if(e){const t=Qn();for(const i of t)if(i.toastId===e){Nf(i,a=>{a.addEventListener("animationend",ur.dismissCallback,!1)});break}}},dismissForce(e){if(e){const t=Qn();for(const i of t)if(i.toastId===e){const a=document.getElementById(e);a&&(a.remove(),a.removeEventListener("animationend",ur.dismissCallback,!1),ur.remove(e));break}}}},N2=yr({useHandler:void 0}),Of=yr({}),_s=yr({});function Bf(){return Math.random().toString(36).substring(2,9)}function O2(e){return typeof e=="number"&&!isNaN(e)}function lo(e){return typeof e=="string"}function zn(e){return typeof e=="function"}function ra(...e){return Jr(...e)}function ys(e){return typeof e=="object"&&(!!(e!=null&&e.render)||!!(e!=null&&e.setup)||typeof(e==null?void 0:e.type)=="object")}function B2(e={}){Of[`${Ye.CSS_NAMESPACE}-default-options`]=e}function H2(){return Of[`${Ye.CSS_NAMESPACE}-default-options`]||Df}function M2(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return document.documentElement.classList.contains("dark")||e?"dark":"light"}var ws=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e))(ws||{});const Hf={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},disabledEnterTransition:{type:Boolean,required:!1,default:!1},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:Vi.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Xn.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Jt.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""},contentProps:{type:Object,required:!1,default:null},expandCustomProps:{type:Boolean,required:!1,default:!1}},j2={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Jt.DEFAULT},theme:{type:String,required:!1,default:Xn.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},L2=Zn({name:"ProgressBar",props:j2,setup(e,{attrs:t}){const i=Fn(),a=lt(()=>e.hide?"true":"false"),u=lt(()=>({...t.style||{},animationDuration:`${e.autoClose===!0?5e3:e.autoClose}ms`,animationPlayState:e.isRunning?"running":"paused",opacity:e.hide||e.autoClose===!1?0:1,transform:e.controlledProgress?`scaleX(${e.progress})`:"none"})),h=lt(()=>[`${Ye.CSS_NAMESPACE}__progress-bar`,e.controlledProgress?`${Ye.CSS_NAMESPACE}__progress-bar--controlled`:`${Ye.CSS_NAMESPACE}__progress-bar--animated`,`${Ye.CSS_NAMESPACE}__progress-bar-theme--${e.theme}`,`${Ye.CSS_NAMESPACE}__progress-bar--${e.type}`,e.rtl?`${Ye.CSS_NAMESPACE}__progress-bar--rtl`:null].filter(Boolean).join(" ")),y=lt(()=>`${h.value} ${(t==null?void 0:t.class)||""}`),A=()=>{i.value&&(i.value.onanimationend=null,i.value.ontransitionend=null)},T=()=>{e.isIn&&e.closeToast&&e.autoClose!==!1&&(e.closeToast(),A())},O=lt(()=>e.controlledProgress?null:T),D=lt(()=>e.controlledProgress?T:null);return cs(()=>{i.value&&(A(),i.value.onanimationend=O.value,i.value.ontransitionend=D.value)}),()=>Be("div",{ref:i,role:"progressbar","aria-hidden":a.value,"aria-label":"notification timer",class:y.value,style:u.value},null)}}),k2=Zn({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Xn.AUTO},type:{type:String,required:!1,default:Xn.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(e){return()=>Be("button",{class:`${Ye.CSS_NAMESPACE}__close-button ${Ye.CSS_NAMESPACE}__close-button--${e.theme}`,type:"button",onClick:t=>{t.stopPropagation(),e.closeToast&&e.closeToast(t)},"aria-label":e.ariaLabel},[Be("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Be("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),na=({theme:e,type:t,path:i,...a})=>Be("svg",Jr({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`},a),[Be("path",{d:i},null)]);function K2(e){return Be(na,Jr(e,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function V2(e){return Be(na,Jr(e,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function U2(e){return Be(na,Jr(e,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function q2(e){return Be(na,Jr(e,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function $2(){return Be("div",{class:`${Ye.CSS_NAMESPACE}__spinner`},null)}const Ss={info:V2,warning:K2,success:U2,error:q2,spinner:$2},W2=e=>e in Ss;function z2({theme:e,type:t,isLoading:i,icon:a}){let u;const h=!!i||t==="loading",y={theme:e,type:t};if(h&&(a===void 0||typeof a=="boolean"))return Ss.spinner();if(a!==!1){if(ys(a))u=Oe(a);else if(zn(a)){const A=a;y.type=h?"loading":t,u=A(y),u=!u&&h?Ss.spinner():u}else Gn(a)?u=Rn(a,y):lo(a)||O2(a)?u=a:W2(t)&&(u=Ss[t](y));return u}}const G2=()=>{};function Y2(e,t,i=Ye.COLLAPSE_DURATION){const{scrollHeight:a,style:u}=e,h=i;requestAnimationFrame(()=>{u.minHeight="initial",u.height=a+"px",u.transition=`all ${h}ms`,requestAnimationFrame(()=>{u.height="0",u.padding="0",u.margin="0",setTimeout(t,h)})})}function J2(e){const t=Fn(!1),i=Fn(!1),a=Fn(!1),u=Fn(ws.Enter),h=yr({...e,appendPosition:e.appendPosition||!1,collapse:typeof e.collapse>"u"?!0:e.collapse,collapseDuration:e.collapseDuration||Ye.COLLAPSE_DURATION}),y=h.done||G2,A=lt(()=>h.appendPosition?`${h.enter}--${h.position}`:h.enter),T=lt(()=>h.appendPosition?`${h.exit}--${h.position}`:h.exit),O=lt(()=>e.pauseOnHover?{onMouseenter:re,onMouseleave:X}:{});function D(){const ce=A.value.split(" ");j().addEventListener(so.ENTRANCE_ANIMATION_END,X,{once:!0});const ye=xe=>{const De=j();xe.target===De&&(De.dispatchEvent(new Event(so.ENTRANCE_ANIMATION_END)),De.removeEventListener("animationend",ye),De.removeEventListener("animationcancel",ye),u.value===ws.Enter&&xe.type!=="animationcancel"&&De.classList.remove(...ce))},fe=()=>{const xe=j();xe.classList.add(...ce),xe.addEventListener("animationend",ye),xe.addEventListener("animationcancel",ye)};e.pauseOnFocusLoss&&G(),fe()}function C(){if(!j())return;const ce=()=>{const fe=j();fe.removeEventListener("animationend",ce),h.collapse?Y2(fe,y,h.collapseDuration):y()},ye=()=>{const fe=j();u.value=ws.Exit,fe&&(fe.className+=` ${T.value}`,fe.addEventListener("animationend",ce))};i.value||(a.value?ce():setTimeout(ye))}function j(){return e.toastRef.value}function G(){document.hasFocus()||re(),window.addEventListener("focus",X),window.addEventListener("blur",re)}function W(){window.removeEventListener("focus",X),window.removeEventListener("blur",re)}function X(){(!e.loading.value||e.isLoading===void 0)&&(t.value=!0)}function re(){t.value=!1}function he(ce){ce&&(ce.stopPropagation(),ce.preventDefault()),i.value=!1}return cs(C),cs(()=>{const ce=Qn();i.value=ce.findIndex(ye=>ye.toastId===h.toastId)>-1}),cs(()=>{e.isLoading!==void 0&&(e.loading.value?re():X())}),Ao(D),Vs(()=>{e.pauseOnFocusLoss&&W()}),{isIn:i,isRunning:t,hideToast:he,eventHandlers:O}}const X2=Zn({name:"ToastItem",inheritAttrs:!1,props:Hf,setup(e){const t=Fn(),i=lt(()=>!!e.isLoading),a=lt(()=>e.progress!==void 0&&e.progress!==null),u=lt(()=>z2(e)),h=lt(()=>[`${Ye.CSS_NAMESPACE}__toast`,`${Ye.CSS_NAMESPACE}__toast-theme--${e.theme}`,`${Ye.CSS_NAMESPACE}__toast--${e.type}`,e.rtl?`${Ye.CSS_NAMESPACE}__toast--rtl`:void 0,e.toastClassName||""].filter(Boolean).join(" ")),{isRunning:y,isIn:A,hideToast:T,eventHandlers:O}=J2({toastRef:t,loading:i,done:()=>{ur.remove(e.toastId)},..._f(e.transition,e.disabledEnterTransition),...e});return()=>Be("div",Jr({id:e.toastId,class:h.value,style:e.toastStyle||{},ref:t,"data-testid":`toast-item-${e.toastId}`,onClick:D=>{e.closeOnClick&&T(),e.onClick&&e.onClick(D)}},O.value),[Be("div",{role:e.role,"data-testid":"toast-body",class:`${Ye.CSS_NAMESPACE}__toast-body ${e.bodyClassName||""}`},[u.value!=null&&Be("div",{"data-testid":`toast-icon-${e.type}`,class:[`${Ye.CSS_NAMESPACE}__toast-icon`,e.isLoading?"":`${Ye.CSS_NAMESPACE}--animate-icon ${Ye.CSS_NAMESPACE}__zoom-enter`].join(" ")},[ys(u.value)?Kn(Oe(u.value),{theme:e.theme,type:e.type}):zn(u.value)?u.value({theme:e.theme,type:e.type}):u.value]),Be("div",{"data-testid":"toast-content"},[ys(e.content)?Kn(Oe(e.content),{toastProps:Oe(e),closeToast:T,data:e.data,...e.expandCustomProps?e.contentProps:{contentProps:e.contentProps||{}}}):zn(e.content)?e.content({toastProps:Oe(e),closeToast:T,data:e.data}):e.dangerouslyHTMLString?Kn("div",{innerHTML:e.content}):e.content])]),(e.closeButton===void 0||e.closeButton===!0)&&Be(k2,{theme:e.theme,closeToast:D=>{D.stopPropagation(),D.preventDefault(),T()}},null),ys(e.closeButton)?Kn(Oe(e.closeButton),{closeToast:T,type:e.type,theme:e.theme}):zn(e.closeButton)?e.closeButton({closeToast:T,type:e.type,theme:e.theme}):null,Be(L2,{className:e.progressClassName,style:e.progressStyle,rtl:e.rtl,theme:e.theme,isIn:A.value,type:e.type,hide:e.hideProgressBar,isRunning:y.value,autoClose:e.autoClose,controlledProgress:a.value,progress:e.progress,closeToast:e.isLoading?void 0:T},null)])}});let Ci=0;function Mf(){typeof window>"u"||(Ci&&window.cancelAnimationFrame(Ci),Ci=window.requestAnimationFrame(Mf),_s.lastUrl!==window.location.href&&(_s.lastUrl=window.location.href,ur.clear()))}const Q2=Zn({name:"ToastifyContainer",inheritAttrs:!1,props:Hf,setup(e){const t=lt(()=>e.containerId),i=lt(()=>Rt[t.value]||[]),a=lt(()=>i.value.filter(u=>u.position===e.position));return Ao(()=>{typeof window<"u"&&e.clearOnUrlChange&&window.requestAnimationFrame(Mf)}),Vs(()=>{typeof window<"u"&&Ci&&(window.cancelAnimationFrame(Ci),_s.lastUrl="")}),()=>Be(Yt,null,[a.value.map(u=>{const{toastId:h=""}=u;return Be(X2,Jr({key:h},u),null)})])}});let Ha=!1;const jf={isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1};function Lf(){const e=[];return Qn().forEach(t=>{const i=document.getElementById(t.containerId);i&&!i.classList.contains(ta)&&e.push(t)}),e}function Z2(e){const t=Lf().length,i=e??0;return i>0&&t+jr.items.length>=i}function ew(e){Z2(e.limit)&&!e.updateId&&jr.items.push({toastId:e.toastId,containerId:e.containerId,toastContent:e.content,toastProps:e})}function pn(e,t,i={}){if(Ha)return;i=ra(H2(),{type:t},Oe(i)),(!i.toastId||typeof i.toastId!="string"&&typeof i.toastId!="number")&&(i.toastId=Bf()),i={...i,...i.type==="loading"?jf:{},content:e,containerId:i.containerId||String(i.position)};const a=Number(i==null?void 0:i.progress);return!isNaN(a)&&a<0&&(i.progress=0),a>1&&(i.progress=1),i.theme==="auto"&&(i.theme=M2()),ew(i),_s.lastUrl=window.location.href,i.multiple?jr.items.length?i.updateId&&vs(e,i):vs(e,i):(Ha=!0,ot.clearAll(void 0,!1),setTimeout(()=>{vs(e,i)},0),setTimeout(()=>{Ha=!1},390)),i.toastId}const ot=(e,t)=>pn(e,Jt.DEFAULT,t);ot.info=(e,t)=>pn(e,Jt.DEFAULT,{...t,type:Jt.INFO});ot.error=(e,t)=>pn(e,Jt.DEFAULT,{...t,type:Jt.ERROR});ot.warning=(e,t)=>pn(e,Jt.DEFAULT,{...t,type:Jt.WARNING});ot.warn=ot.warning;ot.success=(e,t)=>pn(e,Jt.DEFAULT,{...t,type:Jt.SUCCESS});ot.loading=(e,t)=>pn(e,Jt.DEFAULT,ra(t,jf));ot.dark=(e,t)=>pn(e,Jt.DEFAULT,ra(t,{theme:Xn.DARK}));ot.remove=e=>{e?ur.dismiss(e):ur.clear()};ot.clearAll=(e,t)=>{ji(()=>{ur.clear(e,t)})};ot.isActive=e=>{let t=!1;return t=Lf().findIndex(i=>i.toastId===e)>-1,t};ot.update=(e,t={})=>{setTimeout(()=>{const i=_2(e);if(i){const a=Oe(i),{content:u}=a,h={...a,...t,toastId:t.toastId||e,updateId:Bf()},y=h.render||u;delete h.render,pn(y,h.type,h)}},0)};ot.done=e=>{ot.update(e,{isLoading:!1,progress:1})};ot.promise=tw;function tw(e,{pending:t,error:i,success:a},u){var h,y,A;let T;const O={...u||{},autoClose:!1};t&&(T=lo(t)?ot.loading(t,O):ot.loading(t.render,{...O,...t}));const D={autoClose:(h=u==null?void 0:u.autoClose)!=null?h:!0,closeOnClick:(y=u==null?void 0:u.closeOnClick)!=null?y:!0,closeButton:(A=u==null?void 0:u.autoClose)!=null?A:null,isLoading:void 0,draggable:null,delay:100},C=(G,W,X)=>{if(W==null){ot.remove(T);return}const re={type:G,...D,...u,data:X},he=lo(W)?{render:W}:W;return T?ot.update(T,{...re,...he,isLoading:!1}):ot(he.render,{...re,...he,isLoading:!1}),X},j=zn(e)?e():e;return j.then(G=>{C("success",a,G)}).catch(G=>{C("error",i,G)}),j}ot.POSITION=Vi;ot.THEME=Xn;ot.TYPE=Jt;ot.TRANSITIONS=d2;const rw={install(e,t={}){N2.useHandler=t.useHandler||(()=>{}),nw(t)}};typeof window<"u"&&(window.Vue3Toastify=rw);function nw(e={}){const t=ra(Df,e);B2(t)}const iw={name:"UserSelectionModal",props:{isVisible:{type:Boolean,required:!0},fileUsers:{type:Object,required:!0}},data(){return{searchQuery:"",allUsers:[],filteredUsers:[],selectedUserIds:[],token:localStorage.getItem("accessToken"),userId:localStorage.getItem("username")}},watch:{isVisible(e){e&&(this.fetchUsers(),this.selectedUserIds=[],this.searchQuery="",this.filteredUsers=[])}},methods:{async fetchUsers(){try{this.allUsers=await Qm(this.token),this.allUsers=this.allUsers.filter(e=>e!=this.userId),this.selectedUserIds=this.fileUsers.filter(e=>e!=this.userId),this.filteredUsers=this.allUsers}catch(e){console.error("獲取所有使用者 ID 失敗:",e)}},filterUsers(){if(!this.searchQuery){this.filteredUsers=this.allUsers;return}const e=this.searchQuery.toLowerCase();this.filteredUsers=this.allUsers.filter(t=>t.toLowerCase().includes(e))},addToSelected(e){this.isSelected(e)||this.selectedUserIds.push(e)},removeSelected(e){this.selectedUserIds=this.selectedUserIds.filter(t=>t!==e)},isSelected(e){return this.selectedUserIds.includes(e)},confirmSelection(){this.selectedUserIds.push(this.userId),this.$emit("confirm",this.selectedUserIds),this.closeModal()},closeModal(){this.$emit("close")}}},sw={key:0,class:"modal-overlay"},aw={class:"modal-content"},ow={class:"user-list"},uw={key:0,class:"no-match-message"},lw={class:"user-id-text"},cw=["onClick","disabled"],fw={class:"selected-users"},hw={key:0,class:"no-selection-message"},dw={class:"user-id-text"},pw=["onClick"],gw={class:"modal-actions"};function mw(e,t,i,a,u,h){return be(),Di(Cp,{to:"body"},[i.isVisible?(be(),Ae("div",sw,[Y("div",aw,[t[4]||(t[4]=Y("h2",null,"選擇使用者",-1)),Pn(Y("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=y=>u.searchQuery=y),placeholder:"搜尋使用者名稱...",onInput:t[1]||(t[1]=(...y)=>h.filterUsers&&h.filterUsers(...y))},null,544),[[Tn,u.searchQuery]]),t[5]||(t[5]=Y("h3",null,"匹配結果：",-1)),Y("div",ow,[u.filteredUsers.length===0&&u.searchQuery!==""?(be(),Ae("p",uw,"沒有找到匹配的使用者。")):St("",!0),(be(!0),Ae(Yt,null,Ua(u.filteredUsers,y=>(be(),Ae("div",{key:y,class:"user-item"},[Y("span",lw,rt(y),1),Y("button",{onClick:A=>h.addToSelected(y),disabled:h.isSelected(y),class:"action-button add-button"},rt(h.isSelected(y)?"已加入":"加入"),9,cw)]))),128))]),t[6]||(t[6]=Y("h3",null,"已選擇使用者：",-1)),Y("div",fw,[u.selectedUserIds.length===0?(be(),Ae("p",hw,"尚未選擇任何使用者。")):St("",!0),Y("ul",null,[(be(!0),Ae(Yt,null,Ua(u.selectedUserIds,y=>(be(),Ae("li",{key:y,class:"selected-user-item"},[Y("span",dw,rt(y),1),Y("button",{class:"action-button remove-button",onClick:A=>h.removeSelected(y)},"移除",8,pw)]))),128))])]),Y("div",gw,[Y("button",{onClick:t[2]||(t[2]=(...y)=>h.confirmSelection&&h.confirmSelection(...y)),class:"action-button confirm-button"},"確定"),Y("button",{onClick:t[3]||(t[3]=(...y)=>h.closeModal&&h.closeModal(...y)),class:"action-button cancel-button"},"取消")])])])):St("",!0)])}const vw=Er(iw,[["render",mw],["__scopeId","data-v-5762e24e"]]),yw={name:"UpdateFileKey",components:{UserSelectionModal:vw},props:{fileId:{type:Number,required:!0},fileUsers:{type:Object,required:!0},isOwner:{type:Boolean,required:!0}},data(){return{message:"",token:localStorage.getItem("accessToken"),isModalVisible:!1}},methods:{openUserSelectionModal(){this.isModalVisible=!0,console.log(this.fileUsers)},async handleUserSelectionConfirm(e){if(e.length===0){this.message="請至少選擇一個使用者。";return}try{const t=await Rf(this.fileId),i=await If(t.kmsKeyId),a=await jo(i.key),u=await Pf(t.encryptedKey,a),h=await Tf(e),y=await Af(h.key),A=await Cf(u,y);await Zm(this.token,this.fileId,h.keyID,A,e),this.$emit("updated"),this.message="金鑰資訊處理完成！"}catch(t){console.error("金鑰處理過程中發生錯誤:",t),this.message=`金鑰處理失敗: ${t.message}`}}}},ww=["disabled"];function Sw(e,t,i,a,u,h){const y=Br("UserSelectionModal");return be(),Ae("div",null,[Y("button",{onClick:t[0]||(t[0]=(...A)=>h.openUserSelectionModal&&h.openUserSelectionModal(...A)),class:"download-action-button",disabled:!i.isOwner},"共用",8,ww),Be(y,{isVisible:u.isModalVisible,fileUsers:i.fileUsers,onClose:t[1]||(t[1]=A=>u.isModalVisible=!1),onConfirm:h.handleUserSelectionConfirm},null,8,["isVisible","fileUsers","onConfirm"])])}const xw=Er(yw,[["render",Sw],["__scopeId","data-v-c269dc3f"]]),bw={name:"FileListDisplay",components:{FileDownload:h2,UpdateFileKey:xw},props:{files:{type:Array,required:!0,default:()=>[]},loading:{type:Boolean,required:!0,default:!1},username:{type:String,required:!0},searchQuery:{type:String,default:""}},computed:{filteredFiles(){if(!this.searchQuery)return this.files;const e=this.searchQuery.toLowerCase();return this.files.filter(t=>t.name.toLowerCase().includes(e))}},methods:{formatFileSize:Ff,formatDate:Uy,getFileIcon(e){switch(e.split(".").pop().toLowerCase()){case"pdf":return"fas fa-file-pdf";case"doc":case"docx":return"fas fa-file-word";case"xls":case"xlsx":return"fas fa-file-excel";case"ppt":case"pptx":return"fas fa-file-powerpoint";case"jpg":case"jpeg":case"png":case"gif":return"fas fa-file-image";case"zip":case"rar":return"fas fa-file-archive";case"txt":return"fas fa-file-alt";case"mp3":case"wav":return"fas fa-file-audio";case"mp4":case"avi":case"mov":return"fas fa-file-video";case"cpp":case"c":case"h":case"py":case"js":case"html":case"css":return"fas fa-file-code";default:return"fas fa-file"}},deleteFile(e){this.$emit("delete-file",e)},handleDownloadError(e){e.status==401&&ot(`下載失敗：${e.message}`,{theme:"dark",type:"error",position:"bottom-right",transition:"slide",dangerouslyHTMLString:!0})},isOwner(e){return e.owner===this.username},handleFileOwnerUpdate(){this.$emit("reflash")}}},Ew={class:"file-list-container"},Fw={key:0,class:"no-files-message"},Aw={key:1,class:"loading-message"},Cw={key:2,class:"file-grid"},Pw={class:"file-icon"},Tw={class:"file-info"},Iw={class:"file-name"},Rw={class:"file-size"},Dw={class:"file-date"},_w={class:"file-actions"},Nw=["onClick","disabled"];function Ow(e,t,i,a,u,h){const y=Br("FileDownload"),A=Br("UpdateFileKey");return be(),Ae("div",Ew,[i.files.length===0&&!i.loading?(be(),Ae("div",Fw," 您還沒有上傳任何檔案。點擊左側的「新增檔案」按鈕開始吧！ ")):i.loading?(be(),Ae("div",Aw,t[0]||(t[0]=[Y("i",{class:"fas fa-spinner fa-spin"},null,-1),_t(" 載入檔案中... ")]))):(be(),Ae("div",Cw,[(be(!0),Ae(Yt,null,Ua(h.filteredFiles,T=>(be(),Ae("div",{key:T.id,class:"file-card"},[Y("div",Pw,[Y("i",{class:Or(h.getFileIcon(T.name))},null,2)]),Y("div",Tw,[Y("span",Iw,rt(T.name),1),Y("span",Rw,rt(h.formatFileSize(T.size)),1),Y("span",Dw,rt(h.formatDate(T.time)),1)]),Y("div",_w,[Be(y,{"file-id":T.id,filename:T.name,onDownloadError:h.handleDownloadError},null,8,["file-id","filename","onDownloadError"]),Be(A,{"file-id":T.id,"file-users":T.users,"is-owner":h.isOwner(T),onUpdated:h.handleFileOwnerUpdate},null,8,["file-id","file-users","is-owner","onUpdated"]),Y("button",{onClick:O=>h.deleteFile(T.id),class:"action-button delete-button",title:"刪除",disabled:!h.isOwner(T)}," 刪除 ",8,Nw)])]))),128))]))])}const Bw=Er(bw,[["render",Ow],["__scopeId","data-v-24e7125d"]]),Hw={name:"TwoFactorAuthSetup",props:{username:{type:String,required:!0},hasExisting2FA:{type:Boolean,default:!1}},data(){return{isLoading:!1,currentStep:"initial",qrCodeImageUrl:null,totpSecret:null,verificationCode:"",errorMessage:null,showResetConfirmDialog:!1}},methods:{async setupTwoFa(e=!1){this.isLoading=!0,this.errorMessage=null,this.qrCodeImageUrl=null,this.totpSecret=null,this.verificationCode="";try{const t=localStorage.getItem("accessToken");if(!t)throw new Error("未檢測到登入憑證，請重新登入。");const i=await nv(t,e);if(i&&i.qrcode&&i.totp_secret)this.qrCodeImageUrl=`data:image/png;base64,${i.qrcode}`,this.totpSecret=i.totp_secret,this.currentStep="displayQrCode";else throw new Error("無效的 2FA 設定數據：缺少 QR Code 或密鑰。")}catch(t){console.error("設定兩階段驗證失敗:",t),this.errorMessage=t.message||"設定兩階段驗證失敗，請稍後再試。",t.response&&t.response.status===401&&(this.errorMessage="登入過期，請重新登入。")}finally{this.isLoading=!1,this.showResetConfirmDialog=!1}},async verifyTwoFaCode(){if(!this.verificationCode){this.errorMessage="請輸入驗證碼。";return}if(this.verificationCode.length!==6||!/^\d+$/.test(this.verificationCode)){this.errorMessage="驗證碼必須是 6 位數字。";return}this.isLoading=!0,this.errorMessage=null;try{const e=await wf(this.username,this.verificationCode);if(e)localStorage.setItem("accessToken",e),this.$emit("twofa-change"),this.backToSetup();else throw new Error(response.message||"驗證碼無效，請重試。")}catch(e){console.error("驗證兩階段驗證碼失敗:",e),this.errorMessage=e.message||"驗證碼驗證失敗，請檢查後重試。",e.response&&e.response.status===401?this.errorMessage="登入過期，請重新登入。":e.response&&e.response.status===400&&e.response.data.message==="Invalid TOTP code"&&(this.errorMessage="驗證碼錯誤或已過期，請重試。")}finally{this.isLoading=!1}},confirmResetAndSetup(){this.showResetConfirmDialog=!0},resetAndSetup(){this.setupTwoFa(!0)},backToSetup(){this.qrCodeImageUrl=null,this.totpSecret=null,this.verificationCode="",this.errorMessage=null,this.currentStep="initial"},async cancelSetup(){const e=localStorage.getItem("accessToken");if(!e)throw new Error("未檢測到登入憑證，請重新登入。");try{await sv(e),this.$emit("twofa-change"),this.backToSetup()}catch(t){console.error("兩階段驗證碼刪除失敗:",t),this.errorMessage="兩階段驗證碼刪除失敗"}},async copyToClipboard(e){try{await navigator.clipboard.writeText(e),alert("密鑰已複製到剪貼簿！")}catch(t){console.error("複製到剪貼簿失敗:",t),alert("複製失敗，請手動複製。")}},clearError(){this.errorMessage=null}}},Mw={class:"two-fa-setup-container"},jw={key:0,class:"initial-state"},Lw={key:0,class:"description-text"},kw={key:1,class:"description-text success-text"},Kw={class:"button-group"},Vw=["disabled"],Uw={key:0,class:"fas fa-spinner fa-spin"},qw=["disabled"],$w={key:0,class:"fas fa-spinner fa-spin"},Ww=["disabled"],zw={key:1,class:"two-fa-display-area"},Gw={class:"display-flex-container"},Yw={class:"qr-code-wrapper"},Jw=["src"],Xw={class:"right-content-wrapper"},Qw={class:"totp-secret-wrapper"},Zw={class:"secret-display"},eS={id:"totpSecret",class:"secret-value"},tS={class:"verification-input-area"},rS=["disabled"],nS=["disabled"],iS={key:0,class:"fas fa-spinner fa-spin"},sS={key:2,class:"error-message"},aS={key:3,class:"confirm-dialog-overlay"},oS={class:"confirm-dialog-card"},uS={class:"dialog-actions"};function lS(e,t,i,a,u,h){return be(),Ae("div",Mw,[t[19]||(t[19]=Y("h3",{class:"two-fa-title"},"兩階段驗證 (2FA) 設定",-1)),u.currentStep==="initial"?(be(),Ae("div",jw,[i.hasExisting2FA?(be(),Ae("p",kw,t[11]||(t[11]=[Y("i",{class:"fas fa-check-circle"},null,-1),_t(" 您的帳戶已設定兩階段驗證，安全性已提高。 ")]))):(be(),Ae("p",Lw,"啟用兩階段驗證可以提高您的帳戶安全性。")),Y("div",Kw,[i.hasExisting2FA?(be(),Ae(Yt,{key:1},[Y("button",{onClick:t[1]||(t[1]=(...y)=>h.confirmResetAndSetup&&h.confirmResetAndSetup(...y)),disabled:u.isLoading,class:"action-button reset-button"},[u.isLoading?(be(),Ae("i",$w)):St("",!0),_t(" "+rt(u.isLoading?"重設中...":"重設兩階段驗證"),1)],8,qw),Y("button",{onClick:t[2]||(t[2]=(...y)=>h.cancelSetup&&h.cancelSetup(...y)),disabled:u.isLoading,class:"action-button back-button"}," 取消設定 ",8,Ww)],64)):(be(),Ae("button",{key:0,onClick:t[0]||(t[0]=y=>h.setupTwoFa(!1)),disabled:u.isLoading,class:"action-button setup-button"},[u.isLoading?(be(),Ae("i",Uw)):St("",!0),_t(" "+rt(u.isLoading?"準備中...":"設定兩階段驗證"),1)],8,Vw))])])):u.currentStep==="displayQrCode"?(be(),Ae("div",zw,[t[15]||(t[15]=Y("p",{class:"description-text"},"請使用您的驗證器應用程式（如 Google Authenticator）掃描下方 QR Code，或手動輸入密鑰。",-1)),Y("div",Gw,[Y("div",Yw,[Y("img",{src:u.qrCodeImageUrl,alt:"2FA QR Code",class:"qr-code-image"},null,8,Jw)]),Y("div",Xw,[Y("div",Qw,[t[12]||(t[12]=Y("label",{for:"totpSecret",class:"secret-label"},"您的密鑰 (TOTP Secret):",-1)),Y("div",Zw,[Y("span",eS,rt(u.totpSecret),1),Y("button",{onClick:t[3]||(t[3]=y=>h.copyToClipboard(u.totpSecret)),class:"copy-button",title:"複製密鑰"},"複製")]),t[13]||(t[13]=Y("p",{class:"warning-text"},[Y("i",{class:"fas fa-exclamation-triangle"}),_t(" 請將此密鑰妥善保存，它用於重新設定！")],-1))]),Y("div",tS,[t[14]||(t[14]=Y("label",{for:"verificationCode",class:"input-label"},"請輸入驗證器生成的驗證碼:",-1)),Pn(Y("input",{type:"text",id:"verificationCode","onUpdate:modelValue":t[4]||(t[4]=y=>u.verificationCode=y),placeholder:"輸入 6 位數字驗證碼",maxlength:"6",class:"verification-input",disabled:u.isLoading,onKeyup:t[5]||(t[5]=Rc((...y)=>h.verifyTwoFaCode&&h.verifyTwoFaCode(...y),["enter"]))},null,40,rS),[[Tn,u.verificationCode]]),Y("button",{onClick:t[6]||(t[6]=(...y)=>h.verifyTwoFaCode&&h.verifyTwoFaCode(...y)),disabled:u.isLoading||!u.verificationCode.length,class:"action-button verify-button"},[u.isLoading?(be(),Ae("i",iS)):St("",!0),_t(" "+rt(u.isLoading?"驗證中...":"確認啟用 2FA"),1)],8,nS)])])]),Y("button",{onClick:t[7]||(t[7]=(...y)=>h.backToSetup&&h.backToSetup(...y)),class:"action-button back-button"},"取消設定")])):St("",!0),u.errorMessage?(be(),Ae("div",sS,[t[16]||(t[16]=Y("i",{class:"fas fa-times-circle"},null,-1)),_t(" "+rt(u.errorMessage)+" ",1),Y("button",{onClick:t[8]||(t[8]=(...y)=>h.clearError&&h.clearError(...y)),class:"clear-error-button"},"清除")])):St("",!0),u.showResetConfirmDialog?(be(),Ae("div",aS,[Y("div",oS,[t[17]||(t[17]=Y("h3",null,"確認重設 2FA",-1)),t[18]||(t[18]=Y("p",null,"重設兩階段驗證將使您當前的 QR Code 和密鑰失效。您確定要繼續嗎？",-1)),Y("div",uS,[Y("button",{onClick:t[9]||(t[9]=(...y)=>h.resetAndSetup&&h.resetAndSetup(...y)),class:"action-button dialog-confirm-button"},"確定"),Y("button",{onClick:t[10]||(t[10]=y=>u.showResetConfirmDialog=!1),class:"action-button dialog-cancel-button"},"取消")])])])):St("",!0)])}const cS=Er(Hw,[["render",lS],["__scopeId","data-v-1804ddc3"]]),fS={name:"CertificateManager",props:{username:{type:String,required:!0}},data(){return{currentPage:"initial",generationComplete:!1,importComplete:!1,fileName:null,privateKey:null,privateKeyPEM:"",error:"",username:localStorage.getItem("username")}},methods:{async startGenerateCertificate(){this.currentPage="generate",this.generationComplete=!1,this.error=null,console.log("開始生成憑證..."),await this.generateAndRequestCertificate(),this.generationComplete=!0,console.log("憑證生成流程完成。"),this.$emit("readingDiscription")},async generateAndRequestCertificate(){if(!window.crypto||!window.crypto.subtle){this.error="您的瀏覽器不支援 Web Crypto API。";return}try{const e=await zy(),t=Fl(e.privateKeyPEM,e.publicKeyPEM,{commonName:this.username}),i=await Al(t);this.privateKey=e.privateKeyPEM,localStorage.setItem("userCertificate",i),this.$emit("certificateSaved"),this.downloadPrivateKey()}catch(e){console.error("生成金鑰並請求憑證失敗:",e),this.error="生成金鑰並請求憑證失敗，請稍後再試。",e.response&&e.response.data&&e.response.data.message&&(this.error=e.response.data.message)}},downloadPrivateKey(){if(!this.privateKey){this.error="私鑰尚未生成。";return}this.downloadFile(`${this.username}_private_key.pem`,this.privateKey,"text/plain"),this.error=null},startImportPrivateKey(){this.currentPage="import",this.importComplete=!1,this.fileName=null,this.privateKeyPEM="",this.error=null,console.log("準備導入私鑰..."),this.triggerFileInput()},triggerFileInput(){this.$refs.fileInput.click(),this.$emit("fileInputFocus")},async handleFileUpload(e){const t=e.target.files[0];if(t){this.fileName=t.name,console.log("選取檔案:",t.name);const i=new FileReader;i.onload=async a=>{this.privateKeyPEM=a.target.result,console.log("私鑰檔案內容已讀取，長度:",this.privateKeyPEM.length)},i.readAsText(t),this.$emit("fileSelected")}else this.fileName=null,this.privateKeyPEM="",console.log("未選擇檔案。")},async generateCertFromPrivate(){if(this.importComplete=!1,this.error=null,!this.privateKeyPEM){this.error="請先上傳私鑰檔案。";return}try{const e=await Gy(this.privateKeyPEM),t=Fl(this.privateKeyPEM,e,{commonName:this.username}),i=await Al(t);localStorage.setItem("userCertificate",i),this.$emit("certificateSaved"),this.importComplete=!0,console.log("私鑰導入成功，已完成憑證請求！")}catch(e){console.error("導入私鑰並請求憑證失敗:",e),this.error="導入私鑰並請求憑證失敗，請稍後再試。",e.response&&e.response.data&&e.response.data.message&&(this.error=e.response.data.message)}finally{this.importComplete=!0}},downloadFile(e,t,i){const a=document.createElement("a");a.setAttribute("href",`data:${i};charset=utf-8,${encodeURIComponent(t)}`),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},closePopover(){this.currentPage="initial",this.$emit("close")}}},hS={class:"certificate-manager"},dS={key:0,class:"initial-view"},pS={key:1,class:"generate-view"},gS={key:0},mS={key:1},vS={key:0,class:"completion-message"},yS={class:"generate-buttons"},wS={key:1,class:"error-message"},SS={class:"error-botton"},xS={key:2,class:"import-view"},bS={key:0},ES={class:"custom-file-input"},FS={class:"import-buttons"},AS=["disabled"],CS={key:1},PS={key:0,class:"completion-message"},TS={key:1,class:"error-message"},IS={class:"error-botton"};function RS(e,t,i,a,u,h){return be(),Ae(Yt,null,[Y("input",{type:"file",onChange:t[0]||(t[0]=(...y)=>h.handleFileUpload&&h.handleFileUpload(...y)),accept:".pem,.key",ref:"fileInput",style:{display:"none"}},null,544),Y("div",hS,[u.currentPage==="initial"?(be(),Ae("div",dS,[Y("button",{onClick:t[1]||(t[1]=(...y)=>h.startGenerateCertificate&&h.startGenerateCertificate(...y)),class:"action-button"},"生成憑證"),t[11]||(t[11]=Y("div",{class:"separator"},"或",-1)),Y("button",{onClick:t[2]||(t[2]=(...y)=>h.startImportPrivateKey&&h.startImportPrivateKey(...y)),class:"action-button"},"導入私鑰")])):St("",!0),u.currentPage==="generate"?(be(),Ae("div",pS,[u.generationComplete?(be(),Ae("div",mS,[u.error?(be(),Ae("div",wS,[Y("p",null,"錯誤："+rt(u.error),1),Y("div",SS,[Y("button",{onClick:t[5]||(t[5]=(...y)=>h.closePopover&&h.closePopover(...y)),class:"action-button"},"確定")])])):(be(),Ae("div",vS,[t[12]||(t[12]=Y("h3",null,"憑證已生成完成！",-1)),t[13]||(t[13]=Y("p",null,"請務必妥善保存私鑰，這是還原您檔案的唯一手段!",-1)),t[14]||(t[14]=Y("p",null,"金鑰會自動下載，如果沒有下載，請點擊下載按鈕",-1)),Y("div",yS,[Y("button",{onClick:t[3]||(t[3]=(...y)=>h.downloadPrivateKey&&h.downloadPrivateKey(...y)),class:"action-button download-button"},"下載金鑰"),Y("button",{onClick:t[4]||(t[4]=(...y)=>h.closePopover&&h.closePopover(...y)),class:"action-button"},"確定")])]))])):(be(),Ae("h2",gS,"生成憑證中..."))])):St("",!0),u.currentPage==="import"?(be(),Ae("div",xS,[u.importComplete?(be(),Ae("div",CS,[u.error?(be(),Ae("div",TS,[Y("p",null,"錯誤："+rt(u.error),1),Y("div",IS,[Y("button",{onClick:t[10]||(t[10]=(...y)=>h.closePopover&&h.closePopover(...y)),class:"action-button"},"確定")])])):(be(),Ae("div",PS,[t[17]||(t[17]=Y("p",null,[_t("私鑰導入成功"),Y("br"),_t("已完成憑證請求！")],-1)),Y("button",{onClick:t[9]||(t[9]=(...y)=>h.closePopover&&h.closePopover(...y)),class:"action-button"},"確定")]))])):(be(),Ae("div",bS,[t[15]||(t[15]=Y("h2",null,"導入私鑰",-1)),t[16]||(t[16]=Y("p",{class:"description"},"請選擇您的私鑰檔案：",-1)),Y("div",ES,[Y("span",{class:Or(["placeholder",{"has-certificate":u.fileName}])},rt(u.fileName?u.fileName:"未選擇檔案。"),3),Y("button",{onClick:t[6]||(t[6]=(...y)=>h.triggerFileInput&&h.triggerFileInput(...y)),class:"browse-button"},"瀏覽...")]),Y("div",FS,[Y("button",{class:"action-button upload-button",onClick:t[7]||(t[7]=(...y)=>h.generateCertFromPrivate&&h.generateCertFromPrivate(...y)),disabled:!u.privateKeyPEM},"導入私鑰",8,AS),Y("button",{onClick:t[8]||(t[8]=(...y)=>h.closePopover&&h.closePopover(...y)),class:"action-button"},"取消")])]))])):St("",!0)])],64)}const DS=Er(fS,[["render",RS],["__scopeId","data-v-332fd233"]]),_S={name:"UserDashboard",components:{FileUpload:a2,TwoFactorAuthSetup:cS,FileListDisplay:Bw,CertificateManager:DS},data(){return{username:"",token:"",fileList:[],searchQuery:"",isUserDropdownOpen:!1,loading:!1,showCertificatePopover:!1,hasCertificate:!1,closePopoverTimeout:null,isFileInputActive:!1,hasFileSelectedInPopover:!1,readDiscription:!1,currentSidebarView:"myFiles",hasTwoFactorAuth:!1}},async mounted(){this.username=localStorage.getItem("username"),this.token=localStorage.getItem("accessToken"),await this.fetchFiles(),this.checkCertificate()},beforeUnmount(){this.closePopoverTimeout&&clearTimeout(this.closePopoverTimeout)},methods:{toggleUserDropdown(){this.isUserDropdownOpen=!this.isUserDropdownOpen},viewProfile(){this.isUserDropdownOpen=!1},openSettings(){this.isUserDropdownOpen=!1},handleLogout(){localStorage.removeItem("accessToken"),localStorage.removeItem("userCertificate"),localStorage.removeItem("username"),this.isUserDropdownOpen=!1,this.$router.push("/")},loadingCallback(e){this.loading=e},async fetchFiles(){this.fileList=await ev(this.token,this.$router,this.loadingCallback)},async deleteFile(e){await tv(e,this.token),this.fetchFiles()},checkCertificate(){localStorage.getItem("userCertificate")?this.hasCertificate=!0:this.hasCertificate=!1},handleMouseEnterPopoverArea(){this.closePopoverTimeout&&(clearTimeout(this.closePopoverTimeout),this.closePopoverTimeout=null),this.showCertificatePopover=!0},handleMouseLeavePopoverArea(){!this.isFileInputActive&&!this.hasFileSelectedInPopover&&!this.readDiscription&&(this.closePopoverTimeout=setTimeout(()=>{this.showCertificatePopover=!1},300))},handleCertificateSaved(){this.checkCertificate(),this.isFileInputActive=!1,this.hasFileSelectedInPopover=!1},handleFileInputFocus(){this.isFileInputActive=!0,this.closePopoverTimeout&&(clearTimeout(this.closePopoverTimeout),this.closePopoverTimeout=null)},handleReadingDiscription(){this.readDiscription=!0,this.closePopoverTimeout&&(clearTimeout(this.closePopoverTimeout),this.closePopoverTimeout=null)},handleFileSelectedInPopover(){this.hasFileSelectedInPopover=!0,this.closePopoverTimeout&&(clearTimeout(this.closePopoverTimeout),this.closePopoverTimeout=null)},handleCertificatePopoverClose(){this.showCertificatePopover=!1,this.isFileInputActive=!1,this.hasFileSelectedInPopover=!1,this.readDiscription=!1,this.closePopoverTimeout&&(clearTimeout(this.closePopoverTimeout),this.closePopoverTimeout=null)},selectSidebarView(e){this.currentSidebarView=e,e==="myFiles"&&(this.searchQuery=""),e==="twoFactorAuth"&&this.checkUserTwoFactorAuthStatus(),this.showCertificatePopover=!1,this.isFileInputActive=!1,this.hasFileSelectedInPopover=!1},async checkUserTwoFactorAuthStatus(){try{const e=localStorage.getItem("accessToken");e&&(this.hasTwoFactorAuth=await iv(e))}catch(e){console.error("檢查 2FA 狀態失敗:",e),this.hasTwoFactorAuth=!1}}}},NS={class:"dashboard-container"},OS={class:"sidebar"},BS={class:"sidebar-nav"},HS={key:0,class:"fas fa-check certificate-check-icon"},MS={class:"main-content-wrapper"},jS={class:"navbar"},LS={class:"navbar-right"},kS={class:"username"},KS={key:0,class:"user-dropdown"},VS={class:"content-area"},US={class:"file-list-header"},qS={key:0,class:"navbar-title"},$S={key:1,class:"navbar-title"};function WS(e,t,i,a,u,h){const y=Br("FileUpload"),A=Br("CertificateManager"),T=Br("FileListDisplay"),O=Br("TwoFactorAuthSetup");return be(),Ae("div",NS,[Y("aside",OS,[t[11]||(t[11]=Y("h1",{class:"app-title sidebar-title"},"密碼碼密呀",-1)),Be(y,{class:"sidebar-fileUpload",onFileUploaded:h.fetchFiles},null,8,["onFileUploaded"]),Y("nav",BS,[Y("a",{href:"#",class:Or(["nav-item",{active:u.currentSidebarView==="myFiles"}]),onClick:t[0]||(t[0]=En(D=>h.selectSidebarView("myFiles"),["prevent"]))},t[8]||(t[8]=[Y("i",{class:"fas fa-folder"},null,-1),_t(" 我的檔案 ")]),2),Y("a",{href:"#",class:Or(["nav-item",{active:u.currentSidebarView==="twoFactorAuth"}]),onClick:t[1]||(t[1]=En(D=>h.selectSidebarView("twoFactorAuth"),["prevent"]))},t[9]||(t[9]=[Y("i",{class:"fas fa-shield-alt"},null,-1),_t(" 兩階段驗證 ")]),2)]),Y("div",{class:Or(["sidebar-footer",{"shifted-up-footer":u.showCertificatePopover}])},[Y("div",{class:"certificate-management-wrapper",ref:"certificateButtonWrapper",onMouseenter:t[2]||(t[2]=(...D)=>h.handleMouseEnterPopoverArea&&h.handleMouseEnterPopoverArea(...D)),onMouseleave:t[3]||(t[3]=(...D)=>h.handleMouseLeavePopoverArea&&h.handleMouseLeavePopoverArea(...D))},[Y("a",{href:"#",class:Or(["nav-item small-button",{"has-certificate":u.hasCertificate}])},[t[10]||(t[10]=Y("i",{class:"fas fa-certificate"},null,-1)),_t(" 憑證狀態： "+rt(u.hasCertificate?"已申請":"未申請")+" ",1),u.hasCertificate?(be(),Ae("i",HS)):St("",!0)],2),Be(A,{username:u.username,onFileInputFocus:h.handleFileInputFocus,onFileSelected:h.handleFileSelectedInPopover,onCertificateSaved:h.handleCertificateSaved,onReadingDiscription:h.handleReadingDiscription,onClose:h.handleCertificatePopoverClose},null,8,["username","onFileInputFocus","onFileSelected","onCertificateSaved","onReadingDiscription","onClose"])],544)],2)]),Y("div",MS,[Y("header",jS,[t[13]||(t[13]=Y("div",{class:"navbar-center"},null,-1)),Y("div",LS,[Y("div",{class:"user-menu",onClick:t[4]||(t[4]=(...D)=>h.toggleUserDropdown&&h.toggleUserDropdown(...D))},[Y("span",kS,rt(u.username),1),t[12]||(t[12]=Y("i",{class:"fas fa-caret-down dropdown-arrow"},null,-1))]),u.isUserDropdownOpen?(be(),Ae("div",KS,[Y("a",{href:"#",onClick:t[5]||(t[5]=En((...D)=>h.viewProfile&&h.viewProfile(...D),["prevent"]))},"個人資料"),Y("a",{href:"#",onClick:t[6]||(t[6]=En((...D)=>h.openSettings&&h.openSettings(...D),["prevent"]))},"設定"),Y("a",{href:"#",onClick:t[7]||(t[7]=En((...D)=>h.handleLogout&&h.handleLogout(...D),["prevent"]))},"登出")])):St("",!0)])]),Y("main",VS,[Y("div",US,[u.currentSidebarView==="myFiles"?(be(),Ae("h1",qS,rt("我的檔案"))):u.currentSidebarView==="twoFactorAuth"?(be(),Ae("h1",$S,rt("兩階段驗證"))):St("",!0)]),u.currentSidebarView==="myFiles"?(be(),Di(T,{key:0,files:u.fileList,loading:u.loading,"search-query":u.searchQuery,username:u.username,onDeleteFile:h.deleteFile,onReflash:h.fetchFiles},null,8,["files","loading","search-query","username","onDeleteFile","onReflash"])):u.currentSidebarView==="twoFactorAuth"?(be(),Di(O,{key:1,username:u.username,hasExisting2FA:u.hasTwoFactorAuth,onTwofaChange:h.checkUserTwoFactorAuthStatus},null,8,["username","hasExisting2FA","onTwofaChange"])):St("",!0)])])])}const zS=Er(_S,[["render",WS],["__scopeId","data-v-66e93527"]]),GS=[{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:Av},{path:"/register",name:"Register",component:Bv},{path:"/dashboard",name:"Dashboard",component:zS,beforeEnter:(e,t,i)=>{localStorage.getItem("accessToken")?i():i("/")}}],YS=tg({history:w0(),routes:GS}),kf=Dc(sg);kf.use(YS);kf.mount("#app");
